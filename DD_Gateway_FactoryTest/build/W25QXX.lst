ARM GAS  C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 4
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"W25QXX.c"
  16              		.text
  17              		.section	.text.BSP_W25Qx_GetStatus,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  23              	BSP_W25Qx_GetStatus:
  24              		@ args = 0, pretend = 0, frame = 8
  25              		@ frame_needed = 0, uses_anonymous_args = 0
  26 0000 07B5     		push	{r0, r1, r2, lr}
  27 0002 0523     		movs	r3, #5
  28 0004 0022     		movs	r2, #0
  29 0006 1021     		movs	r1, #16
  30 0008 4FF09040 		mov	r0, #1207959552
  31 000c 8DF80430 		strb	r3, [sp, #4]
  32 0010 FFF7FEFF 		bl	HAL_GPIO_WritePin
  33 0014 01A9     		add	r1, sp, #4
  34 0016 4FF47A73 		mov	r3, #1000
  35 001a 0122     		movs	r2, #1
  36 001c 0C48     		ldr	r0, .L4
  37 001e FFF7FEFF 		bl	HAL_SPI_Transmit
  38 0022 4FF47A73 		mov	r3, #1000
  39 0026 0DF10701 		add	r1, sp, #7
  40 002a 0122     		movs	r2, #1
  41 002c 0848     		ldr	r0, .L4
  42 002e FFF7FEFF 		bl	HAL_SPI_Receive
  43 0032 0122     		movs	r2, #1
  44 0034 1021     		movs	r1, #16
  45 0036 4FF09040 		mov	r0, #1207959552
  46 003a FFF7FEFF 		bl	HAL_GPIO_WritePin
  47 003e 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
  48 0042 10F00100 		ands	r0, r0, #1
  49 0046 18BF     		it	ne
  50 0048 0220     		movne	r0, #2
  51 004a 03B0     		add	sp, sp, #12
  52              		@ sp needed
  53 004c 5DF804FB 		ldr	pc, [sp], #4
  54              	.L5:
  55              		.align	2
  56              	.L4:
  57 0050 00000000 		.word	hspi3
  59              		.section	.text.BSP_W25Qx_Init,"ax",%progbits
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s 			page 2


  60              		.align	1
  61              		.global	BSP_W25Qx_Init
  62              		.syntax unified
  63              		.thumb
  64              		.thumb_func
  66              	BSP_W25Qx_Init:
  67              		@ args = 0, pretend = 0, frame = 8
  68              		@ frame_needed = 0, uses_anonymous_args = 0
  69 0000 07B5     		push	{r0, r1, r2, lr}
  70 0002 49F66613 		movw	r3, #39270
  71 0006 0022     		movs	r2, #0
  72 0008 1021     		movs	r1, #16
  73 000a 4FF09040 		mov	r0, #1207959552
  74 000e ADF80430 		strh	r3, [sp, #4]	@ movhi
  75 0012 FFF7FEFF 		bl	HAL_GPIO_WritePin
  76 0016 4FF47A73 		mov	r3, #1000
  77 001a 01A9     		add	r1, sp, #4
  78 001c 0222     		movs	r2, #2
  79 001e 0748     		ldr	r0, .L7
  80 0020 FFF7FEFF 		bl	HAL_SPI_Transmit
  81 0024 0122     		movs	r2, #1
  82 0026 1021     		movs	r1, #16
  83 0028 4FF09040 		mov	r0, #1207959552
  84 002c FFF7FEFF 		bl	HAL_GPIO_WritePin
  85 0030 03B0     		add	sp, sp, #12
  86              		@ sp needed
  87 0032 5DF804EB 		ldr	lr, [sp], #4
  88 0036 FFF7FEBF 		b	BSP_W25Qx_GetStatus
  89              	.L8:
  90 003a 00BF     		.align	2
  91              	.L7:
  92 003c 00000000 		.word	hspi3
  94              		.section	.text.BSP_W25Qx_WriteEnable,"ax",%progbits
  95              		.align	1
  96              		.global	BSP_W25Qx_WriteEnable
  97              		.syntax unified
  98              		.thumb
  99              		.thumb_func
 101              	BSP_W25Qx_WriteEnable:
 102              		@ args = 0, pretend = 0, frame = 8
 103              		@ frame_needed = 0, uses_anonymous_args = 0
 104 0000 13B5     		push	{r0, r1, r4, lr}
 105 0002 0623     		movs	r3, #6
 106 0004 8DF80430 		strb	r3, [sp, #4]
 107 0008 FFF7FEFF 		bl	HAL_GetTick
 108 000c 0022     		movs	r2, #0
 109 000e 1021     		movs	r1, #16
 110 0010 0446     		mov	r4, r0
 111 0012 4FF09040 		mov	r0, #1207959552
 112 0016 FFF7FEFF 		bl	HAL_GPIO_WritePin
 113 001a 0122     		movs	r2, #1
 114 001c 01A9     		add	r1, sp, #4
 115 001e 0C48     		ldr	r0, .L15
 116 0020 4FF47A73 		mov	r3, #1000
 117 0024 FFF7FEFF 		bl	HAL_SPI_Transmit
 118 0028 0122     		movs	r2, #1
 119 002a 1021     		movs	r1, #16
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s 			page 3


 120 002c 4FF09040 		mov	r0, #1207959552
 121 0030 FFF7FEFF 		bl	HAL_GPIO_WritePin
 122              	.L10:
 123 0034 FFF7FEFF 		bl	BSP_W25Qx_GetStatus
 124 0038 0228     		cmp	r0, #2
 125 003a FBD0     		beq	.L10
 126 003c FFF7FEFF 		bl	HAL_GetTick
 127 0040 001B     		subs	r0, r0, r4
 128 0042 B0F57A7F 		cmp	r0, #1000
 129 0046 8CBF     		ite	hi
 130 0048 0320     		movhi	r0, #3
 131 004a 0020     		movls	r0, #0
 132 004c 02B0     		add	sp, sp, #8
 133              		@ sp needed
 134 004e 10BD     		pop	{r4, pc}
 135              	.L16:
 136              		.align	2
 137              	.L15:
 138 0050 00000000 		.word	hspi3
 140              		.section	.text.BSP_W25Qx_Read_ID,"ax",%progbits
 141              		.align	1
 142              		.global	BSP_W25Qx_Read_ID
 143              		.syntax unified
 144              		.thumb
 145              		.thumb_func
 147              	BSP_W25Qx_Read_ID:
 148              		@ args = 0, pretend = 0, frame = 8
 149              		@ frame_needed = 0, uses_anonymous_args = 0
 150 0000 37B5     		push	{r0, r1, r2, r4, r5, lr}
 151 0002 9023     		movs	r3, #144
 152 0004 0F4D     		ldr	r5, .L18
 153 0006 0193     		str	r3, [sp, #4]
 154 0008 0446     		mov	r4, r0
 155 000a 0022     		movs	r2, #0
 156 000c 1021     		movs	r1, #16
 157 000e 4FF09040 		mov	r0, #1207959552
 158 0012 FFF7FEFF 		bl	HAL_GPIO_WritePin
 159 0016 0422     		movs	r2, #4
 160 0018 0DEB0201 		add	r1, sp, r2
 161 001c 4FF47A73 		mov	r3, #1000
 162 0020 2846     		mov	r0, r5
 163 0022 FFF7FEFF 		bl	HAL_SPI_Transmit
 164 0026 4FF47A73 		mov	r3, #1000
 165 002a 2146     		mov	r1, r4
 166 002c 0222     		movs	r2, #2
 167 002e 2846     		mov	r0, r5
 168 0030 FFF7FEFF 		bl	HAL_SPI_Receive
 169 0034 0122     		movs	r2, #1
 170 0036 1021     		movs	r1, #16
 171 0038 4FF09040 		mov	r0, #1207959552
 172 003c FFF7FEFF 		bl	HAL_GPIO_WritePin
 173 0040 03B0     		add	sp, sp, #12
 174              		@ sp needed
 175 0042 30BD     		pop	{r4, r5, pc}
 176              	.L19:
 177              		.align	2
 178              	.L18:
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s 			page 4


 179 0044 00000000 		.word	hspi3
 181              		.section	.text.BSP_W25Qx_Read_JEDEC_ID,"ax",%progbits
 182              		.align	1
 183              		.global	BSP_W25Qx_Read_JEDEC_ID
 184              		.syntax unified
 185              		.thumb
 186              		.thumb_func
 188              	BSP_W25Qx_Read_JEDEC_ID:
 189              		@ args = 0, pretend = 0, frame = 8
 190              		@ frame_needed = 0, uses_anonymous_args = 0
 191 0000 37B5     		push	{r0, r1, r2, r4, r5, lr}
 192 0002 104D     		ldr	r5, .L21
 193 0004 0446     		mov	r4, r0
 194 0006 9F23     		movs	r3, #159
 195 0008 0022     		movs	r2, #0
 196 000a 1021     		movs	r1, #16
 197 000c 4FF09040 		mov	r0, #1207959552
 198 0010 0193     		str	r3, [sp, #4]
 199 0012 FFF7FEFF 		bl	HAL_GPIO_WritePin
 200 0016 01A9     		add	r1, sp, #4
 201 0018 4FF47A73 		mov	r3, #1000
 202 001c 0122     		movs	r2, #1
 203 001e 2846     		mov	r0, r5
 204 0020 FFF7FEFF 		bl	HAL_SPI_Transmit
 205 0024 4FF47A73 		mov	r3, #1000
 206 0028 2146     		mov	r1, r4
 207 002a 0322     		movs	r2, #3
 208 002c 2846     		mov	r0, r5
 209 002e FFF7FEFF 		bl	HAL_SPI_Receive
 210 0032 0122     		movs	r2, #1
 211 0034 1021     		movs	r1, #16
 212 0036 4FF09040 		mov	r0, #1207959552
 213 003a FFF7FEFF 		bl	HAL_GPIO_WritePin
 214 003e 03B0     		add	sp, sp, #12
 215              		@ sp needed
 216 0040 30BD     		pop	{r4, r5, pc}
 217              	.L22:
 218 0042 00BF     		.align	2
 219              	.L21:
 220 0044 00000000 		.word	hspi3
 222              		.section	.text.BSP_W25Qx_Read,"ax",%progbits
 223              		.align	1
 224              		.global	BSP_W25Qx_Read
 225              		.syntax unified
 226              		.thumb
 227              		.thumb_func
 229              	BSP_W25Qx_Read:
 230              		@ args = 0, pretend = 0, frame = 8
 231              		@ frame_needed = 0, uses_anonymous_args = 0
 232 0000 37B5     		push	{r0, r1, r2, r4, r5, lr}
 233 0002 0323     		movs	r3, #3
 234 0004 8DF80430 		strb	r3, [sp, #4]
 235 0008 0B0C     		lsrs	r3, r1, #16
 236 000a 0446     		mov	r4, r0
 237 000c 1546     		mov	r5, r2
 238 000e 8DF80530 		strb	r3, [sp, #5]
 239 0012 8DF80710 		strb	r1, [sp, #7]
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s 			page 5


 240 0016 0B0A     		lsrs	r3, r1, #8
 241 0018 0022     		movs	r2, #0
 242 001a 1021     		movs	r1, #16
 243 001c 4FF09040 		mov	r0, #1207959552
 244 0020 8DF80630 		strb	r3, [sp, #6]
 245 0024 FFF7FEFF 		bl	HAL_GPIO_WritePin
 246 0028 0422     		movs	r2, #4
 247 002a 0DEB0201 		add	r1, sp, r2
 248 002e 4FF47A73 		mov	r3, #1000
 249 0032 0B48     		ldr	r0, .L26
 250 0034 FFF7FEFF 		bl	HAL_SPI_Transmit
 251 0038 2146     		mov	r1, r4
 252 003a 0948     		ldr	r0, .L26
 253 003c 4FF47A73 		mov	r3, #1000
 254 0040 AAB2     		uxth	r2, r5
 255 0042 FFF7FEFF 		bl	HAL_SPI_Receive
 256 0046 0446     		mov	r4, r0
 257 0048 40B9     		cbnz	r0, .L25
 258 004a 0122     		movs	r2, #1
 259 004c 1021     		movs	r1, #16
 260 004e 4FF09040 		mov	r0, #1207959552
 261 0052 FFF7FEFF 		bl	HAL_GPIO_WritePin
 262              	.L24:
 263 0056 2046     		mov	r0, r4
 264 0058 03B0     		add	sp, sp, #12
 265              		@ sp needed
 266 005a 30BD     		pop	{r4, r5, pc}
 267              	.L25:
 268 005c 0124     		movs	r4, #1
 269 005e FAE7     		b	.L24
 270              	.L27:
 271              		.align	2
 272              	.L26:
 273 0060 00000000 		.word	hspi3
 275              		.section	.text.BSP_W25Qx_Write,"ax",%progbits
 276              		.align	1
 277              		.global	BSP_W25Qx_Write
 278              		.syntax unified
 279              		.thumb
 280              		.thumb_func
 282              	BSP_W25Qx_Write:
 283              		@ args = 0, pretend = 0, frame = 8
 284              		@ frame_needed = 0, uses_anonymous_args = 0
 285 0000 2DE9F74F 		push	{r0, r1, r2, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 286 0004 8046     		mov	r8, r0
 287 0006 0C46     		mov	r4, r1
 288 0008 1646     		mov	r6, r2
 289 000a FFF7FEFF 		bl	HAL_GetTick
 290 000e 0025     		movs	r5, #0
 291 0010 8146     		mov	r9, r0
 292              	.L29:
 293 0012 05F58075 		add	r5, r5, #256
 294 0016 AC42     		cmp	r4, r5
 295 0018 FBD2     		bcs	.L29
 296 001a 2D1B     		subs	r5, r5, r4
 297 001c B542     		cmp	r5, r6
 298 001e DFF89CB0 		ldr	fp, .L41
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s 			page 6


 299 0022 28BF     		it	cs
 300 0024 3546     		movcs	r5, r6
 301 0026 4FF0020A 		mov	r10, #2
 302 002a 2644     		add	r6, r6, r4
 303              	.L34:
 304 002c 230C     		lsrs	r3, r4, #16
 305 002e 8DF80530 		strb	r3, [sp, #5]
 306 0032 230A     		lsrs	r3, r4, #8
 307 0034 8DF80630 		strb	r3, [sp, #6]
 308 0038 8DF804A0 		strb	r10, [sp, #4]
 309 003c 8DF80740 		strb	r4, [sp, #7]
 310 0040 FFF7FEFF 		bl	BSP_W25Qx_WriteEnable
 311 0044 0022     		movs	r2, #0
 312 0046 1021     		movs	r1, #16
 313 0048 4FF09040 		mov	r0, #1207959552
 314 004c FFF7FEFF 		bl	HAL_GPIO_WritePin
 315 0050 0422     		movs	r2, #4
 316 0052 1A48     		ldr	r0, .L41
 317 0054 4FF47A73 		mov	r3, #1000
 318 0058 0DEB0201 		add	r1, sp, r2
 319 005c FFF7FEFF 		bl	HAL_SPI_Transmit
 320 0060 40BB     		cbnz	r0, .L30
 321 0062 4FF47A73 		mov	r3, #1000
 322 0066 AAB2     		uxth	r2, r5
 323 0068 4146     		mov	r1, r8
 324 006a 5846     		mov	r0, fp
 325 006c FFF7FEFF 		bl	HAL_SPI_Transmit
 326 0070 0746     		mov	r7, r0
 327 0072 F8B9     		cbnz	r0, .L30
 328 0074 0122     		movs	r2, #1
 329 0076 1021     		movs	r1, #16
 330 0078 4FF09040 		mov	r0, #1207959552
 331 007c FFF7FEFF 		bl	HAL_GPIO_WritePin
 332              	.L31:
 333 0080 FFF7FEFF 		bl	BSP_W25Qx_GetStatus
 334 0084 0228     		cmp	r0, #2
 335 0086 FBD0     		beq	.L31
 336 0088 FFF7FEFF 		bl	HAL_GetTick
 337 008c A0EB0900 		sub	r0, r0, r9
 338 0090 B0F57A7F 		cmp	r0, #1000
 339 0094 10D8     		bhi	.L35
 340 0096 2C44     		add	r4, r4, r5
 341 0098 04F58073 		add	r3, r4, #256
 342 009c B342     		cmp	r3, r6
 343 009e A844     		add	r8, r8, r5
 344 00a0 8CBF     		ite	hi
 345 00a2 351B     		subhi	r5, r6, r4
 346 00a4 4FF48075 		movls	r5, #256
 347 00a8 A642     		cmp	r6, r4
 348 00aa BFD8     		bhi	.L34
 349              	.L32:
 350 00ac 3846     		mov	r0, r7
 351 00ae 03B0     		add	sp, sp, #12
 352              		@ sp needed
 353 00b0 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 354              	.L30:
 355 00b4 0127     		movs	r7, #1
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s 			page 7


 356 00b6 F9E7     		b	.L32
 357              	.L35:
 358 00b8 0327     		movs	r7, #3
 359 00ba F7E7     		b	.L32
 360              	.L42:
 361              		.align	2
 362              	.L41:
 363 00bc 00000000 		.word	hspi3
 365              		.global	__aeabi_i2d
 366              		.global	__aeabi_dmul
 367              		.global	__aeabi_d2uiz
 368              		.section	.rodata.Flash_Test.str1.1,"aMS",%progbits,1
 369              	.LC2:
 370 0000 4D616E75 		.ascii	"Manu_ID:0x%02x,Dev_ID:0x%02x\015\012Manu_Identi:0x%"
 370      5F49443A 
 370      30782530 
 370      32782C44 
 370      65765F49 
 371 002d 3032782C 		.ascii	"02x,Memory_Type:0x%02x\015\012Capacity:0x%02x = %dK"
 371      4D656D6F 
 371      72795F54 
 371      7970653A 
 371      30782530 
 372 005a 2D426974 		.ascii	"-Bit = %d.%02dM-Bit\015\012\000"
 372      203D2025 
 372      642E2530 
 372      32644D2D 
 372      4269740D 
 373              	.LC3:
 374 0070 466C6173 		.ascii	"Flash Test OK\015\012\000"
 374      68205465 
 374      7374204F 
 374      4B0D0A00 
 375              	.LC4:
 376 0080 466C6173 		.ascii	"Flash Test Failed\015\012\000"
 376      68205465 
 376      73742046 
 376      61696C65 
 376      640D0A00 
 377              	.LC1:
 378 0094 68656C6C 		.ascii	"helloflash\000"
 378      6F666C61 
 378      736800
 379              		.section	.text.Flash_Test,"ax",%progbits
 380              		.align	1
 381              		.global	Flash_Test
 382              		.syntax unified
 383              		.thumb
 384              		.thumb_func
 386              	Flash_Test:
 387              		@ args = 0, pretend = 0, frame = 40
 388              		@ frame_needed = 0, uses_anonymous_args = 0
 389 0000 10B5     		push	{r4, lr}
 390 0002 434B     		ldr	r3, .L47+8
 391 0004 434C     		ldr	r4, .L47+12
 392 0006 1B88     		ldrh	r3, [r3]	@ unaligned
 393 0008 2068     		ldr	r0, [r4]	@ unaligned
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s 			page 8


 394 000a 6168     		ldr	r1, [r4, #4]	@ unaligned
 395 000c 90B0     		sub	sp, sp, #64
 396 000e 0022     		movs	r2, #0
 397 0010 ADF82430 		strh	r3, [sp, #36]	@ unaligned
 398 0014 0DAB     		add	r3, sp, #52
 399 0016 03C3     		stmia	r3!, {r0, r1}
 400 0018 2089     		ldrh	r0, [r4, #8]	@ unaligned
 401 001a 1880     		strh	r0, [r3]	@ unaligned
 402 001c A17A     		ldrb	r1, [r4, #10]	@ zero_extendqisi2
 403 001e ADF82020 		strh	r2, [sp, #32]	@ movhi
 404 0022 08A8     		add	r0, sp, #32
 405 0024 CDE90A22 		strd	r2, r2, [sp, #40]
 406 0028 8DF82620 		strb	r2, [sp, #38]
 407 002c 9970     		strb	r1, [r3, #2]
 408 002e ADF83020 		strh	r2, [sp, #48]	@ movhi
 409 0032 FFF7FEFF 		bl	BSP_W25Qx_Read_ID
 410 0036 09A8     		add	r0, sp, #36
 411 0038 FFF7FEFF 		bl	BSP_W25Qx_Read_JEDEC_ID
 412 003c 9DF82600 		ldrb	r0, [sp, #38]	@ zero_extendqisi2
 413 0040 0A38     		subs	r0, r0, #10
 414 0042 FFF7FEFF 		bl	__aeabi_i2d
 415 0046 9FED300B 		vldr.64	d0, .L47
 416 004a 41EC110B 		vmov	d1, r0, r1
 417 004e FFF7FEFF 		bl	pow
 418 0052 314B     		ldr	r3, .L47+16
 419 0054 51EC100B 		vmov	r0, r1, d0
 420 0058 0022     		movs	r2, #0
 421 005a FFF7FEFF 		bl	__aeabi_dmul
 422 005e FFF7FEFF 		bl	__aeabi_d2uiz
 423 0062 07EE100A 		vmov	s14, r0	@ int
 424 0066 DFED2D7A 		vldr.32	s15, .L47+20
 425 006a 0390     		str	r0, [sp, #12]
 426 006c BBEECB7A 		vcvt.f32.u32	s14, s14, #10
 427 0070 6422     		movs	r2, #100
 428 0072 67EE277A 		vmul.f32	s15, s14, s15
 429 0076 BCEEC77A 		vcvt.u32.f32	s14, s14
 430 007a FCEEE77A 		vcvt.u32.f32	s15, s15
 431 007e 8DED047A 		vstr.32	s14, [sp, #16]	@ int
 432 0082 17EE903A 		vmov	r3, s15	@ int
 433 0086 B3FBF2F1 		udiv	r1, r3, r2
 434 008a 02FB1133 		mls	r3, r2, r1, r3
 435 008e 0593     		str	r3, [sp, #20]
 436 0090 9DF82630 		ldrb	r3, [sp, #38]	@ zero_extendqisi2
 437 0094 0293     		str	r3, [sp, #8]
 438 0096 9DF82530 		ldrb	r3, [sp, #37]	@ zero_extendqisi2
 439 009a 0193     		str	r3, [sp, #4]
 440 009c 9DF82430 		ldrb	r3, [sp, #36]	@ zero_extendqisi2
 441 00a0 9DF82020 		ldrb	r2, [sp, #32]	@ zero_extendqisi2
 442 00a4 1E49     		ldr	r1, .L47+24
 443 00a6 0093     		str	r3, [sp]
 444 00a8 0446     		mov	r4, r0
 445 00aa 9DF82130 		ldrb	r3, [sp, #33]	@ zero_extendqisi2
 446 00ae 1D48     		ldr	r0, .L47+28
 447 00b0 FFF7FEFF 		bl	shellPrint
 448 00b4 A102     		lsls	r1, r4, #10
 449 00b6 0A39     		subs	r1, r1, #10
 450 00b8 0A22     		movs	r2, #10
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s 			page 9


 451 00ba 0DA8     		add	r0, sp, #52
 452 00bc 0791     		str	r1, [sp, #28]
 453 00be FFF7FEFF 		bl	BSP_W25Qx_Write
 454 00c2 3220     		movs	r0, #50
 455 00c4 FFF7FEFF 		bl	Delay_ms
 456 00c8 0799     		ldr	r1, [sp, #28]
 457 00ca 0A22     		movs	r2, #10
 458 00cc 0AA8     		add	r0, sp, #40
 459 00ce FFF7FEFF 		bl	BSP_W25Qx_Read
 460 00d2 0DA9     		add	r1, sp, #52
 461 00d4 0AA8     		add	r0, sp, #40
 462 00d6 FFF7FEFF 		bl	strcmp
 463 00da 60B9     		cbnz	r0, .L44
 464 00dc 1249     		ldr	r1, .L47+32
 465 00de 1148     		ldr	r0, .L47+28
 466 00e0 FFF7FEFF 		bl	shellPrint
 467 00e4 114A     		ldr	r2, .L47+36
 468              	.L46:
 469 00e6 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 470 00e8 0133     		adds	r3, r3, #1
 471 00ea 1370     		strb	r3, [r2]
 472 00ec 0A20     		movs	r0, #10
 473 00ee FFF7FEFF 		bl	Delay_ms
 474 00f2 10B0     		add	sp, sp, #64
 475              		@ sp needed
 476 00f4 10BD     		pop	{r4, pc}
 477              	.L44:
 478 00f6 0E49     		ldr	r1, .L47+40
 479 00f8 0A48     		ldr	r0, .L47+28
 480 00fa FFF7FEFF 		bl	shellPrint
 481 00fe 0D4A     		ldr	r2, .L47+44
 482 0100 F1E7     		b	.L46
 483              	.L48:
 484 0102 00BFAFF3 		.align	3
 484      0080
 485              	.L47:
 486 0108 00000000 		.word	0
 487 010c 00000040 		.word	1073741824
 488 0110 00000000 		.word	.LANCHOR0
 489 0114 94000000 		.word	.LC1
 490 0118 00002040 		.word	1075838976
 491 011c 0000C842 		.word	1120403456
 492 0120 00000000 		.word	.LC2
 493 0124 00000000 		.word	shell
 494 0128 70000000 		.word	.LC3
 495 012c 00000000 		.word	test_ok_cnt
 496 0130 80000000 		.word	.LC4
 497 0134 00000000 		.word	test_error_cnt
 499              		.section	.text.BSP_W25Qx_Erase_Page,"ax",%progbits
 500              		.align	1
 501              		.global	BSP_W25Qx_Erase_Page
 502              		.syntax unified
 503              		.thumb
 504              		.thumb_func
 506              	BSP_W25Qx_Erase_Page:
 507              		@ args = 0, pretend = 0, frame = 8
 508              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s 			page 10


 509 0000 37B5     		push	{r0, r1, r2, r4, r5, lr}
 510 0002 0446     		mov	r4, r0
 511 0004 FFF7FEFF 		bl	HAL_GetTick
 512 0008 8123     		movs	r3, #129
 513 000a 8DF80430 		strb	r3, [sp, #4]
 514 000e 230C     		lsrs	r3, r4, #16
 515 0010 8DF80530 		strb	r3, [sp, #5]
 516 0014 230A     		lsrs	r3, r4, #8
 517 0016 8DF80630 		strb	r3, [sp, #6]
 518 001a 0546     		mov	r5, r0
 519 001c 8DF80740 		strb	r4, [sp, #7]
 520 0020 FFF7FEFF 		bl	BSP_W25Qx_WriteEnable
 521 0024 0022     		movs	r2, #0
 522 0026 1021     		movs	r1, #16
 523 0028 4FF09040 		mov	r0, #1207959552
 524 002c FFF7FEFF 		bl	HAL_GPIO_WritePin
 525 0030 0422     		movs	r2, #4
 526 0032 0DEB0201 		add	r1, sp, r2
 527 0036 0D48     		ldr	r0, .L55
 528 0038 4FF47A73 		mov	r3, #1000
 529 003c FFF7FEFF 		bl	HAL_SPI_Transmit
 530 0040 0122     		movs	r2, #1
 531 0042 1021     		movs	r1, #16
 532 0044 4FF09040 		mov	r0, #1207959552
 533 0048 FFF7FEFF 		bl	HAL_GPIO_WritePin
 534              	.L50:
 535 004c FFF7FEFF 		bl	BSP_W25Qx_GetStatus
 536 0050 0228     		cmp	r0, #2
 537 0052 FBD0     		beq	.L50
 538 0054 FFF7FEFF 		bl	HAL_GetTick
 539 0058 40F6B833 		movw	r3, #3000
 540 005c 401B     		subs	r0, r0, r5
 541 005e 9842     		cmp	r0, r3
 542 0060 8CBF     		ite	hi
 543 0062 0320     		movhi	r0, #3
 544 0064 0020     		movls	r0, #0
 545 0066 03B0     		add	sp, sp, #12
 546              		@ sp needed
 547 0068 30BD     		pop	{r4, r5, pc}
 548              	.L56:
 549 006a 00BF     		.align	2
 550              	.L55:
 551 006c 00000000 		.word	hspi3
 553              		.section	.text.BSP_W25Qx_Erase_Block,"ax",%progbits
 554              		.align	1
 555              		.global	BSP_W25Qx_Erase_Block
 556              		.syntax unified
 557              		.thumb
 558              		.thumb_func
 560              	BSP_W25Qx_Erase_Block:
 561              		@ args = 0, pretend = 0, frame = 8
 562              		@ frame_needed = 0, uses_anonymous_args = 0
 563 0000 37B5     		push	{r0, r1, r2, r4, r5, lr}
 564 0002 0446     		mov	r4, r0
 565 0004 FFF7FEFF 		bl	HAL_GetTick
 566 0008 2023     		movs	r3, #32
 567 000a 8DF80430 		strb	r3, [sp, #4]
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s 			page 11


 568 000e 230C     		lsrs	r3, r4, #16
 569 0010 8DF80530 		strb	r3, [sp, #5]
 570 0014 230A     		lsrs	r3, r4, #8
 571 0016 8DF80630 		strb	r3, [sp, #6]
 572 001a 0546     		mov	r5, r0
 573 001c 8DF80740 		strb	r4, [sp, #7]
 574 0020 FFF7FEFF 		bl	BSP_W25Qx_WriteEnable
 575 0024 0022     		movs	r2, #0
 576 0026 1021     		movs	r1, #16
 577 0028 4FF09040 		mov	r0, #1207959552
 578 002c FFF7FEFF 		bl	HAL_GPIO_WritePin
 579 0030 0422     		movs	r2, #4
 580 0032 0DEB0201 		add	r1, sp, r2
 581 0036 0D48     		ldr	r0, .L63
 582 0038 4FF47A73 		mov	r3, #1000
 583 003c FFF7FEFF 		bl	HAL_SPI_Transmit
 584 0040 0122     		movs	r2, #1
 585 0042 1021     		movs	r1, #16
 586 0044 4FF09040 		mov	r0, #1207959552
 587 0048 FFF7FEFF 		bl	HAL_GPIO_WritePin
 588              	.L58:
 589 004c FFF7FEFF 		bl	BSP_W25Qx_GetStatus
 590 0050 0228     		cmp	r0, #2
 591 0052 FBD0     		beq	.L58
 592 0054 FFF7FEFF 		bl	HAL_GetTick
 593 0058 40F6B833 		movw	r3, #3000
 594 005c 401B     		subs	r0, r0, r5
 595 005e 9842     		cmp	r0, r3
 596 0060 8CBF     		ite	hi
 597 0062 0320     		movhi	r0, #3
 598 0064 0020     		movls	r0, #0
 599 0066 03B0     		add	sp, sp, #12
 600              		@ sp needed
 601 0068 30BD     		pop	{r4, r5, pc}
 602              	.L64:
 603 006a 00BF     		.align	2
 604              	.L63:
 605 006c 00000000 		.word	hspi3
 607              		.section	.text.BSP_W25Qx_Erase_Chip,"ax",%progbits
 608              		.align	1
 609              		.global	BSP_W25Qx_Erase_Chip
 610              		.syntax unified
 611              		.thumb
 612              		.thumb_func
 614              	BSP_W25Qx_Erase_Chip:
 615              		@ args = 0, pretend = 0, frame = 8
 616              		@ frame_needed = 0, uses_anonymous_args = 0
 617 0000 13B5     		push	{r0, r1, r4, lr}
 618 0002 FFF7FEFF 		bl	HAL_GetTick
 619 0006 2023     		movs	r3, #32
 620 0008 8DF80430 		strb	r3, [sp, #4]
 621 000c 0446     		mov	r4, r0
 622 000e FFF7FEFF 		bl	BSP_W25Qx_WriteEnable
 623 0012 0022     		movs	r2, #0
 624 0014 1021     		movs	r1, #16
 625 0016 4FF09040 		mov	r0, #1207959552
 626 001a FFF7FEFF 		bl	HAL_GPIO_WritePin
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s 			page 12


 627 001e 0122     		movs	r2, #1
 628 0020 01A9     		add	r1, sp, #4
 629 0022 0C48     		ldr	r0, .L70
 630 0024 4FF47A73 		mov	r3, #1000
 631 0028 FFF7FEFF 		bl	HAL_SPI_Transmit
 632 002c 0122     		movs	r2, #1
 633 002e 1021     		movs	r1, #16
 634 0030 4FF09040 		mov	r0, #1207959552
 635 0034 FFF7FEFF 		bl	HAL_GPIO_WritePin
 636              	.L66:
 637 0038 FFF7FEFF 		bl	BSP_W25Qx_GetStatus
 638 003c 0228     		cmp	r0, #2
 639 003e FBD1     		bne	.L66
 640 0040 FFF7FEFF 		bl	HAL_GetTick
 641 0044 044B     		ldr	r3, .L70+4
 642 0046 001B     		subs	r0, r0, r4
 643 0048 9842     		cmp	r0, r3
 644 004a 8CBF     		ite	hi
 645 004c 0320     		movhi	r0, #3
 646 004e 0020     		movls	r0, #0
 647 0050 02B0     		add	sp, sp, #8
 648              		@ sp needed
 649 0052 10BD     		pop	{r4, pc}
 650              	.L71:
 651              		.align	2
 652              	.L70:
 653 0054 00000000 		.word	hspi3
 654 0058 90D00300 		.word	250000
 656              		.global	shellCommandflash_test
 657              		.global	shellDescflash_test
 658              		.global	shellCmdflash_test
 659              		.section	.rodata
 660              		.set	.LANCHOR0,. + 0
 661              	.LC0:
 662 0000 0000     		.ascii	"\000\000"
 663 0002 00       		.space	1
 664              		.section	.rodata.shellCmdflash_test,"a"
 667              	shellCmdflash_test:
 668 0000 666C6173 		.ascii	"flash_test\000"
 668      685F7465 
 668      737400
 669              		.section	.rodata.shellDescflash_test,"a"
 672              	shellDescflash_test:
 673 0000 72656164 		.ascii	"read flash info and w/r test\000"
 673      20666C61 
 673      73682069 
 673      6E666F20 
 673      616E6420 
 674              		.section	shellCommand,"a"
 677              	shellCommandflash_test:
 678 0000 00210000 		.4byte	8448
 679 0004 00000000 		.4byte	shellCmdflash_test
 680 0008 00000000 		.4byte	Flash_Test
 681 000c 00000000 		.4byte	shellDescflash_test
 682              		.ident	"GCC: (GNU Arm Embedded Toolchain 10.3-2021.10) 10.3.1 20210824 (release)"
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s 			page 13


DEFINED SYMBOLS
                            *ABS*:00000000 W25QXX.c
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:18     .text.BSP_W25Qx_GetStatus:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:23     .text.BSP_W25Qx_GetStatus:00000000 BSP_W25Qx_GetStatus
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:57     .text.BSP_W25Qx_GetStatus:00000050 $d
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:60     .text.BSP_W25Qx_Init:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:66     .text.BSP_W25Qx_Init:00000000 BSP_W25Qx_Init
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:92     .text.BSP_W25Qx_Init:0000003c $d
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:95     .text.BSP_W25Qx_WriteEnable:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:101    .text.BSP_W25Qx_WriteEnable:00000000 BSP_W25Qx_WriteEnable
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:138    .text.BSP_W25Qx_WriteEnable:00000050 $d
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:141    .text.BSP_W25Qx_Read_ID:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:147    .text.BSP_W25Qx_Read_ID:00000000 BSP_W25Qx_Read_ID
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:179    .text.BSP_W25Qx_Read_ID:00000044 $d
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:182    .text.BSP_W25Qx_Read_JEDEC_ID:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:188    .text.BSP_W25Qx_Read_JEDEC_ID:00000000 BSP_W25Qx_Read_JEDEC_ID
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:220    .text.BSP_W25Qx_Read_JEDEC_ID:00000044 $d
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:223    .text.BSP_W25Qx_Read:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:229    .text.BSP_W25Qx_Read:00000000 BSP_W25Qx_Read
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:273    .text.BSP_W25Qx_Read:00000060 $d
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:276    .text.BSP_W25Qx_Write:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:282    .text.BSP_W25Qx_Write:00000000 BSP_W25Qx_Write
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:363    .text.BSP_W25Qx_Write:000000bc $d
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:380    .text.Flash_Test:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:386    .text.Flash_Test:00000000 Flash_Test
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:486    .text.Flash_Test:00000108 $d
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:500    .text.BSP_W25Qx_Erase_Page:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:506    .text.BSP_W25Qx_Erase_Page:00000000 BSP_W25Qx_Erase_Page
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:551    .text.BSP_W25Qx_Erase_Page:0000006c $d
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:554    .text.BSP_W25Qx_Erase_Block:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:560    .text.BSP_W25Qx_Erase_Block:00000000 BSP_W25Qx_Erase_Block
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:605    .text.BSP_W25Qx_Erase_Block:0000006c $d
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:608    .text.BSP_W25Qx_Erase_Chip:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:614    .text.BSP_W25Qx_Erase_Chip:00000000 BSP_W25Qx_Erase_Chip
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:653    .text.BSP_W25Qx_Erase_Chip:00000054 $d
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:677    shellCommand:00000000 shellCommandflash_test
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:672    .rodata.shellDescflash_test:00000000 shellDescflash_test
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:667    .rodata.shellCmdflash_test:00000000 shellCmdflash_test
C:\Users\CL\AppData\Local\Temp\ccbUMwuI.s:663    .rodata:00000002 $d

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
HAL_SPI_Transmit
HAL_SPI_Receive
hspi3
HAL_GetTick
__aeabi_i2d
__aeabi_dmul
__aeabi_d2uiz
pow
shellPrint
Delay_ms
strcmp
shell
test_ok_cnt
test_error_cnt
