ARM GAS  C:\Users\CL\AppData\Local\Temp\ccQKEo7Z.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 4
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"ATGM332D.c"
  16              		.text
  17              		.section	.text.atgm_io_init,"ax",%progbits
  18              		.align	1
  19              		.global	atgm_io_init
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	atgm_io_init:
  25              		@ args = 0, pretend = 0, frame = 24
  26              		@ frame_needed = 0, uses_anonymous_args = 0
  27 0000 30B5     		push	{r4, r5, lr}
  28 0002 0025     		movs	r5, #0
  29 0004 87B0     		sub	sp, sp, #28
  30 0006 CDE90355 		strd	r5, r5, [sp, #12]
  31 000a 0D4B     		ldr	r3, .L2
  32 000c 0595     		str	r5, [sp, #20]
  33 000e DA6C     		ldr	r2, [r3, #76]
  34 0010 42F00102 		orr	r2, r2, #1
  35 0014 DA64     		str	r2, [r3, #76]
  36 0016 DB6C     		ldr	r3, [r3, #76]
  37 0018 03F00103 		and	r3, r3, #1
  38 001c 0093     		str	r3, [sp]
  39 001e 0446     		mov	r4, r0
  40 0020 009B     		ldr	r3, [sp]
  41 0022 038B     		ldrh	r3, [r0, #24]
  42 0024 0193     		str	r3, [sp, #4]
  43 0026 01A9     		add	r1, sp, #4
  44 0028 0123     		movs	r3, #1
  45 002a 4069     		ldr	r0, [r0, #20]
  46 002c 0293     		str	r3, [sp, #8]
  47 002e FFF7FEFF 		bl	HAL_GPIO_Init
  48 0032 218B     		ldrh	r1, [r4, #24]
  49 0034 6069     		ldr	r0, [r4, #20]
  50 0036 2A46     		mov	r2, r5
  51 0038 FFF7FEFF 		bl	HAL_GPIO_WritePin
  52 003c 07B0     		add	sp, sp, #28
  53              		@ sp needed
  54 003e 30BD     		pop	{r4, r5, pc}
  55              	.L3:
  56              		.align	2
  57              	.L2:
  58 0040 00100240 		.word	1073876992
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccQKEo7Z.s 			page 2


  60              		.section	.text.atgm_open,"ax",%progbits
  61              		.align	1
  62              		.global	atgm_open
  63              		.syntax unified
  64              		.thumb
  65              		.thumb_func
  67              	atgm_open:
  68              		@ args = 0, pretend = 0, frame = 0
  69              		@ frame_needed = 0, uses_anonymous_args = 0
  70 0000 10B5     		push	{r4, lr}
  71 0002 0649     		ldr	r1, .L7
  72 0004 FFF7FEFF 		bl	strcmp
  73 0008 0446     		mov	r4, r0
  74 000a 20B9     		cbnz	r0, .L6
  75 000c 0348     		ldr	r0, .L7
  76 000e FFF7FEFF 		bl	atgm_io_init
  77              	.L4:
  78 0012 2046     		mov	r0, r4
  79 0014 10BD     		pop	{r4, pc}
  80              	.L6:
  81 0016 4FF0FF34 		mov	r4, #-1
  82 001a FAE7     		b	.L4
  83              	.L8:
  84              		.align	2
  85              	.L7:
  86 001c 00000000 		.word	.LANCHOR0
  88              		.section	.text.atgm_read,"ax",%progbits
  89              		.align	1
  90              		.global	atgm_read
  91              		.syntax unified
  92              		.thumb
  93              		.thumb_func
  95              	atgm_read:
  96              		@ args = 0, pretend = 0, frame = 0
  97              		@ frame_needed = 0, uses_anonymous_args = 0
  98 0000 0346     		mov	r3, r0
  99 0002 10B5     		push	{r4, lr}
 100 0004 0846     		mov	r0, r1
 101 0006 5BB9     		cbnz	r3, .L12
 102 0008 074B     		ldr	r3, .L16
 103 000a 1C8C     		ldrh	r4, [r3, #32]
 104 000c 12B1     		cbz	r2, .L11
 105 000e 9442     		cmp	r4, r2
 106 0010 28BF     		it	cs
 107 0012 1446     		movcs	r4, r2
 108              	.L11:
 109 0014 D969     		ldr	r1, [r3, #28]
 110 0016 2246     		mov	r2, r4
 111 0018 FFF7FEFF 		bl	memcpy
 112 001c 2046     		mov	r0, r4
 113              	.L9:
 114 001e 10BD     		pop	{r4, pc}
 115              	.L12:
 116 0020 4FF0FF30 		mov	r0, #-1
 117 0024 FBE7     		b	.L9
 118              	.L17:
 119 0026 00BF     		.align	2
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccQKEo7Z.s 			page 3


 120              	.L16:
 121 0028 00000000 		.word	.LANCHOR0
 123              		.section	.rodata.BDS_Test.str1.1,"aMS",%progbits,1
 124              	.LC0:
 125 0000 72656164 		.ascii	"read\000"
 125      00
 126              	.LC1:
 127 0005 4154474D 		.ascii	"ATGM332D Test OK\015\012\000"
 127      33333244 
 127      20546573 
 127      74204F4B 
 127      0D0A00
 128              	.LC2:
 129 0018 4154474D 		.ascii	"ATGM332D Test Failed\015\012\000"
 129      33333244 
 129      20546573 
 129      74204661 
 129      696C6564 
 130              		.section	.text.BDS_Test,"ax",%progbits
 131              		.align	1
 132              		.global	BDS_Test
 133              		.syntax unified
 134              		.thumb
 135              		.thumb_func
 137              	BDS_Test:
 138              		@ args = 4, pretend = 16, frame = 208
 139              		@ frame_needed = 0, uses_anonymous_args = 1
 140 0000 0FB4     		push	{r0, r1, r2, r3}
 141 0002 00B5     		push	{lr}
 142 0004 B5B0     		sub	sp, sp, #212
 143 0006 1649     		ldr	r1, .L23
 144 0008 3698     		ldr	r0, [sp, #216]
 145 000a FFF7FEFF 		bl	strcmp
 146 000e E0B9     		cbnz	r0, .L18
 147 0010 37AB     		add	r3, sp, #220
 148 0012 0193     		str	r3, [sp, #4]
 149 0014 134B     		ldr	r3, .L23+4
 150 0016 BDF8DC20 		ldrh	r2, [sp, #220]
 151 001a 1868     		ldr	r0, [r3]
 152 001c 02A9     		add	r1, sp, #8
 153 001e FFF7FEFF 		bl	atgm_read
 154 0022 80B2     		uxth	r0, r0
 155 0024 B0B1     		cbz	r0, .L20
 156 0026 02A9     		add	r1, sp, #8
 157 0028 0F48     		ldr	r0, .L23+8
 158 002a FFF7FEFF 		bl	shellPrint
 159 002e 0A20     		movs	r0, #10
 160 0030 FFF7FEFF 		bl	Delay_ms
 161 0034 0D49     		ldr	r1, .L23+12
 162 0036 0C48     		ldr	r0, .L23+8
 163 0038 FFF7FEFF 		bl	shellPrint
 164 003c 0C4A     		ldr	r2, .L23+16
 165              	.L22:
 166 003e 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 167 0040 0133     		adds	r3, r3, #1
 168 0042 1370     		strb	r3, [r2]
 169 0044 0A20     		movs	r0, #10
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccQKEo7Z.s 			page 4


 170 0046 FFF7FEFF 		bl	Delay_ms
 171              	.L18:
 172 004a 35B0     		add	sp, sp, #212
 173              		@ sp needed
 174 004c 5DF804EB 		ldr	lr, [sp], #4
 175 0050 04B0     		add	sp, sp, #16
 176 0052 7047     		bx	lr
 177              	.L20:
 178 0054 0749     		ldr	r1, .L23+20
 179 0056 0448     		ldr	r0, .L23+8
 180 0058 FFF7FEFF 		bl	shellPrint
 181 005c 064A     		ldr	r2, .L23+24
 182 005e EEE7     		b	.L22
 183              	.L24:
 184              		.align	2
 185              	.L23:
 186 0060 00000000 		.word	.LC0
 187 0064 00000000 		.word	.LANCHOR1
 188 0068 00000000 		.word	shell
 189 006c 05000000 		.word	.LC1
 190 0070 00000000 		.word	test_ok_cnt
 191 0074 18000000 		.word	.LC2
 192 0078 00000000 		.word	test_error_cnt
 194              		.section	.text.atgm_handler,"ax",%progbits
 195              		.align	1
 196              		.global	atgm_handler
 197              		.syntax unified
 198              		.thumb
 199              		.thumb_func
 201              	atgm_handler:
 202              		@ args = 0, pretend = 0, frame = 0
 203              		@ frame_needed = 0, uses_anonymous_args = 0
 204 0000 38B5     		push	{r3, r4, r5, lr}
 205 0002 064D     		ldr	r5, .L27
 206 0004 2B69     		ldr	r3, [r5, #16]
 207 0006 8342     		cmp	r3, r0
 208 0008 07D1     		bne	.L25
 209 000a C82A     		cmp	r2, #200
 210 000c 28BF     		it	cs
 211 000e C822     		movcs	r2, #200
 212 0010 1446     		mov	r4, r2
 213 0012 E869     		ldr	r0, [r5, #28]
 214 0014 FFF7FEFF 		bl	memcpy
 215 0018 2C84     		strh	r4, [r5, #32]	@ movhi
 216              	.L25:
 217 001a 38BD     		pop	{r3, r4, r5, pc}
 218              	.L28:
 219              		.align	2
 220              	.L27:
 221 001c 00000000 		.word	.LANCHOR0
 223              		.global	shellCommandbds_test
 224              		.global	shellDescbds_test
 225              		.global	shellCmdbds_test
 226              		.global	atgm_dev
 227              		.global	dev0_buff
 228              		.global	bds_dev
 229              		.section	.data.atgm_dev,"aw"
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccQKEo7Z.s 			page 5


 230              		.align	2
 231              		.set	.LANCHOR0,. + 0
 234              	atgm_dev:
 235 0000 75617274 		.ascii	"uart2/bds_0\000"
 235      322F6264 
 235      735F3000 
 236 000c 000000   		.space	3
 237 000f 00       		.space	1
 238 0010 00000000 		.word	huart2
 239 0014 00000048 		.word	1207959552
 240 0018 0400     		.short	4
 241 001a 0000     		.space	2
 242 001c 00000000 		.word	dev0_buff
 243 0020 0000     		.short	0
 244 0022 C800     		.short	200
 245              		.section	.data.bds_dev,"aw"
 246              		.align	2
 247              		.set	.LANCHOR1,. + 0
 250              	bds_dev:
 251 0000 FFFFFFFF 		.word	-1
 252              		.section	.data.dev0_buff,"aw"
 255              	dev0_buff:
 256 0000 FF00     		.ascii	"\377\000"
 257 0002 00000000 		.space	198
 257      00000000 
 257      00000000 
 257      00000000 
 257      00000000 
 258              		.section	.rodata.shellCmdbds_test,"a"
 261              	shellCmdbds_test:
 262 0000 6264735F 		.ascii	"bds_test\000"
 262      74657374 
 262      00
 263              		.section	.rodata.shellDescbds_test,"a"
 266              	shellDescbds_test:
 267 0000 6264735F 		.ascii	"bds_dev test\000"
 267      64657620 
 267      74657374 
 267      00
 268              		.section	shellCommand,"a"
 271              	shellCommandbds_test:
 272 0000 00210000 		.4byte	8448
 273 0004 00000000 		.4byte	shellCmdbds_test
 274 0008 00000000 		.4byte	BDS_Test
 275 000c 00000000 		.4byte	shellDescbds_test
 276              		.ident	"GCC: (GNU Arm Embedded Toolchain 10.3-2021.10) 10.3.1 20210824 (release)"
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccQKEo7Z.s 			page 6


DEFINED SYMBOLS
                            *ABS*:00000000 ATGM332D.c
C:\Users\CL\AppData\Local\Temp\ccQKEo7Z.s:18     .text.atgm_io_init:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccQKEo7Z.s:24     .text.atgm_io_init:00000000 atgm_io_init
C:\Users\CL\AppData\Local\Temp\ccQKEo7Z.s:58     .text.atgm_io_init:00000040 $d
C:\Users\CL\AppData\Local\Temp\ccQKEo7Z.s:61     .text.atgm_open:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccQKEo7Z.s:67     .text.atgm_open:00000000 atgm_open
C:\Users\CL\AppData\Local\Temp\ccQKEo7Z.s:86     .text.atgm_open:0000001c $d
C:\Users\CL\AppData\Local\Temp\ccQKEo7Z.s:89     .text.atgm_read:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccQKEo7Z.s:95     .text.atgm_read:00000000 atgm_read
C:\Users\CL\AppData\Local\Temp\ccQKEo7Z.s:121    .text.atgm_read:00000028 $d
C:\Users\CL\AppData\Local\Temp\ccQKEo7Z.s:131    .text.BDS_Test:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccQKEo7Z.s:137    .text.BDS_Test:00000000 BDS_Test
C:\Users\CL\AppData\Local\Temp\ccQKEo7Z.s:186    .text.BDS_Test:00000060 $d
C:\Users\CL\AppData\Local\Temp\ccQKEo7Z.s:195    .text.atgm_handler:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccQKEo7Z.s:201    .text.atgm_handler:00000000 atgm_handler
C:\Users\CL\AppData\Local\Temp\ccQKEo7Z.s:221    .text.atgm_handler:0000001c $d
C:\Users\CL\AppData\Local\Temp\ccQKEo7Z.s:271    shellCommand:00000000 shellCommandbds_test
C:\Users\CL\AppData\Local\Temp\ccQKEo7Z.s:266    .rodata.shellDescbds_test:00000000 shellDescbds_test
C:\Users\CL\AppData\Local\Temp\ccQKEo7Z.s:261    .rodata.shellCmdbds_test:00000000 shellCmdbds_test
C:\Users\CL\AppData\Local\Temp\ccQKEo7Z.s:234    .data.atgm_dev:00000000 atgm_dev
C:\Users\CL\AppData\Local\Temp\ccQKEo7Z.s:255    .data.dev0_buff:00000000 dev0_buff
C:\Users\CL\AppData\Local\Temp\ccQKEo7Z.s:250    .data.bds_dev:00000000 bds_dev
C:\Users\CL\AppData\Local\Temp\ccQKEo7Z.s:230    .data.atgm_dev:00000000 $d
C:\Users\CL\AppData\Local\Temp\ccQKEo7Z.s:246    .data.bds_dev:00000000 $d
C:\Users\CL\AppData\Local\Temp\ccQKEo7Z.s:257    .data.dev0_buff:00000002 $d

UNDEFINED SYMBOLS
HAL_GPIO_Init
HAL_GPIO_WritePin
strcmp
memcpy
shellPrint
Delay_ms
shell
test_ok_cnt
test_error_cnt
huart2
