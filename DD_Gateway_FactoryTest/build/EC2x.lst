ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"EC2x.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.ec2x_io_init,"ax",%progbits
  20              		.align	1
  21              		.global	ec2x_io_init
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	ec2x_io_init:
  27              	.LVL0:
  28              	.LFB291:
  29              		.file 1 "FML/Src/EC2x.c"
   1:FML/Src/EC2x.c **** /**
   2:FML/Src/EC2x.c ****  ******************************************************************************
   3:FML/Src/EC2x.c **** *
   4:FML/Src/EC2x.c **** * @file   
   5:FML/Src/EC2x.c **** *
   6:FML/Src/EC2x.c **** * @brief   
   7:FML/Src/EC2x.c **** *
   8:FML/Src/EC2x.c **** * @attention
   9:FML/Src/EC2x.c **** *
  10:FML/Src/EC2x.c **** *Copyright (c) 2023 STMicroelectronics.
  11:FML/Src/EC2x.c **** *
  12:FML/Src/EC2x.c **** *All rights reserved.
  13:FML/Src/EC2x.c ****  ******************************************************************************
  14:FML/Src/EC2x.c **** */
  15:FML/Src/EC2x.c **** 
  16:FML/Src/EC2x.c **** 
  17:FML/Src/EC2x.c **** /*----------------------------------include-----------------------------------*/
  18:FML/Src/EC2x.c **** #include "EC2x.h"
  19:FML/Src/EC2x.c **** #include "usart.h"
  20:FML/Src/EC2x.c **** #include "timer.h"
  21:FML/Src/EC2x.c **** #include "shell_port.h"
  22:FML/Src/EC2x.c **** #include <stdio.h>
  23:FML/Src/EC2x.c **** #include <string.h>
  24:FML/Src/EC2x.c **** #include <stdlib.h>
  25:FML/Src/EC2x.c **** #include "fsm.h"
  26:FML/Src/EC2x.c **** #include "queue.h"
  27:FML/Src/EC2x.c **** /*-----------------------------------macro------------------------------------*/
  28:FML/Src/EC2x.c **** #define BUFF_LEN 200
  29:FML/Src/EC2x.c **** /*----------------------------------typedef-----------------------------------*/
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 2


  30:FML/Src/EC2x.c **** 
  31:FML/Src/EC2x.c **** 
  32:FML/Src/EC2x.c **** /*----------------------------------variable----------------------------------*/
  33:FML/Src/EC2x.c **** uint8_t ec2x_buff[BUFF_LEN]={0xff,};
  34:FML/Src/EC2x.c **** 
  35:FML/Src/EC2x.c **** //定义tcp连接字符串
  36:FML/Src/EC2x.c **** uint8_t tcp_connect[]="AT+QIOPEN=1,0,\"TCP\",\"115.236.153.170\",52894,0,2\r\n";
  37:FML/Src/EC2x.c **** 
  38:FML/Src/EC2x.c **** //定义tcp连接指令队列
  39:FML/Src/EC2x.c **** uint8_t tcpconnct_step = 0;
  40:FML/Src/EC2x.c **** ATMsg_TypeDef connectmsg_queue[] = {
  41:FML/Src/EC2x.c ****     {"AT\r\n","OK",100,5},
  42:FML/Src/EC2x.c ****     {"AT+CPIN?\r\n","READY",100,5},
  43:FML/Src/EC2x.c ****     {"AT+CREG?\r\n","+CREG: 0,1", 100, 5},
  44:FML/Src/EC2x.c ****     {"AT+CGREG?\r\n","+CGREG: 0,1", 100, 5},
  45:FML/Src/EC2x.c ****     {"AT+QICSGP=1,1,\"CMNET\",\"\",\"\",1\r\n","OK", 200, 5},
  46:FML/Src/EC2x.c ****     {"AT+QIDEACT=1\r\n", "OK", 100, 5},
  47:FML/Src/EC2x.c ****     {"AT+QIACT=1\r\n", "OK", 100, 5},
  48:FML/Src/EC2x.c ****     {tcp_connect, "CONNECT", 100, 5},
  49:FML/Src/EC2x.c **** };
  50:FML/Src/EC2x.c **** 
  51:FML/Src/EC2x.c **** 
  52:FML/Src/EC2x.c **** /*----------------------------------typedef-----------------------------------*/
  53:FML/Src/EC2x.c **** 
  54:FML/Src/EC2x.c **** EC2x_HandleTypeDef ec2x_dev[]=
  55:FML/Src/EC2x.c **** {
  56:FML/Src/EC2x.c ****     {
  57:FML/Src/EC2x.c ****         "uart1/ec200s",
  58:FML/Src/EC2x.c ****         &huart1,
  59:FML/Src/EC2x.c ****         GPIOA,
  60:FML/Src/EC2x.c ****         GPIO_PIN_12,
  61:FML/Src/EC2x.c ****         GPIOA,
  62:FML/Src/EC2x.c ****         GPIO_PIN_8,
  63:FML/Src/EC2x.c ****         GPIOA,
  64:FML/Src/EC2x.c ****         GPIO_PIN_11,
  65:FML/Src/EC2x.c ****         {
  66:FML/Src/EC2x.c ****             0,
  67:FML/Src/EC2x.c ****            ec2x_buff,
  68:FML/Src/EC2x.c ****             0,
  69:FML/Src/EC2x.c ****             0,
  70:FML/Src/EC2x.c ****             0,
  71:FML/Src/EC2x.c ****             BUFF_LEN 
  72:FML/Src/EC2x.c ****         }
  73:FML/Src/EC2x.c ****     }
  74:FML/Src/EC2x.c **** };
  75:FML/Src/EC2x.c **** /*-------------------------------------os-------------------------------------*/
  76:FML/Src/EC2x.c **** 
  77:FML/Src/EC2x.c **** /*----------------------------------function----------------------------------*/
  78:FML/Src/EC2x.c **** 
  79:FML/Src/EC2x.c **** /**
  80:FML/Src/EC2x.c ****  * @brief 设备初始化函数
  81:FML/Src/EC2x.c ****  * 
  82:FML/Src/EC2x.c ****  */
  83:FML/Src/EC2x.c **** void ec2x_io_init(EC2x_HandleTypeDef *device)
  84:FML/Src/EC2x.c **** {
  30              		.loc 1 84 1 view -0
  31              		.cfi_startproc
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 3


  32              		@ args = 0, pretend = 0, frame = 24
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 84 1 is_stmt 0 view .LVU1
  35 0000 70B5     		push	{r4, r5, r6, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 16
  38              		.cfi_offset 4, -16
  39              		.cfi_offset 5, -12
  40              		.cfi_offset 6, -8
  41              		.cfi_offset 14, -4
  42 0002 86B0     		sub	sp, sp, #24
  43              	.LCFI1:
  44              		.cfi_def_cfa_offset 40
  45 0004 0446     		mov	r4, r0
  85:FML/Src/EC2x.c ****      GPIO_InitTypeDef GPIO_InitStruct = {0};
  46              		.loc 1 85 6 is_stmt 1 view .LVU2
  47              		.loc 1 85 23 is_stmt 0 view .LVU3
  48 0006 0025     		movs	r5, #0
  49 0008 0195     		str	r5, [sp, #4]
  50 000a 0295     		str	r5, [sp, #8]
  51 000c 0395     		str	r5, [sp, #12]
  52 000e 0495     		str	r5, [sp, #16]
  53 0010 0595     		str	r5, [sp, #20]
  86:FML/Src/EC2x.c ****     
  87:FML/Src/EC2x.c ****     // 使能UART和GPIO时钟
  88:FML/Src/EC2x.c ****     //__HAL_RCC_UARTX_CLK_ENABLE(); // 替换为实际的UART时钟
  89:FML/Src/EC2x.c ****     __HAL_RCC_GPIOA_CLK_ENABLE(); // 替换为实际的GPIO时钟
  54              		.loc 1 89 5 is_stmt 1 view .LVU4
  55              	.LBB2:
  56              		.loc 1 89 5 view .LVU5
  57              		.loc 1 89 5 view .LVU6
  58 0012 1F4B     		ldr	r3, .L3
  59 0014 DA6C     		ldr	r2, [r3, #76]
  60 0016 42F00102 		orr	r2, r2, #1
  61 001a DA64     		str	r2, [r3, #76]
  62              		.loc 1 89 5 view .LVU7
  63 001c DB6C     		ldr	r3, [r3, #76]
  64 001e 03F00103 		and	r3, r3, #1
  65 0022 0093     		str	r3, [sp]
  66              		.loc 1 89 5 view .LVU8
  67 0024 009B     		ldr	r3, [sp]
  68              	.LBE2:
  69              		.loc 1 89 5 view .LVU9
  90:FML/Src/EC2x.c ****     
  91:FML/Src/EC2x.c ****     // 配置GPIO引脚
  92:FML/Src/EC2x.c ****     GPIO_InitStruct.Pin = device->reset_pin;
  70              		.loc 1 92 5 view .LVU10
  71              		.loc 1 92 33 is_stmt 0 view .LVU11
  72 0026 038C     		ldrh	r3, [r0, #32]
  73              		.loc 1 92 25 view .LVU12
  74 0028 0193     		str	r3, [sp, #4]
  93:FML/Src/EC2x.c ****     GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
  75              		.loc 1 93 5 is_stmt 1 view .LVU13
  76              		.loc 1 93 26 is_stmt 0 view .LVU14
  77 002a 0126     		movs	r6, #1
  78 002c 0296     		str	r6, [sp, #8]
  94:FML/Src/EC2x.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 4


  79              		.loc 1 94 5 is_stmt 1 view .LVU15
  95:FML/Src/EC2x.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  80              		.loc 1 95 5 view .LVU16
  96:FML/Src/EC2x.c ****     HAL_GPIO_Init(device->reset_port, &GPIO_InitStruct);
  81              		.loc 1 96 5 view .LVU17
  82 002e 01A9     		add	r1, sp, #4
  83 0030 C069     		ldr	r0, [r0, #28]
  84              	.LVL1:
  85              		.loc 1 96 5 is_stmt 0 view .LVU18
  86 0032 FFF7FEFF 		bl	HAL_GPIO_Init
  87              	.LVL2:
  97:FML/Src/EC2x.c **** 
  98:FML/Src/EC2x.c ****     GPIO_InitStruct.Pin = device->wake_pin;
  88              		.loc 1 98 5 is_stmt 1 view .LVU19
  89              		.loc 1 98 33 is_stmt 0 view .LVU20
  90 0036 238D     		ldrh	r3, [r4, #40]
  91              		.loc 1 98 25 view .LVU21
  92 0038 0193     		str	r3, [sp, #4]
  99:FML/Src/EC2x.c ****     GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
  93              		.loc 1 99 5 is_stmt 1 view .LVU22
  94              		.loc 1 99 26 is_stmt 0 view .LVU23
  95 003a 0296     		str	r6, [sp, #8]
 100:FML/Src/EC2x.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
  96              		.loc 1 100 5 is_stmt 1 view .LVU24
  97              		.loc 1 100 26 is_stmt 0 view .LVU25
  98 003c 0395     		str	r5, [sp, #12]
 101:FML/Src/EC2x.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  99              		.loc 1 101 5 is_stmt 1 view .LVU26
 100              		.loc 1 101 27 is_stmt 0 view .LVU27
 101 003e 0495     		str	r5, [sp, #16]
 102:FML/Src/EC2x.c ****     HAL_GPIO_Init(device->wake_port, &GPIO_InitStruct);
 102              		.loc 1 102 5 is_stmt 1 view .LVU28
 103 0040 01A9     		add	r1, sp, #4
 104 0042 606A     		ldr	r0, [r4, #36]
 105 0044 FFF7FEFF 		bl	HAL_GPIO_Init
 106              	.LVL3:
 103:FML/Src/EC2x.c **** 
 104:FML/Src/EC2x.c ****     GPIO_InitStruct.Pin = device->pwren_pin;
 107              		.loc 1 104 5 view .LVU29
 108              		.loc 1 104 33 is_stmt 0 view .LVU30
 109 0048 238B     		ldrh	r3, [r4, #24]
 110              		.loc 1 104 25 view .LVU31
 111 004a 0193     		str	r3, [sp, #4]
 105:FML/Src/EC2x.c ****     GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
 112              		.loc 1 105 5 is_stmt 1 view .LVU32
 113              		.loc 1 105 26 is_stmt 0 view .LVU33
 114 004c 0296     		str	r6, [sp, #8]
 106:FML/Src/EC2x.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 115              		.loc 1 106 5 is_stmt 1 view .LVU34
 116              		.loc 1 106 26 is_stmt 0 view .LVU35
 117 004e 0395     		str	r5, [sp, #12]
 107:FML/Src/EC2x.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 118              		.loc 1 107 5 is_stmt 1 view .LVU36
 119              		.loc 1 107 27 is_stmt 0 view .LVU37
 120 0050 0495     		str	r5, [sp, #16]
 108:FML/Src/EC2x.c ****     HAL_GPIO_Init(device->pwren_port, &GPIO_InitStruct);
 121              		.loc 1 108 5 is_stmt 1 view .LVU38
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 5


 122 0052 01A9     		add	r1, sp, #4
 123 0054 6069     		ldr	r0, [r4, #20]
 124 0056 FFF7FEFF 		bl	HAL_GPIO_Init
 125              	.LVL4:
 109:FML/Src/EC2x.c ****     
 110:FML/Src/EC2x.c ****     
 111:FML/Src/EC2x.c ****     // 初始化复位引脚为高电平
 112:FML/Src/EC2x.c ****     HAL_GPIO_WritePin(device->reset_port, device->reset_pin, GPIO_PIN_SET);
 126              		.loc 1 112 5 view .LVU39
 127 005a 3246     		mov	r2, r6
 128 005c 218C     		ldrh	r1, [r4, #32]
 129 005e E069     		ldr	r0, [r4, #28]
 130 0060 FFF7FEFF 		bl	HAL_GPIO_WritePin
 131              	.LVL5:
 113:FML/Src/EC2x.c ****     HAL_GPIO_WritePin(device->wake_port, device->wake_pin, GPIO_PIN_SET);
 132              		.loc 1 113 5 view .LVU40
 133 0064 3246     		mov	r2, r6
 134 0066 218D     		ldrh	r1, [r4, #40]
 135 0068 606A     		ldr	r0, [r4, #36]
 136 006a FFF7FEFF 		bl	HAL_GPIO_WritePin
 137              	.LVL6:
 114:FML/Src/EC2x.c ****     HAL_GPIO_WritePin(device->pwren_port, device->pwren_pin, GPIO_PIN_SET);
 138              		.loc 1 114 5 view .LVU41
 139 006e 3246     		mov	r2, r6
 140 0070 218B     		ldrh	r1, [r4, #24]
 141 0072 6069     		ldr	r0, [r4, #20]
 142 0074 FFF7FEFF 		bl	HAL_GPIO_WritePin
 143              	.LVL7:
 115:FML/Src/EC2x.c ****     Delay_ms(1000);
 144              		.loc 1 115 5 view .LVU42
 145 0078 4FF47A70 		mov	r0, #1000
 146 007c FFF7FEFF 		bl	Delay_ms
 147              	.LVL8:
 116:FML/Src/EC2x.c ****     HAL_GPIO_WritePin(device->pwren_port, device->pwren_pin, GPIO_PIN_RESET);
 148              		.loc 1 116 5 view .LVU43
 149 0080 2A46     		mov	r2, r5
 150 0082 218B     		ldrh	r1, [r4, #24]
 151 0084 6069     		ldr	r0, [r4, #20]
 152 0086 FFF7FEFF 		bl	HAL_GPIO_WritePin
 153              	.LVL9:
 117:FML/Src/EC2x.c **** }
 154              		.loc 1 117 1 is_stmt 0 view .LVU44
 155 008a 06B0     		add	sp, sp, #24
 156              	.LCFI2:
 157              		.cfi_def_cfa_offset 16
 158              		@ sp needed
 159 008c 70BD     		pop	{r4, r5, r6, pc}
 160              	.LVL10:
 161              	.L4:
 162              		.loc 1 117 1 view .LVU45
 163 008e 00BF     		.align	2
 164              	.L3:
 165 0090 00100240 		.word	1073876992
 166              		.cfi_endproc
 167              	.LFE291:
 169              		.section	.text.ec2x_open,"ax",%progbits
 170              		.align	1
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 6


 171              		.global	ec2x_open
 172              		.syntax unified
 173              		.thumb
 174              		.thumb_func
 176              	ec2x_open:
 177              	.LVL11:
 178              	.LFB293:
 118:FML/Src/EC2x.c **** /**
 119:FML/Src/EC2x.c ****  * @brief 通过POWEREN引脚，对模块进行掉电复位
 120:FML/Src/EC2x.c ****  * 
 121:FML/Src/EC2x.c ****  * @param fd 
 122:FML/Src/EC2x.c ****  * @return int 
 123:FML/Src/EC2x.c ****  */
 124:FML/Src/EC2x.c **** int ec2x_reset(int fd){
 125:FML/Src/EC2x.c ****     fd = 0;
 126:FML/Src/EC2x.c ****     int err_code = 0;
 127:FML/Src/EC2x.c ****     if(fd >= sizeof(ec2x_dev)/ sizeof(EC2x_HandleTypeDef))
 128:FML/Src/EC2x.c ****         return (err_code = -1);
 129:FML/Src/EC2x.c ****     else{
 130:FML/Src/EC2x.c ****         EC2x_HandleTypeDef *device = &ec2x_dev[fd];
 131:FML/Src/EC2x.c ****         HAL_GPIO_WritePin(device->pwren_port, device->pwren_pin, GPIO_PIN_SET);
 132:FML/Src/EC2x.c ****         Delay_ms(500);
 133:FML/Src/EC2x.c ****         HAL_GPIO_WritePin(device->pwren_port, device->pwren_pin, GPIO_PIN_RESET);
 134:FML/Src/EC2x.c ****     }
 135:FML/Src/EC2x.c ****     return(ec2x_cmd_send(fd,NULL,0,"RDY/r/n",20000));
 136:FML/Src/EC2x.c **** }
 137:FML/Src/EC2x.c **** 
 138:FML/Src/EC2x.c **** /**
 139:FML/Src/EC2x.c ****  * @brief 设备文件open函数
 140:FML/Src/EC2x.c ****  * 
 141:FML/Src/EC2x.c ****  * @param dev_name 
 142:FML/Src/EC2x.c ****  * @return int 
 143:FML/Src/EC2x.c ****  *         返回设备文件索引，未查找到则返回-1
 144:FML/Src/EC2x.c ****  */
 145:FML/Src/EC2x.c **** int ec2x_open(char *dev_name)
 146:FML/Src/EC2x.c **** {
 179              		.loc 1 146 1 is_stmt 1 view -0
 180              		.cfi_startproc
 181              		@ args = 0, pretend = 0, frame = 0
 182              		@ frame_needed = 0, uses_anonymous_args = 0
 183              		.loc 1 146 1 is_stmt 0 view .LVU47
 184 0000 70B5     		push	{r4, r5, r6, lr}
 185              	.LCFI3:
 186              		.cfi_def_cfa_offset 16
 187              		.cfi_offset 4, -16
 188              		.cfi_offset 5, -12
 189              		.cfi_offset 6, -8
 190              		.cfi_offset 14, -4
 191 0002 0546     		mov	r5, r0
 147:FML/Src/EC2x.c ****     uint8_t i = 0;
 192              		.loc 1 147 5 is_stmt 1 view .LVU48
 193              	.LVL12:
 148:FML/Src/EC2x.c ****     for(i = 0;i < sizeof(ec2x_dev)/ sizeof(EC2x_HandleTypeDef);i++)
 194              		.loc 1 148 5 view .LVU49
 195              		.loc 1 148 11 is_stmt 0 view .LVU50
 196 0004 0024     		movs	r4, #0
 197              	.LVL13:
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 7


 198              	.L6:
 199              		.loc 1 148 15 is_stmt 1 discriminator 1 view .LVU51
 200              		.loc 1 148 5 is_stmt 0 discriminator 1 view .LVU52
 201 0006 1CB1     		cbz	r4, .L9
 149:FML/Src/EC2x.c ****     {
 150:FML/Src/EC2x.c ****         if(strcmp(dev_name,ec2x_dev[i].dev_name) == 0)
 151:FML/Src/EC2x.c ****         {
 152:FML/Src/EC2x.c ****             ec2x_io_init(&ec2x_dev[i]);
 153:FML/Src/EC2x.c ****             return i;
 154:FML/Src/EC2x.c ****         }
 155:FML/Src/EC2x.c ****     }
 156:FML/Src/EC2x.c ****     return -1;
 202              		.loc 1 156 12 view .LVU53
 203 0008 4FF0FF36 		mov	r6, #-1
 204              	.L5:
 157:FML/Src/EC2x.c **** };
 205              		.loc 1 157 1 view .LVU54
 206 000c 3046     		mov	r0, r6
 207 000e 70BD     		pop	{r4, r5, r6, pc}
 208              	.LVL14:
 209              	.L9:
 150:FML/Src/EC2x.c ****         {
 210              		.loc 1 150 9 is_stmt 1 view .LVU55
 150:FML/Src/EC2x.c ****         {
 211              		.loc 1 150 39 is_stmt 0 view .LVU56
 212 0010 2646     		mov	r6, r4
 213 0012 C4EB0413 		rsb	r3, r4, r4, lsl #4
 150:FML/Src/EC2x.c ****         {
 214              		.loc 1 150 12 view .LVU57
 215 0016 0949     		ldr	r1, .L12
 216 0018 01EB8301 		add	r1, r1, r3, lsl #2
 217 001c 2846     		mov	r0, r5
 218 001e FFF7FEFF 		bl	strcmp
 219              	.LVL15:
 150:FML/Src/EC2x.c ****         {
 220              		.loc 1 150 11 view .LVU58
 221 0022 10B1     		cbz	r0, .L11
 148:FML/Src/EC2x.c ****     {
 222              		.loc 1 148 64 is_stmt 1 discriminator 2 view .LVU59
 148:FML/Src/EC2x.c ****     {
 223              		.loc 1 148 65 is_stmt 0 discriminator 2 view .LVU60
 224 0024 0134     		adds	r4, r4, #1
 225              	.LVL16:
 148:FML/Src/EC2x.c ****     {
 226              		.loc 1 148 65 discriminator 2 view .LVU61
 227 0026 E4B2     		uxtb	r4, r4
 228              	.LVL17:
 148:FML/Src/EC2x.c ****     {
 229              		.loc 1 148 65 discriminator 2 view .LVU62
 230 0028 EDE7     		b	.L6
 231              	.L11:
 152:FML/Src/EC2x.c ****             return i;
 232              		.loc 1 152 13 is_stmt 1 view .LVU63
 233 002a C4EB0413 		rsb	r3, r4, r4, lsl #4
 234 002e 0348     		ldr	r0, .L12
 235 0030 00EB8300 		add	r0, r0, r3, lsl #2
 236 0034 FFF7FEFF 		bl	ec2x_io_init
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 8


 237              	.LVL18:
 153:FML/Src/EC2x.c ****         }
 238              		.loc 1 153 13 view .LVU64
 153:FML/Src/EC2x.c ****         }
 239              		.loc 1 153 20 is_stmt 0 view .LVU65
 240 0038 E8E7     		b	.L5
 241              	.L13:
 242 003a 00BF     		.align	2
 243              	.L12:
 244 003c 00000000 		.word	.LANCHOR0
 245              		.cfi_endproc
 246              	.LFE293:
 248              		.section	.text.ec2x_write,"ax",%progbits
 249              		.align	1
 250              		.global	ec2x_write
 251              		.syntax unified
 252              		.thumb
 253              		.thumb_func
 255              	ec2x_write:
 256              	.LVL19:
 257              	.LFB294:
 158:FML/Src/EC2x.c **** 
 159:FML/Src/EC2x.c **** /**
 160:FML/Src/EC2x.c ****  * @brief 设备文件close函数
 161:FML/Src/EC2x.c ****  * 
 162:FML/Src/EC2x.c ****  * @param fd 
 163:FML/Src/EC2x.c ****  * @return int 
 164:FML/Src/EC2x.c ****  */
 165:FML/Src/EC2x.c **** int ec2x_close(int fd);
 166:FML/Src/EC2x.c **** 
 167:FML/Src/EC2x.c **** /**
 168:FML/Src/EC2x.c ****  * @brief 设备文件写入函数
 169:FML/Src/EC2x.c ****  * 
 170:FML/Src/EC2x.c ****  * @param fd 
 171:FML/Src/EC2x.c ****  * @param tx_buff 
 172:FML/Src/EC2x.c ****  * @param len 
 173:FML/Src/EC2x.c ****  * @return int 
 174:FML/Src/EC2x.c ****  *         设备号无效返回-1
 175:FML/Src/EC2x.c ****  *         写入失败返回 0
 176:FML/Src/EC2x.c ****  *          写入成功返回1
 177:FML/Src/EC2x.c ****  *         
 178:FML/Src/EC2x.c ****  */
 179:FML/Src/EC2x.c **** int ec2x_write(int fd,uint8_t *tx_buff,uint16_t len){
 258              		.loc 1 179 53 is_stmt 1 view -0
 259              		.cfi_startproc
 260              		@ args = 0, pretend = 0, frame = 0
 261              		@ frame_needed = 0, uses_anonymous_args = 0
 180:FML/Src/EC2x.c ****     int err_code = 0;
 262              		.loc 1 180 5 view .LVU67
 181:FML/Src/EC2x.c ****     if(fd >= sizeof(ec2x_dev)/ sizeof(EC2x_HandleTypeDef))
 263              		.loc 1 181 5 view .LVU68
 264              		.loc 1 181 7 is_stmt 0 view .LVU69
 265 0000 10B1     		cbz	r0, .L22
 182:FML/Src/EC2x.c ****         return (err_code = -1);
 266              		.loc 1 182 26 view .LVU70
 267 0002 4FF0FF30 		mov	r0, #-1
 268              	.LVL20:
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 9


 183:FML/Src/EC2x.c ****     else{
 184:FML/Src/EC2x.c ****         err_code =  HAL_UART_Transmit_IT(ec2x_dev[fd].huart, tx_buff,len);
 185:FML/Src/EC2x.c ****         while(__HAL_UART_GET_FLAG(ec2x_dev[fd].huart,UART_FLAG_TC) != SET);
 186:FML/Src/EC2x.c ****         return(!err_code);
 187:FML/Src/EC2x.c ****     }
 188:FML/Src/EC2x.c **** };
 269              		.loc 1 188 1 view .LVU71
 270 0006 7047     		bx	lr
 271              	.LVL21:
 272              	.L22:
 179:FML/Src/EC2x.c ****     int err_code = 0;
 273              		.loc 1 179 53 view .LVU72
 274 0008 10B5     		push	{r4, lr}
 275              	.LCFI4:
 276              		.cfi_def_cfa_offset 8
 277              		.cfi_offset 4, -8
 278              		.cfi_offset 14, -4
 279 000a 0446     		mov	r4, r0
 184:FML/Src/EC2x.c ****         while(__HAL_UART_GET_FLAG(ec2x_dev[fd].huart,UART_FLAG_TC) != SET);
 280              		.loc 1 184 9 is_stmt 1 view .LVU73
 184:FML/Src/EC2x.c ****         while(__HAL_UART_GET_FLAG(ec2x_dev[fd].huart,UART_FLAG_TC) != SET);
 281              		.loc 1 184 21 is_stmt 0 view .LVU74
 282 000c C0EB0013 		rsb	r3, r0, r0, lsl #4
 283 0010 0A48     		ldr	r0, .L23
 284              	.LVL22:
 184:FML/Src/EC2x.c ****         while(__HAL_UART_GET_FLAG(ec2x_dev[fd].huart,UART_FLAG_TC) != SET);
 285              		.loc 1 184 21 view .LVU75
 286 0012 00EB8303 		add	r3, r0, r3, lsl #2
 287 0016 1869     		ldr	r0, [r3, #16]
 288 0018 FFF7FEFF 		bl	HAL_UART_Transmit_IT
 289              	.LVL23:
 185:FML/Src/EC2x.c ****         return(!err_code);
 290              		.loc 1 185 9 is_stmt 1 view .LVU76
 291              	.L16:
 185:FML/Src/EC2x.c ****         return(!err_code);
 292              		.loc 1 185 75 discriminator 1 view .LVU77
 185:FML/Src/EC2x.c ****         return(!err_code);
 293              		.loc 1 185 14 discriminator 1 view .LVU78
 185:FML/Src/EC2x.c ****         return(!err_code);
 294              		.loc 1 185 15 is_stmt 0 discriminator 1 view .LVU79
 295 001c C4EB0413 		rsb	r3, r4, r4, lsl #4
 296 0020 064A     		ldr	r2, .L23
 297 0022 02EB8303 		add	r3, r2, r3, lsl #2
 298 0026 1B69     		ldr	r3, [r3, #16]
 299 0028 1B68     		ldr	r3, [r3]
 300 002a DB69     		ldr	r3, [r3, #28]
 185:FML/Src/EC2x.c ****         return(!err_code);
 301              		.loc 1 185 14 discriminator 1 view .LVU80
 302 002c 13F0400F 		tst	r3, #64
 303 0030 F4D0     		beq	.L16
 186:FML/Src/EC2x.c ****     }
 304              		.loc 1 186 9 is_stmt 1 view .LVU81
 186:FML/Src/EC2x.c ****     }
 305              		.loc 1 186 16 is_stmt 0 view .LVU82
 306 0032 B0FA80F0 		clz	r0, r0
 307              	.LVL24:
 186:FML/Src/EC2x.c ****     }
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 10


 308              		.loc 1 186 16 view .LVU83
 309 0036 4009     		lsrs	r0, r0, #5
 310              		.loc 1 188 1 view .LVU84
 311 0038 10BD     		pop	{r4, pc}
 312              	.LVL25:
 313              	.L24:
 314              		.loc 1 188 1 view .LVU85
 315 003a 00BF     		.align	2
 316              	.L23:
 317 003c 00000000 		.word	.LANCHOR0
 318              		.cfi_endproc
 319              	.LFE294:
 321              		.section	.text.ec2x_read,"ax",%progbits
 322              		.align	1
 323              		.global	ec2x_read
 324              		.syntax unified
 325              		.thumb
 326              		.thumb_func
 328              	ec2x_read:
 329              	.LVL26:
 330              	.LFB295:
 189:FML/Src/EC2x.c **** /**
 190:FML/Src/EC2x.c ****  * @brief 设备文件读取函数
 191:FML/Src/EC2x.c ****  *        读取环形缓冲区指定长度数据
 192:FML/Src/EC2x.c ****  * 
 193:FML/Src/EC2x.c ****  * @param fd 
 194:FML/Src/EC2x.c ****  * @param rx_buff 
 195:FML/Src/EC2x.c ****  * @param len 
 196:FML/Src/EC2x.c ****  * @return int 
 197:FML/Src/EC2x.c ****  *         -1 接口错误
 198:FML/Src/EC2x.c ****  *          0 读取失败
 199:FML/Src/EC2x.c ****  *          n 读取成功字节数
 200:FML/Src/EC2x.c ****  */
 201:FML/Src/EC2x.c **** int ec2x_read(int fd,uint8_t *rx_buff,uint16_t len){
 331              		.loc 1 201 52 is_stmt 1 view -0
 332              		.cfi_startproc
 333              		@ args = 0, pretend = 0, frame = 0
 334              		@ frame_needed = 0, uses_anonymous_args = 0
 202:FML/Src/EC2x.c ****     uint8_t *dest = rx_buff;
 335              		.loc 1 202 5 view .LVU87
 203:FML/Src/EC2x.c ****     if(fd >= sizeof(ec2x_dev)/ sizeof(EC2x_HandleTypeDef))
 336              		.loc 1 203 5 view .LVU88
 337              		.loc 1 203 7 is_stmt 0 view .LVU89
 338 0000 0028     		cmp	r0, #0
 339 0002 4BD1     		bne	.L32
 201:FML/Src/EC2x.c ****     uint8_t *dest = rx_buff;
 340              		.loc 1 201 52 view .LVU90
 341 0004 38B5     		push	{r3, r4, r5, lr}
 342              	.LCFI5:
 343              		.cfi_def_cfa_offset 16
 344              		.cfi_offset 3, -16
 345              		.cfi_offset 4, -12
 346              		.cfi_offset 5, -8
 347              		.cfi_offset 14, -4
 348 0006 1546     		mov	r5, r2
 349 0008 0446     		mov	r4, r0
 350              	.LBB3:
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 11


 204:FML/Src/EC2x.c ****         return -1;
 205:FML/Src/EC2x.c ****     else{
 206:FML/Src/EC2x.c ****         uint16_t j = 0;
 351              		.loc 1 206 9 is_stmt 1 view .LVU91
 352              	.LVL27:
 207:FML/Src/EC2x.c ****         
 208:FML/Src/EC2x.c ****         RingBuffer_TypeDef *src = &ec2x_dev[fd].msg;
 353              		.loc 1 208 9 view .LVU92
 209:FML/Src/EC2x.c ****         //如果队列被上锁了，则等待100ms
 210:FML/Src/EC2x.c ****         if(src->block == 1)
 354              		.loc 1 210 9 view .LVU93
 355              		.loc 1 210 15 is_stmt 0 view .LVU94
 356 000a C0EB0013 		rsb	r3, r0, r0, lsl #4
 357 000e 264A     		ldr	r2, .L39
 358              	.LVL28:
 359              		.loc 1 210 15 view .LVU95
 360 0010 02EB8303 		add	r3, r2, r3, lsl #2
 361 0014 93F82C30 		ldrb	r3, [r3, #44]	@ zero_extendqisi2
 362              		.loc 1 210 11 view .LVU96
 363 0018 73B9     		cbnz	r3, .L38
 211:FML/Src/EC2x.c ****         {
 212:FML/Src/EC2x.c ****             Delay_ms(100);
 213:FML/Src/EC2x.c ****             if(src->block == 1)
 214:FML/Src/EC2x.c ****                 return 0;
 215:FML/Src/EC2x.c ****         }
 216:FML/Src/EC2x.c ****         else{
 217:FML/Src/EC2x.c ****             src->block = 1;
 364              		.loc 1 217 13 is_stmt 1 view .LVU97
 365              		.loc 1 217 24 is_stmt 0 view .LVU98
 366 001a C0EB0013 		rsb	r3, r0, r0, lsl #4
 367 001e 224A     		ldr	r2, .L39
 368 0020 02EB8303 		add	r3, r2, r3, lsl #2
 369 0024 0122     		movs	r2, #1
 370 0026 83F82C20 		strb	r2, [r3, #44]
 218:FML/Src/EC2x.c ****             if(len > src->size)
 371              		.loc 1 218 13 is_stmt 1 view .LVU99
 372              		.loc 1 218 25 is_stmt 0 view .LVU100
 373 002a 188F     		ldrh	r0, [r3, #56]
 374              	.LVL29:
 375              		.loc 1 218 15 view .LVU101
 376 002c A842     		cmp	r0, r5
 377 002e 00D3     		bcc	.L29
 378 0030 2846     		mov	r0, r5
 379              	.L29:
 380              	.LVL30:
 219:FML/Src/EC2x.c ****                 len = src->size;
 220:FML/Src/EC2x.c ****             for(j = 0 ; j < len; j++){
 381              		.loc 1 220 13 is_stmt 1 view .LVU102
 382              		.loc 1 220 19 is_stmt 0 view .LVU103
 383 0032 4FF0000C 		mov	ip, #0
 384              		.loc 1 220 13 view .LVU104
 385 0036 26E0     		b	.L30
 386              	.LVL31:
 387              	.L38:
 212:FML/Src/EC2x.c ****             if(src->block == 1)
 388              		.loc 1 212 13 is_stmt 1 view .LVU105
 389 0038 6420     		movs	r0, #100
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 12


 390              	.LVL32:
 212:FML/Src/EC2x.c ****             if(src->block == 1)
 391              		.loc 1 212 13 is_stmt 0 view .LVU106
 392 003a FFF7FEFF 		bl	Delay_ms
 393              	.LVL33:
 213:FML/Src/EC2x.c ****                 return 0;
 394              		.loc 1 213 13 is_stmt 1 view .LVU107
 213:FML/Src/EC2x.c ****                 return 0;
 395              		.loc 1 213 19 is_stmt 0 view .LVU108
 396 003e C4EB0413 		rsb	r3, r4, r4, lsl #4
 397 0042 194A     		ldr	r2, .L39
 398 0044 02EB8303 		add	r3, r2, r3, lsl #2
 399 0048 93F82C30 		ldrb	r3, [r3, #44]	@ zero_extendqisi2
 213:FML/Src/EC2x.c ****                 return 0;
 400              		.loc 1 213 15 view .LVU109
 401 004c 4BBB     		cbnz	r3, .L33
 402 004e 2846     		mov	r0, r5
 403 0050 23E0     		b	.L25
 404              	.LVL34:
 405              	.L31:
 221:FML/Src/EC2x.c ****                 dest[j] = src->data[src->head];
 406              		.loc 1 221 17 is_stmt 1 discriminator 3 view .LVU110
 407              		.loc 1 221 30 is_stmt 0 discriminator 3 view .LVU111
 408 0052 C4EB0413 		rsb	r3, r4, r4, lsl #4
 409 0056 144A     		ldr	r2, .L39
 410 0058 02EB8303 		add	r3, r2, r3, lsl #2
 411 005c 1D6B     		ldr	r5, [r3, #48]
 412              		.loc 1 221 40 discriminator 3 view .LVU112
 413 005e 9A8E     		ldrh	r2, [r3, #52]
 414              		.loc 1 221 36 discriminator 3 view .LVU113
 415 0060 AA5C     		ldrb	r2, [r5, r2]	@ zero_extendqisi2
 416              		.loc 1 221 25 discriminator 3 view .LVU114
 417 0062 01F80C20 		strb	r2, [r1, ip]
 222:FML/Src/EC2x.c ****                 src->head = (src->head + 1) % src->capacity;
 418              		.loc 1 222 17 is_stmt 1 discriminator 3 view .LVU115
 419              		.loc 1 222 33 is_stmt 0 discriminator 3 view .LVU116
 420 0066 9A8E     		ldrh	r2, [r3, #52]
 421              		.loc 1 222 40 discriminator 3 view .LVU117
 422 0068 0132     		adds	r2, r2, #1
 423              		.loc 1 222 50 discriminator 3 view .LVU118
 424 006a B3F83AE0 		ldrh	lr, [r3, #58]
 425              		.loc 1 222 45 discriminator 3 view .LVU119
 426 006e 92FBFEF5 		sdiv	r5, r2, lr
 427 0072 0EFB1522 		mls	r2, lr, r5, r2
 428              		.loc 1 222 27 discriminator 3 view .LVU120
 429 0076 9A86     		strh	r2, [r3, #52]	@ movhi
 223:FML/Src/EC2x.c ****                 src->size--;
 430              		.loc 1 223 17 is_stmt 1 discriminator 3 view .LVU121
 431              		.loc 1 223 20 is_stmt 0 discriminator 3 view .LVU122
 432 0078 1A8F     		ldrh	r2, [r3, #56]
 433              		.loc 1 223 26 discriminator 3 view .LVU123
 434 007a 013A     		subs	r2, r2, #1
 435 007c 1A87     		strh	r2, [r3, #56]	@ movhi
 220:FML/Src/EC2x.c ****                 dest[j] = src->data[src->head];
 436              		.loc 1 220 34 is_stmt 1 discriminator 3 view .LVU124
 220:FML/Src/EC2x.c ****                 dest[j] = src->data[src->head];
 437              		.loc 1 220 35 is_stmt 0 discriminator 3 view .LVU125
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 13


 438 007e 0CF1010C 		add	ip, ip, #1
 439              	.LVL35:
 220:FML/Src/EC2x.c ****                 dest[j] = src->data[src->head];
 440              		.loc 1 220 35 discriminator 3 view .LVU126
 441 0082 1FFA8CFC 		uxth	ip, ip
 442              	.LVL36:
 443              	.L30:
 220:FML/Src/EC2x.c ****                 dest[j] = src->data[src->head];
 444              		.loc 1 220 25 is_stmt 1 discriminator 1 view .LVU127
 220:FML/Src/EC2x.c ****                 dest[j] = src->data[src->head];
 445              		.loc 1 220 13 is_stmt 0 discriminator 1 view .LVU128
 446 0086 6045     		cmp	r0, ip
 447 0088 E3D8     		bhi	.L31
 224:FML/Src/EC2x.c ****             }
 225:FML/Src/EC2x.c ****             src->block = 0;
 448              		.loc 1 225 13 is_stmt 1 view .LVU129
 449              		.loc 1 225 24 is_stmt 0 view .LVU130
 450 008a C4EB0414 		rsb	r4, r4, r4, lsl #4
 451              	.LVL37:
 452              		.loc 1 225 24 view .LVU131
 453 008e 064B     		ldr	r3, .L39
 454 0090 03EB8404 		add	r4, r3, r4, lsl #2
 455 0094 0023     		movs	r3, #0
 456 0096 84F82C30 		strb	r3, [r4, #44]
 226:FML/Src/EC2x.c ****         }
 227:FML/Src/EC2x.c ****         return len;
 457              		.loc 1 227 9 is_stmt 1 view .LVU132
 458              	.LVL38:
 459              	.L25:
 460              		.loc 1 227 9 is_stmt 0 view .LVU133
 461              	.LBE3:
 228:FML/Src/EC2x.c ****     }
 229:FML/Src/EC2x.c **** };
 462              		.loc 1 229 1 view .LVU134
 463 009a 38BD     		pop	{r3, r4, r5, pc}
 464              	.LVL39:
 465              	.L32:
 466              	.LCFI6:
 467              		.cfi_def_cfa_offset 0
 468              		.cfi_restore 3
 469              		.cfi_restore 4
 470              		.cfi_restore 5
 471              		.cfi_restore 14
 204:FML/Src/EC2x.c ****     else{
 472              		.loc 1 204 16 view .LVU135
 473 009c 4FF0FF30 		mov	r0, #-1
 474              	.LVL40:
 475              		.loc 1 229 1 view .LVU136
 476 00a0 7047     		bx	lr
 477              	.LVL41:
 478              	.L33:
 479              	.LCFI7:
 480              		.cfi_def_cfa_offset 16
 481              		.cfi_offset 3, -16
 482              		.cfi_offset 4, -12
 483              		.cfi_offset 5, -8
 484              		.cfi_offset 14, -4
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 14


 485              	.LBB4:
 214:FML/Src/EC2x.c ****         }
 486              		.loc 1 214 24 view .LVU137
 487 00a2 2046     		mov	r0, r4
 488 00a4 F9E7     		b	.L25
 489              	.L40:
 490 00a6 00BF     		.align	2
 491              	.L39:
 492 00a8 00000000 		.word	.LANCHOR0
 493              	.LBE4:
 494              		.cfi_endproc
 495              	.LFE295:
 497              		.section	.rodata.ec2x_handler.str1.4,"aMS",%progbits,1
 498              		.align	2
 499              	.LC0:
 500 0000 257300   		.ascii	"%s\000"
 501              		.section	.text.ec2x_handler,"ax",%progbits
 502              		.align	1
 503              		.global	ec2x_handler
 504              		.syntax unified
 505              		.thumb
 506              		.thumb_func
 508              	ec2x_handler:
 509              	.LVL42:
 510              	.LFB296:
 230:FML/Src/EC2x.c **** int ec2x_ioctl(int fd);
 231:FML/Src/EC2x.c **** 
 232:FML/Src/EC2x.c **** /**
 233:FML/Src/EC2x.c ****  * @brief 将串口接收数据copy到环形缓冲区，并更新缓冲区状态
 234:FML/Src/EC2x.c ****  * 
 235:FML/Src/EC2x.c ****  * @param huart 
 236:FML/Src/EC2x.c ****  * @param data 
 237:FML/Src/EC2x.c ****  * @param len 
 238:FML/Src/EC2x.c ****  */
 239:FML/Src/EC2x.c **** void ec2x_handler(UART_HandleTypeDef *huart,uint8_t *data,uint16_t len)
 240:FML/Src/EC2x.c **** {
 511              		.loc 1 240 1 is_stmt 1 view -0
 512              		.cfi_startproc
 513              		@ args = 0, pretend = 0, frame = 0
 514              		@ frame_needed = 0, uses_anonymous_args = 0
 515              		.loc 1 240 1 is_stmt 0 view .LVU139
 516 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 517              	.LCFI8:
 518              		.cfi_def_cfa_offset 24
 519              		.cfi_offset 3, -24
 520              		.cfi_offset 4, -20
 521              		.cfi_offset 5, -16
 522              		.cfi_offset 6, -12
 523              		.cfi_offset 7, -8
 524              		.cfi_offset 14, -4
 525 0002 0546     		mov	r5, r0
 526 0004 0C46     		mov	r4, r1
 527 0006 1646     		mov	r6, r2
 241:FML/Src/EC2x.c ****     uint8_t i = 0,j = 0;
 528              		.loc 1 241 5 is_stmt 1 view .LVU140
 529              	.LVL43:
 242:FML/Src/EC2x.c ****     shellPrint(&shell,"%s",data);
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 15


 530              		.loc 1 242 5 view .LVU141
 531 0008 0A46     		mov	r2, r1
 532              	.LVL44:
 533              		.loc 1 242 5 is_stmt 0 view .LVU142
 534 000a 3549     		ldr	r1, .L51
 535              	.LVL45:
 536              		.loc 1 242 5 view .LVU143
 537 000c 3548     		ldr	r0, .L51+4
 538              	.LVL46:
 539              		.loc 1 242 5 view .LVU144
 540 000e FFF7FEFF 		bl	shellPrint
 541              	.LVL47:
 243:FML/Src/EC2x.c ****     for(i = 0;i < sizeof(ec2x_dev)/ sizeof(EC2x_HandleTypeDef);i++)
 542              		.loc 1 243 5 is_stmt 1 view .LVU145
 543              		.loc 1 243 11 is_stmt 0 view .LVU146
 544 0012 0023     		movs	r3, #0
 545              	.LVL48:
 546              	.L42:
 547              		.loc 1 243 15 is_stmt 1 discriminator 1 view .LVU147
 548              		.loc 1 243 5 is_stmt 0 discriminator 1 view .LVU148
 549 0014 03B1     		cbz	r3, .L47
 244:FML/Src/EC2x.c ****     {
 245:FML/Src/EC2x.c ****         if(huart == ec2x_dev[i].huart)
 246:FML/Src/EC2x.c ****         {
 247:FML/Src/EC2x.c ****             RingBuffer_TypeDef *dest = &ec2x_dev[i].msg;
 248:FML/Src/EC2x.c ****             if(dest->block  == 0){
 249:FML/Src/EC2x.c ****                 dest->block = 1;
 250:FML/Src/EC2x.c ****                 for(j = 0 ; j < len; j++){
 251:FML/Src/EC2x.c ****                    
 252:FML/Src/EC2x.c ****                     dest->data[dest->tail] = data[j];
 253:FML/Src/EC2x.c ****                     dest->tail = (dest->tail +1) % dest->capacity;
 254:FML/Src/EC2x.c ****                     dest->size++;
 255:FML/Src/EC2x.c ****                     dest->size = dest->size > dest->capacity ? dest->capacity : dest->size;
 256:FML/Src/EC2x.c ****                 }
 257:FML/Src/EC2x.c ****                 if((dest->tail > dest->head)&&(dest->size == dest->capacity))
 258:FML/Src/EC2x.c ****                     dest->head = dest->tail;
 259:FML/Src/EC2x.c ****                 dest->block = 0;
 260:FML/Src/EC2x.c ****             }
 261:FML/Src/EC2x.c ****         }
 262:FML/Src/EC2x.c ****     }
 263:FML/Src/EC2x.c **** }
 550              		.loc 1 263 1 view .LVU149
 551 0016 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 552              	.LVL49:
 553              	.L47:
 245:FML/Src/EC2x.c ****         {
 554              		.loc 1 245 9 is_stmt 1 view .LVU150
 245:FML/Src/EC2x.c ****         {
 555              		.loc 1 245 32 is_stmt 0 view .LVU151
 556 0018 9E46     		mov	lr, r3
 557 001a C3EB0312 		rsb	r2, r3, r3, lsl #4
 558 001e 3249     		ldr	r1, .L51+8
 559 0020 01EB8202 		add	r2, r1, r2, lsl #2
 560 0024 1269     		ldr	r2, [r2, #16]
 245:FML/Src/EC2x.c ****         {
 561              		.loc 1 245 11 view .LVU152
 562 0026 AA42     		cmp	r2, r5
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 16


 563 0028 02D0     		beq	.L49
 564              	.L43:
 243:FML/Src/EC2x.c ****     for(i = 0;i < sizeof(ec2x_dev)/ sizeof(EC2x_HandleTypeDef);i++)
 565              		.loc 1 243 64 is_stmt 1 discriminator 2 view .LVU153
 243:FML/Src/EC2x.c ****     for(i = 0;i < sizeof(ec2x_dev)/ sizeof(EC2x_HandleTypeDef);i++)
 566              		.loc 1 243 65 is_stmt 0 discriminator 2 view .LVU154
 567 002a 0133     		adds	r3, r3, #1
 568              	.LVL50:
 243:FML/Src/EC2x.c ****     for(i = 0;i < sizeof(ec2x_dev)/ sizeof(EC2x_HandleTypeDef);i++)
 569              		.loc 1 243 65 discriminator 2 view .LVU155
 570 002c DBB2     		uxtb	r3, r3
 571              	.LVL51:
 243:FML/Src/EC2x.c ****     for(i = 0;i < sizeof(ec2x_dev)/ sizeof(EC2x_HandleTypeDef);i++)
 572              		.loc 1 243 65 discriminator 2 view .LVU156
 573 002e F1E7     		b	.L42
 574              	.L49:
 575              	.LBB5:
 247:FML/Src/EC2x.c ****             if(dest->block  == 0){
 576              		.loc 1 247 13 is_stmt 1 view .LVU157
 577              	.LVL52:
 248:FML/Src/EC2x.c ****                 dest->block = 1;
 578              		.loc 1 248 13 view .LVU158
 248:FML/Src/EC2x.c ****                 dest->block = 1;
 579              		.loc 1 248 20 is_stmt 0 view .LVU159
 580 0030 C3EB0312 		rsb	r2, r3, r3, lsl #4
 581 0034 01EB8202 		add	r2, r1, r2, lsl #2
 582 0038 92F82C20 		ldrb	r2, [r2, #44]	@ zero_extendqisi2
 248:FML/Src/EC2x.c ****                 dest->block = 1;
 583              		.loc 1 248 15 view .LVU160
 584 003c 002A     		cmp	r2, #0
 585 003e F4D1     		bne	.L43
 249:FML/Src/EC2x.c ****                 for(j = 0 ; j < len; j++){
 586              		.loc 1 249 17 is_stmt 1 view .LVU161
 249:FML/Src/EC2x.c ****                 for(j = 0 ; j < len; j++){
 587              		.loc 1 249 29 is_stmt 0 view .LVU162
 588 0040 C3EB0312 		rsb	r2, r3, r3, lsl #4
 589 0044 01EB8202 		add	r2, r1, r2, lsl #2
 590 0048 0121     		movs	r1, #1
 591 004a 82F82C10 		strb	r1, [r2, #44]
 250:FML/Src/EC2x.c ****                    
 592              		.loc 1 250 17 is_stmt 1 view .LVU163
 593              	.LVL53:
 250:FML/Src/EC2x.c ****                    
 594              		.loc 1 250 23 is_stmt 0 view .LVU164
 595 004e 1846     		mov	r0, r3
 250:FML/Src/EC2x.c ****                    
 596              		.loc 1 250 17 view .LVU165
 597 0050 22E0     		b	.L44
 598              	.LVL54:
 599              	.L45:
 252:FML/Src/EC2x.c ****                     dest->tail = (dest->tail +1) % dest->capacity;
 600              		.loc 1 252 21 is_stmt 1 discriminator 3 view .LVU166
 252:FML/Src/EC2x.c ****                     dest->tail = (dest->tail +1) % dest->capacity;
 601              		.loc 1 252 25 is_stmt 0 discriminator 3 view .LVU167
 602 0052 CEEB0E1C 		rsb	ip, lr, lr, lsl #4
 603 0056 244A     		ldr	r2, .L51+8
 604 0058 02EB8C0C 		add	ip, r2, ip, lsl #2
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 17


 605 005c DCF83020 		ldr	r2, [ip, #48]
 252:FML/Src/EC2x.c ****                     dest->tail = (dest->tail +1) % dest->capacity;
 606              		.loc 1 252 36 discriminator 3 view .LVU168
 607 0060 BCF83610 		ldrh	r1, [ip, #54]
 252:FML/Src/EC2x.c ****                     dest->tail = (dest->tail +1) % dest->capacity;
 608              		.loc 1 252 50 discriminator 3 view .LVU169
 609 0064 275C     		ldrb	r7, [r4, r0]	@ zero_extendqisi2
 252:FML/Src/EC2x.c ****                     dest->tail = (dest->tail +1) % dest->capacity;
 610              		.loc 1 252 44 discriminator 3 view .LVU170
 611 0066 5754     		strb	r7, [r2, r1]
 253:FML/Src/EC2x.c ****                     dest->size++;
 612              		.loc 1 253 21 is_stmt 1 discriminator 3 view .LVU171
 253:FML/Src/EC2x.c ****                     dest->size++;
 613              		.loc 1 253 39 is_stmt 0 discriminator 3 view .LVU172
 614 0068 BCF83620 		ldrh	r2, [ip, #54]
 253:FML/Src/EC2x.c ****                     dest->size++;
 615              		.loc 1 253 46 discriminator 3 view .LVU173
 616 006c 0132     		adds	r2, r2, #1
 253:FML/Src/EC2x.c ****                     dest->size++;
 617              		.loc 1 253 56 discriminator 3 view .LVU174
 618 006e BCF83A70 		ldrh	r7, [ip, #58]
 253:FML/Src/EC2x.c ****                     dest->size++;
 619              		.loc 1 253 50 discriminator 3 view .LVU175
 620 0072 92FBF7F1 		sdiv	r1, r2, r7
 621 0076 07FB1122 		mls	r2, r7, r1, r2
 253:FML/Src/EC2x.c ****                     dest->size++;
 622              		.loc 1 253 32 discriminator 3 view .LVU176
 623 007a ACF83620 		strh	r2, [ip, #54]	@ movhi
 254:FML/Src/EC2x.c ****                     dest->size = dest->size > dest->capacity ? dest->capacity : dest->size;
 624              		.loc 1 254 21 is_stmt 1 discriminator 3 view .LVU177
 254:FML/Src/EC2x.c ****                     dest->size = dest->size > dest->capacity ? dest->capacity : dest->size;
 625              		.loc 1 254 25 is_stmt 0 discriminator 3 view .LVU178
 626 007e BCF83810 		ldrh	r1, [ip, #56]
 254:FML/Src/EC2x.c ****                     dest->size = dest->size > dest->capacity ? dest->capacity : dest->size;
 627              		.loc 1 254 31 discriminator 3 view .LVU179
 628 0082 0131     		adds	r1, r1, #1
 629 0084 89B2     		uxth	r1, r1
 630 0086 ACF83810 		strh	r1, [ip, #56]	@ movhi
 255:FML/Src/EC2x.c ****                 }
 631              		.loc 1 255 21 is_stmt 1 discriminator 3 view .LVU180
 255:FML/Src/EC2x.c ****                 }
 632              		.loc 1 255 79 is_stmt 0 discriminator 3 view .LVU181
 633 008a B942     		cmp	r1, r7
 634 008c 28BF     		it	cs
 635 008e 3946     		movcs	r1, r7
 255:FML/Src/EC2x.c ****                 }
 636              		.loc 1 255 32 discriminator 3 view .LVU182
 637 0090 ACF83810 		strh	r1, [ip, #56]	@ movhi
 250:FML/Src/EC2x.c ****                    
 638              		.loc 1 250 38 is_stmt 1 discriminator 3 view .LVU183
 250:FML/Src/EC2x.c ****                    
 639              		.loc 1 250 39 is_stmt 0 discriminator 3 view .LVU184
 640 0094 0130     		adds	r0, r0, #1
 641              	.LVL55:
 250:FML/Src/EC2x.c ****                    
 642              		.loc 1 250 39 discriminator 3 view .LVU185
 643 0096 C0B2     		uxtb	r0, r0
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 18


 644              	.LVL56:
 645              	.L44:
 250:FML/Src/EC2x.c ****                    
 646              		.loc 1 250 29 is_stmt 1 discriminator 1 view .LVU186
 250:FML/Src/EC2x.c ****                    
 647              		.loc 1 250 31 is_stmt 0 discriminator 1 view .LVU187
 648 0098 82B2     		uxth	r2, r0
 250:FML/Src/EC2x.c ****                    
 649              		.loc 1 250 17 discriminator 1 view .LVU188
 650 009a B242     		cmp	r2, r6
 651 009c D9D3     		bcc	.L45
 257:FML/Src/EC2x.c ****                     dest->head = dest->tail;
 652              		.loc 1 257 17 is_stmt 1 view .LVU189
 257:FML/Src/EC2x.c ****                     dest->head = dest->tail;
 653              		.loc 1 257 25 is_stmt 0 view .LVU190
 654 009e CEEB0E12 		rsb	r2, lr, lr, lsl #4
 655 00a2 1149     		ldr	r1, .L51+8
 656 00a4 01EB8202 		add	r2, r1, r2, lsl #2
 657 00a8 D08E     		ldrh	r0, [r2, #54]
 658              	.LVL57:
 257:FML/Src/EC2x.c ****                     dest->head = dest->tail;
 659              		.loc 1 257 38 view .LVU191
 660 00aa 928E     		ldrh	r2, [r2, #52]
 257:FML/Src/EC2x.c ****                     dest->head = dest->tail;
 661              		.loc 1 257 19 view .LVU192
 662 00ac 9042     		cmp	r0, r2
 663 00ae 07D9     		bls	.L46
 257:FML/Src/EC2x.c ****                     dest->head = dest->tail;
 664              		.loc 1 257 52 discriminator 1 view .LVU193
 665 00b0 CEEB0E12 		rsb	r2, lr, lr, lsl #4
 666 00b4 01EB8202 		add	r2, r1, r2, lsl #2
 667 00b8 118F     		ldrh	r1, [r2, #56]
 257:FML/Src/EC2x.c ****                     dest->head = dest->tail;
 668              		.loc 1 257 66 discriminator 1 view .LVU194
 669 00ba 528F     		ldrh	r2, [r2, #58]
 257:FML/Src/EC2x.c ****                     dest->head = dest->tail;
 670              		.loc 1 257 45 discriminator 1 view .LVU195
 671 00bc 9142     		cmp	r1, r2
 672 00be 08D0     		beq	.L50
 673              	.L46:
 259:FML/Src/EC2x.c ****             }
 674              		.loc 1 259 17 is_stmt 1 view .LVU196
 259:FML/Src/EC2x.c ****             }
 675              		.loc 1 259 29 is_stmt 0 view .LVU197
 676 00c0 CEEB0E1E 		rsb	lr, lr, lr, lsl #4
 677 00c4 084A     		ldr	r2, .L51+8
 678 00c6 02EB8E0E 		add	lr, r2, lr, lsl #2
 679 00ca 0022     		movs	r2, #0
 680 00cc 8EF82C20 		strb	r2, [lr, #44]
 681 00d0 ABE7     		b	.L43
 682              	.L50:
 258:FML/Src/EC2x.c ****                 dest->block = 0;
 683              		.loc 1 258 21 is_stmt 1 view .LVU198
 258:FML/Src/EC2x.c ****                 dest->block = 0;
 684              		.loc 1 258 32 is_stmt 0 view .LVU199
 685 00d2 CEEB0E12 		rsb	r2, lr, lr, lsl #4
 686 00d6 0449     		ldr	r1, .L51+8
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 19


 687 00d8 01EB8202 		add	r2, r1, r2, lsl #2
 688 00dc 9086     		strh	r0, [r2, #52]	@ movhi
 689 00de EFE7     		b	.L46
 690              	.L52:
 691              		.align	2
 692              	.L51:
 693 00e0 00000000 		.word	.LC0
 694 00e4 00000000 		.word	shell
 695 00e8 00000000 		.word	.LANCHOR0
 696              	.LBE5:
 697              		.cfi_endproc
 698              	.LFE296:
 700              		.section	.text.ec2x_replymatch,"ax",%progbits
 701              		.align	1
 702              		.global	ec2x_replymatch
 703              		.syntax unified
 704              		.thumb
 705              		.thumb_func
 707              	ec2x_replymatch:
 708              	.LVL58:
 709              	.LFB297:
 264:FML/Src/EC2x.c **** 
 265:FML/Src/EC2x.c **** 
 266:FML/Src/EC2x.c **** /**
 267:FML/Src/EC2x.c ****  * @brief 回复匹配函数
 268:FML/Src/EC2x.c ****  *        1）匹配成功，则插入回复成功事件
 269:FML/Src/EC2x.c ****  *        2.1）匹配失败，超时次数-1
 270:FML/Src/EC2x.c ****  *        2.2）匹配失败，超时次数=0，插入超时事件消息
 271:FML/Src/EC2x.c ****  * 
 272:FML/Src/EC2x.c ****  * @param expect 
 273:FML/Src/EC2x.c ****  * @return int 
 274:FML/Src/EC2x.c ****  */
 275:FML/Src/EC2x.c **** int ec2x_replymatch(uint8_t* expect){
 710              		.loc 1 275 37 is_stmt 1 view -0
 711              		.cfi_startproc
 712              		@ args = 0, pretend = 0, frame = 200
 713              		@ frame_needed = 0, uses_anonymous_args = 0
 714              		.loc 1 275 37 is_stmt 0 view .LVU201
 715 0000 30B5     		push	{r4, r5, lr}
 716              	.LCFI9:
 717              		.cfi_def_cfa_offset 12
 718              		.cfi_offset 4, -12
 719              		.cfi_offset 5, -8
 720              		.cfi_offset 14, -4
 721 0002 B3B0     		sub	sp, sp, #204
 722              	.LCFI10:
 723              		.cfi_def_cfa_offset 216
 724 0004 0546     		mov	r5, r0
 276:FML/Src/EC2x.c ****     uint8_t rx_buff[200]  = {0x00};
 725              		.loc 1 276 5 is_stmt 1 view .LVU202
 726              		.loc 1 276 13 is_stmt 0 view .LVU203
 727 0006 0024     		movs	r4, #0
 728 0008 0094     		str	r4, [sp]
 729 000a C422     		movs	r2, #196
 730 000c 2146     		mov	r1, r4
 731 000e 01A8     		add	r0, sp, #4
 732              	.LVL59:
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 20


 733              		.loc 1 276 13 view .LVU204
 734 0010 FFF7FEFF 		bl	memset
 735              	.LVL60:
 277:FML/Src/EC2x.c ****     int bytes_num = 0;
 736              		.loc 1 277 5 is_stmt 1 view .LVU205
 278:FML/Src/EC2x.c ****     bytes_num =  ec2x_read(0,rx_buff,200);
 737              		.loc 1 278 5 view .LVU206
 738              		.loc 1 278 18 is_stmt 0 view .LVU207
 739 0014 C822     		movs	r2, #200
 740 0016 6946     		mov	r1, sp
 741 0018 2046     		mov	r0, r4
 742 001a FFF7FEFF 		bl	ec2x_read
 743              	.LVL61:
 279:FML/Src/EC2x.c ****     if(bytes_num > 0)
 744              		.loc 1 279 5 is_stmt 1 view .LVU208
 745              		.loc 1 279 7 is_stmt 0 view .LVU209
 746 001e A042     		cmp	r0, r4
 747 0020 08DD     		ble	.L55
 280:FML/Src/EC2x.c ****     {
 281:FML/Src/EC2x.c ****         if(strstr((const char*)rx_buff,(const char*)expect) != NULL){
 748              		.loc 1 281 9 is_stmt 1 view .LVU210
 749              		.loc 1 281 12 is_stmt 0 view .LVU211
 750 0022 2946     		mov	r1, r5
 751 0024 6846     		mov	r0, sp
 752              	.LVL62:
 753              		.loc 1 281 12 view .LVU212
 754 0026 FFF7FEFF 		bl	strstr
 755              	.LVL63:
 756              		.loc 1 281 11 view .LVU213
 757 002a 08B1     		cbz	r0, .L58
 282:FML/Src/EC2x.c ****             return 1;
 758              		.loc 1 282 20 view .LVU214
 759 002c 0120     		movs	r0, #1
 760 002e 02E0     		b	.L53
 761              	.L58:
 283:FML/Src/EC2x.c ****         }
 284:FML/Src/EC2x.c ****     }
 285:FML/Src/EC2x.c ****     return 0;
 762              		.loc 1 285 12 view .LVU215
 763 0030 2046     		mov	r0, r4
 764 0032 00E0     		b	.L53
 765              	.LVL64:
 766              	.L55:
 767              		.loc 1 285 12 view .LVU216
 768 0034 0020     		movs	r0, #0
 769              	.LVL65:
 770              	.L53:
 286:FML/Src/EC2x.c **** }
 771              		.loc 1 286 1 view .LVU217
 772 0036 33B0     		add	sp, sp, #204
 773              	.LCFI11:
 774              		.cfi_def_cfa_offset 12
 775              		@ sp needed
 776 0038 30BD     		pop	{r4, r5, pc}
 777              		.loc 1 286 1 view .LVU218
 778              		.cfi_endproc
 779              	.LFE297:
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 21


 781              		.section	.text.ec2x_cmd_send,"ax",%progbits
 782              		.align	1
 783              		.syntax unified
 784              		.thumb
 785              		.thumb_func
 787              	ec2x_cmd_send:
 788              	.LVL66:
 789              	.LFB298:
 287:FML/Src/EC2x.c **** 
 288:FML/Src/EC2x.c **** 
 289:FML/Src/EC2x.c **** /**
 290:FML/Src/EC2x.c ****  * @brief ec2x指令发送函数
 291:FML/Src/EC2x.c ****  *        1）发送指令
 292:FML/Src/EC2x.c ****  *        2）进入等待回复状态
 293:FML/Src/EC2x.c ****  * @param fd 
 294:FML/Src/EC2x.c ****  * @param tx_buff 
 295:FML/Src/EC2x.c ****  * @param len 
 296:FML/Src/EC2x.c ****  * @param expect_reply 
 297:FML/Src/EC2x.c ****  * @param timeout 
 298:FML/Src/EC2x.c ****  */
 299:FML/Src/EC2x.c **** int ec2x_cmd_send(int fd,uint8_t *tx_buff,uint16_t len,uint8_t *expect_reply,uint16_t timeout)
 300:FML/Src/EC2x.c **** {
 790              		.loc 1 300 1 is_stmt 1 view -0
 791              		.cfi_startproc
 792              		@ args = 4, pretend = 0, frame = 0
 793              		@ frame_needed = 0, uses_anonymous_args = 0
 794              		.loc 1 300 1 is_stmt 0 view .LVU220
 795 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 796              	.LCFI12:
 797              		.cfi_def_cfa_offset 32
 798              		.cfi_offset 3, -32
 799              		.cfi_offset 4, -28
 800              		.cfi_offset 5, -24
 801              		.cfi_offset 6, -20
 802              		.cfi_offset 7, -16
 803              		.cfi_offset 8, -12
 804              		.cfi_offset 9, -8
 805              		.cfi_offset 14, -4
 806 0004 1D46     		mov	r5, r3
 301:FML/Src/EC2x.c ****     if(tx_buff !=NULL){
 807              		.loc 1 301 5 is_stmt 1 view .LVU221
 808              		.loc 1 301 7 is_stmt 0 view .LVU222
 809 0006 D9B1     		cbz	r1, .L60
 810 0008 0646     		mov	r6, r0
 811 000a 9046     		mov	r8, r2
 812 000c 8946     		mov	r9, r1
 302:FML/Src/EC2x.c ****         ec2x_dev[fd].msg.block = 1;
 813              		.loc 1 302 9 is_stmt 1 view .LVU223
 814              		.loc 1 302 32 is_stmt 0 view .LVU224
 815 000e C0EB0013 		rsb	r3, r0, r0, lsl #4
 816              	.LVL67:
 817              		.loc 1 302 32 view .LVU225
 818 0012 184C     		ldr	r4, .L67
 819 0014 04EB8304 		add	r4, r4, r3, lsl #2
 820 0018 0123     		movs	r3, #1
 821 001a 84F82C30 		strb	r3, [r4, #44]
 303:FML/Src/EC2x.c ****         ec2x_dev[fd].msg.head = 0;
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 22


 822              		.loc 1 303 9 is_stmt 1 view .LVU226
 823              		.loc 1 303 31 is_stmt 0 view .LVU227
 824 001e 0027     		movs	r7, #0
 825 0020 A786     		strh	r7, [r4, #52]	@ movhi
 304:FML/Src/EC2x.c ****         ec2x_dev[fd].msg.tail = 0;
 826              		.loc 1 304 9 is_stmt 1 view .LVU228
 827              		.loc 1 304 31 is_stmt 0 view .LVU229
 828 0022 E786     		strh	r7, [r4, #54]	@ movhi
 305:FML/Src/EC2x.c ****         ec2x_dev[fd].msg.size = 0;
 829              		.loc 1 305 9 is_stmt 1 view .LVU230
 830              		.loc 1 305 31 is_stmt 0 view .LVU231
 831 0024 2787     		strh	r7, [r4, #56]	@ movhi
 306:FML/Src/EC2x.c ****         ec2x_dev[fd].msg.capacity = BUFF_LEN;
 832              		.loc 1 306 9 is_stmt 1 view .LVU232
 833              		.loc 1 306 35 is_stmt 0 view .LVU233
 834 0026 C822     		movs	r2, #200
 835              	.LVL68:
 836              		.loc 1 306 35 view .LVU234
 837 0028 6287     		strh	r2, [r4, #58]	@ movhi
 307:FML/Src/EC2x.c ****         memset(ec2x_dev[fd].msg.data,0x00,BUFF_LEN);
 838              		.loc 1 307 9 is_stmt 1 view .LVU235
 839 002a 3946     		mov	r1, r7
 840              	.LVL69:
 841              		.loc 1 307 9 is_stmt 0 view .LVU236
 842 002c 206B     		ldr	r0, [r4, #48]
 843              	.LVL70:
 844              		.loc 1 307 9 view .LVU237
 845 002e FFF7FEFF 		bl	memset
 846              	.LVL71:
 308:FML/Src/EC2x.c ****         ec2x_dev[fd].msg.block = 0;
 847              		.loc 1 308 9 is_stmt 1 view .LVU238
 848              		.loc 1 308 32 is_stmt 0 view .LVU239
 849 0032 84F82C70 		strb	r7, [r4, #44]
 309:FML/Src/EC2x.c ****         ec2x_write(fd,tx_buff,len);
 850              		.loc 1 309 9 is_stmt 1 view .LVU240
 851 0036 4246     		mov	r2, r8
 852 0038 4946     		mov	r1, r9
 853 003a 3046     		mov	r0, r6
 854 003c FFF7FEFF 		bl	ec2x_write
 855              	.LVL72:
 856              	.L60:
 310:FML/Src/EC2x.c ****     }
 311:FML/Src/EC2x.c ****     if(expect_reply != NULL){
 857              		.loc 1 311 5 view .LVU241
 858              		.loc 1 311 7 is_stmt 0 view .LVU242
 859 0040 ADB1     		cbz	r5, .L64
 860              	.LBB6:
 312:FML/Src/EC2x.c ****         uint16_t retry_times = timeout / 100;
 861              		.loc 1 312 9 is_stmt 1 view .LVU243
 862              		.loc 1 312 18 is_stmt 0 view .LVU244
 863 0042 BDF82040 		ldrh	r4, [sp, #32]
 864 0046 0C4B     		ldr	r3, .L67+4
 865 0048 A3FB0434 		umull	r3, r4, r3, r4
 866 004c 6409     		lsrs	r4, r4, #5
 867              	.LVL73:
 313:FML/Src/EC2x.c ****         while(retry_times--){
 868              		.loc 1 313 9 is_stmt 1 view .LVU245
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 23


 869              	.L62:
 870              		.loc 1 313 14 view .LVU246
 871 004e 2246     		mov	r2, r4
 872              		.loc 1 313 26 is_stmt 0 view .LVU247
 873 0050 013C     		subs	r4, r4, #1
 874              	.LVL74:
 875              		.loc 1 313 26 view .LVU248
 876 0052 A4B2     		uxth	r4, r4
 877              	.LVL75:
 878              		.loc 1 313 14 view .LVU249
 879 0054 42B1     		cbz	r2, .L66
 314:FML/Src/EC2x.c ****             Delay_ms(100);
 880              		.loc 1 314 13 is_stmt 1 view .LVU250
 881 0056 6420     		movs	r0, #100
 882 0058 FFF7FEFF 		bl	Delay_ms
 883              	.LVL76:
 315:FML/Src/EC2x.c ****             if(ec2x_replymatch(expect_reply) == 1)
 884              		.loc 1 315 13 view .LVU251
 885              		.loc 1 315 16 is_stmt 0 view .LVU252
 886 005c 2846     		mov	r0, r5
 887 005e FFF7FEFF 		bl	ec2x_replymatch
 888              	.LVL77:
 889              		.loc 1 315 15 view .LVU253
 890 0062 0128     		cmp	r0, #1
 891 0064 F3D1     		bne	.L62
 892 0066 00E0     		b	.L59
 893              	.L66:
 894              		.loc 1 315 15 view .LVU254
 895              	.LBE6:
 316:FML/Src/EC2x.c ****                 return  1;
 317:FML/Src/EC2x.c ****         }
 318:FML/Src/EC2x.c ****     }
 319:FML/Src/EC2x.c ****     return 0;
 896              		.loc 1 319 12 view .LVU255
 897 0068 0020     		movs	r0, #0
 898              	.LVL78:
 899              	.L59:
 320:FML/Src/EC2x.c **** }
 900              		.loc 1 320 1 view .LVU256
 901 006a BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 902              	.LVL79:
 903              	.L64:
 319:FML/Src/EC2x.c **** }
 904              		.loc 1 319 12 view .LVU257
 905 006e 0020     		movs	r0, #0
 906 0070 FBE7     		b	.L59
 907              	.L68:
 908 0072 00BF     		.align	2
 909              	.L67:
 910 0074 00000000 		.word	.LANCHOR0
 911 0078 1F85EB51 		.word	1374389535
 912              		.cfi_endproc
 913              	.LFE298:
 915              		.section	.rodata.ec2x_reset.str1.4,"aMS",%progbits,1
 916              		.align	2
 917              	.LC1:
 918 0000 5244592F 		.ascii	"RDY/r/n\000"
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 24


 918      722F6E00 
 919              		.section	.text.ec2x_reset,"ax",%progbits
 920              		.align	1
 921              		.syntax unified
 922              		.thumb
 923              		.thumb_func
 925              	ec2x_reset:
 926              	.LVL80:
 927              	.LFB292:
 124:FML/Src/EC2x.c ****     fd = 0;
 928              		.loc 1 124 23 is_stmt 1 view -0
 929              		.cfi_startproc
 930              		@ args = 0, pretend = 0, frame = 0
 931              		@ frame_needed = 0, uses_anonymous_args = 0
 124:FML/Src/EC2x.c ****     fd = 0;
 932              		.loc 1 124 23 is_stmt 0 view .LVU259
 933 0000 10B5     		push	{r4, lr}
 934              	.LCFI13:
 935              		.cfi_def_cfa_offset 8
 936              		.cfi_offset 4, -8
 937              		.cfi_offset 14, -4
 938 0002 82B0     		sub	sp, sp, #8
 939              	.LCFI14:
 940              		.cfi_def_cfa_offset 16
 125:FML/Src/EC2x.c ****     int err_code = 0;
 941              		.loc 1 125 5 is_stmt 1 view .LVU260
 942              	.LVL81:
 126:FML/Src/EC2x.c ****     if(fd >= sizeof(ec2x_dev)/ sizeof(EC2x_HandleTypeDef))
 943              		.loc 1 126 5 view .LVU261
 127:FML/Src/EC2x.c ****         return (err_code = -1);
 944              		.loc 1 127 5 view .LVU262
 945              	.LBB7:
 130:FML/Src/EC2x.c ****         HAL_GPIO_WritePin(device->pwren_port, device->pwren_pin, GPIO_PIN_SET);
 946              		.loc 1 130 9 view .LVU263
 131:FML/Src/EC2x.c ****         Delay_ms(500);
 947              		.loc 1 131 9 view .LVU264
 948 0004 0C4C     		ldr	r4, .L71
 949 0006 0122     		movs	r2, #1
 950 0008 218B     		ldrh	r1, [r4, #24]
 951 000a 6069     		ldr	r0, [r4, #20]
 952 000c FFF7FEFF 		bl	HAL_GPIO_WritePin
 953              	.LVL82:
 132:FML/Src/EC2x.c ****         HAL_GPIO_WritePin(device->pwren_port, device->pwren_pin, GPIO_PIN_RESET);
 954              		.loc 1 132 9 view .LVU265
 955 0010 4FF4FA70 		mov	r0, #500
 956 0014 FFF7FEFF 		bl	Delay_ms
 957              	.LVL83:
 133:FML/Src/EC2x.c ****     }
 958              		.loc 1 133 9 view .LVU266
 959 0018 0022     		movs	r2, #0
 960 001a 218B     		ldrh	r1, [r4, #24]
 961 001c 6069     		ldr	r0, [r4, #20]
 962 001e FFF7FEFF 		bl	HAL_GPIO_WritePin
 963              	.LVL84:
 964              	.LBE7:
 135:FML/Src/EC2x.c **** }
 965              		.loc 1 135 5 view .LVU267
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 25


 135:FML/Src/EC2x.c **** }
 966              		.loc 1 135 12 is_stmt 0 view .LVU268
 967 0022 44F62063 		movw	r3, #20000
 968 0026 0093     		str	r3, [sp]
 969 0028 044B     		ldr	r3, .L71+4
 970 002a 0022     		movs	r2, #0
 971 002c 1146     		mov	r1, r2
 972 002e 1046     		mov	r0, r2
 973 0030 FFF7FEFF 		bl	ec2x_cmd_send
 974              	.LVL85:
 136:FML/Src/EC2x.c **** 
 975              		.loc 1 136 1 view .LVU269
 976 0034 02B0     		add	sp, sp, #8
 977              	.LCFI15:
 978              		.cfi_def_cfa_offset 8
 979              		@ sp needed
 980 0036 10BD     		pop	{r4, pc}
 981              	.L72:
 982              		.align	2
 983              	.L71:
 984 0038 00000000 		.word	.LANCHOR0
 985 003c 00000000 		.word	.LC1
 986              		.cfi_endproc
 987              	.LFE292:
 989              		.section	.rodata.ec2x_tcp_connect.str1.4,"aMS",%progbits,1
 990              		.align	2
 991              	.LC2:
 992 0000 25732065 		.ascii	"%s err\015\012\000"
 992      72720D0A 
 992      00
 993 0009 000000   		.align	2
 994              	.LC3:
 995 000c 74637020 		.ascii	"tcp is connected\015\012\000"
 995      69732063 
 995      6F6E6E65 
 995      63746564 
 995      0D0A00
 996              		.section	.text.ec2x_tcp_connect,"ax",%progbits
 997              		.align	1
 998              		.global	ec2x_tcp_connect
 999              		.syntax unified
 1000              		.thumb
 1001              		.thumb_func
 1003              	ec2x_tcp_connect:
 1004              	.LVL86:
 1005              	.LFB299:
 321:FML/Src/EC2x.c **** 
 322:FML/Src/EC2x.c **** /**
 323:FML/Src/EC2x.c ****  * @brief tcp 连接流程
 324:FML/Src/EC2x.c ****  * 
 325:FML/Src/EC2x.c ****  * @param fd 
 326:FML/Src/EC2x.c ****  * @return uint8_t 
 327:FML/Src/EC2x.c ****  */
 328:FML/Src/EC2x.c **** uint8_t ec2x_tcp_connect(int fd){
 1006              		.loc 1 328 33 is_stmt 1 view -0
 1007              		.cfi_startproc
 1008              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 26


 1009              		@ frame_needed = 0, uses_anonymous_args = 0
 1010              		.loc 1 328 33 is_stmt 0 view .LVU271
 1011 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1012              	.LCFI16:
 1013              		.cfi_def_cfa_offset 24
 1014              		.cfi_offset 4, -24
 1015              		.cfi_offset 5, -20
 1016              		.cfi_offset 6, -16
 1017              		.cfi_offset 7, -12
 1018              		.cfi_offset 8, -8
 1019              		.cfi_offset 14, -4
 1020 0004 82B0     		sub	sp, sp, #8
 1021              	.LCFI17:
 1022              		.cfi_def_cfa_offset 32
 1023 0006 0546     		mov	r5, r0
 329:FML/Src/EC2x.c ****     static uint8_t step = 0,retry =0;
 1024              		.loc 1 329 5 is_stmt 1 view .LVU272
 330:FML/Src/EC2x.c ****     ec2x_reset(fd);
 1025              		.loc 1 330 5 view .LVU273
 1026 0008 FFF7FEFF 		bl	ec2x_reset
 1027              	.LVL87:
 331:FML/Src/EC2x.c ****     while(step < 9){
 1028              		.loc 1 331 5 view .LVU274
 1029              	.L75:
 1030              		.loc 1 331 10 view .LVU275
 1031              		.loc 1 331 16 is_stmt 0 view .LVU276
 1032 000c A84B     		ldr	r3, .L121
 1033 000e 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
 1034              		.loc 1 331 10 view .LVU277
 1035 0010 082C     		cmp	r4, #8
 1036 0012 00F21C82 		bhi	.L73
 332:FML/Src/EC2x.c ****         switch (step)
 1037              		.loc 1 332 9 is_stmt 1 view .LVU278
 1038 0016 082C     		cmp	r4, #8
 1039 0018 F8D8     		bhi	.L75
 1040 001a DFE814F0 		tbh	[pc, r4, lsl #1]
 1041              	.L77:
 1042 001e 0900     		.2byte	(.L85-.L77)/2
 1043 0020 4900     		.2byte	(.L84-.L77)/2
 1044 0022 8900     		.2byte	(.L83-.L77)/2
 1045 0024 C900     		.2byte	(.L82-.L77)/2
 1046 0026 0901     		.2byte	(.L81-.L77)/2
 1047 0028 5301     		.2byte	(.L80-.L77)/2
 1048 002a 9301     		.2byte	(.L79-.L77)/2
 1049 002c D301     		.2byte	(.L78-.L77)/2
 1050 002e 1302     		.2byte	(.L76-.L77)/2
 1051              		.p2align 1
 1052              	.L85:
 333:FML/Src/EC2x.c ****         {
 334:FML/Src/EC2x.c ****             case 0: 
 335:FML/Src/EC2x.c ****             {
 336:FML/Src/EC2x.c ****                 if(ec2x_cmd_send(fd,connectmsg_queue[step].txmsg,strlen(connectmsg_queue[step].txms
 1053              		.loc 1 336 17 view .LVU279
 1054              		.loc 1 336 20 is_stmt 0 view .LVU280
 1055 0030 A04F     		ldr	r7, .L121+4
 1056 0032 6600     		lsls	r6, r4, #1
 1057 0034 04EB4403 		add	r3, r4, r4, lsl #1
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 27


 1058 0038 57F82380 		ldr	r8, [r7, r3, lsl #2]
 1059              		.loc 1 336 66 view .LVU281
 1060 003c 4046     		mov	r0, r8
 1061 003e FFF7FEFF 		bl	strlen
 1062              	.LVL88:
 1063              		.loc 1 336 20 view .LVU282
 1064 0042 3444     		add	r4, r4, r6
 1065 0044 07EB8404 		add	r4, r7, r4, lsl #2
 1066 0048 3B89     		ldrh	r3, [r7, #8]
 1067 004a 0093     		str	r3, [sp]
 1068 004c 6368     		ldr	r3, [r4, #4]
 1069 004e 82B2     		uxth	r2, r0
 1070 0050 4146     		mov	r1, r8
 1071 0052 2846     		mov	r0, r5
 1072 0054 FFF7FEFF 		bl	ec2x_cmd_send
 1073              	.LVL89:
 1074              		.loc 1 336 19 view .LVU283
 1075 0058 50B1     		cbz	r0, .L86
 337:FML/Src/EC2x.c ****                 {    
 338:FML/Src/EC2x.c ****                     step++;
 1076              		.loc 1 338 21 is_stmt 1 view .LVU284
 1077              		.loc 1 338 25 is_stmt 0 view .LVU285
 1078 005a 954A     		ldr	r2, .L121
 1079 005c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1080 005e 0133     		adds	r3, r3, #1
 1081 0060 1370     		strb	r3, [r2]
 339:FML/Src/EC2x.c ****                     retry = 0;
 1082              		.loc 1 339 21 is_stmt 1 view .LVU286
 1083              		.loc 1 339 27 is_stmt 0 view .LVU287
 1084 0062 954B     		ldr	r3, .L121+8
 1085 0064 0022     		movs	r2, #0
 1086 0066 1A70     		strb	r2, [r3]
 1087              	.L87:
 340:FML/Src/EC2x.c ****                 }
 341:FML/Src/EC2x.c ****                 else
 342:FML/Src/EC2x.c ****                 {
 343:FML/Src/EC2x.c ****                     if(connectmsg_queue[step].retry_times < retry)
 344:FML/Src/EC2x.c ****                     {
 345:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 346:FML/Src/EC2x.c ****                         ec2x_reset(fd); 
 347:FML/Src/EC2x.c ****                         step = 0;
 348:FML/Src/EC2x.c ****                     }
 349:FML/Src/EC2x.c ****                     else
 350:FML/Src/EC2x.c ****                         retry++;
 351:FML/Src/EC2x.c ****                 }
 352:FML/Src/EC2x.c ****                 Delay_ms(100);
 1088              		.loc 1 352 17 is_stmt 1 view .LVU288
 1089 0068 6420     		movs	r0, #100
 1090 006a FFF7FEFF 		bl	Delay_ms
 1091              	.LVL90:
 353:FML/Src/EC2x.c ****             }
 354:FML/Src/EC2x.c ****             break;
 1092              		.loc 1 354 13 view .LVU289
 1093 006e CDE7     		b	.L75
 1094              	.L86:
 343:FML/Src/EC2x.c ****                     {
 1095              		.loc 1 343 21 view .LVU290
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 28


 343:FML/Src/EC2x.c ****                     {
 1096              		.loc 1 343 46 is_stmt 0 view .LVU291
 1097 0070 8F4B     		ldr	r3, .L121
 1098 0072 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1099 0074 03EB4301 		add	r1, r3, r3, lsl #1
 1100 0078 8E4A     		ldr	r2, .L121+4
 1101 007a 02EB8102 		add	r2, r2, r1, lsl #2
 1102 007e 917A     		ldrb	r1, [r2, #10]	@ zero_extendqisi2
 343:FML/Src/EC2x.c ****                     {
 1103              		.loc 1 343 59 view .LVU292
 1104 0080 8D4A     		ldr	r2, .L121+8
 1105 0082 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 343:FML/Src/EC2x.c ****                     {
 1106              		.loc 1 343 23 view .LVU293
 1107 0084 9142     		cmp	r1, r2
 1108 0086 03D3     		bcc	.L113
 350:FML/Src/EC2x.c ****                 }
 1109              		.loc 1 350 25 is_stmt 1 view .LVU294
 350:FML/Src/EC2x.c ****                 }
 1110              		.loc 1 350 30 is_stmt 0 view .LVU295
 1111 0088 0132     		adds	r2, r2, #1
 1112 008a 8B4B     		ldr	r3, .L121+8
 1113 008c 1A70     		strb	r2, [r3]
 1114 008e EBE7     		b	.L87
 1115              	.L113:
 345:FML/Src/EC2x.c ****                         ec2x_reset(fd); 
 1116              		.loc 1 345 25 is_stmt 1 view .LVU296
 1117 0090 03EB4303 		add	r3, r3, r3, lsl #1
 1118 0094 874A     		ldr	r2, .L121+4
 1119 0096 52F82320 		ldr	r2, [r2, r3, lsl #2]
 1120 009a 8849     		ldr	r1, .L121+12
 1121 009c 8848     		ldr	r0, .L121+16
 1122 009e FFF7FEFF 		bl	shellPrint
 1123              	.LVL91:
 346:FML/Src/EC2x.c ****                         step = 0;
 1124              		.loc 1 346 25 view .LVU297
 1125 00a2 2846     		mov	r0, r5
 1126 00a4 FFF7FEFF 		bl	ec2x_reset
 1127              	.LVL92:
 347:FML/Src/EC2x.c ****                     }
 1128              		.loc 1 347 25 view .LVU298
 347:FML/Src/EC2x.c ****                     }
 1129              		.loc 1 347 30 is_stmt 0 view .LVU299
 1130 00a8 814B     		ldr	r3, .L121
 1131 00aa 0022     		movs	r2, #0
 1132 00ac 1A70     		strb	r2, [r3]
 1133 00ae DBE7     		b	.L87
 1134              	.L84:
 355:FML/Src/EC2x.c ****             case 1:
 356:FML/Src/EC2x.c ****             {
 357:FML/Src/EC2x.c ****                 if(ec2x_cmd_send(fd,connectmsg_queue[step].txmsg,strlen(connectmsg_queue[step].txms
 1135              		.loc 1 357 17 is_stmt 1 view .LVU300
 1136              		.loc 1 357 20 is_stmt 0 view .LVU301
 1137 00b0 804F     		ldr	r7, .L121+4
 1138 00b2 6600     		lsls	r6, r4, #1
 1139 00b4 04EB4403 		add	r3, r4, r4, lsl #1
 1140 00b8 57F82380 		ldr	r8, [r7, r3, lsl #2]
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 29


 1141              		.loc 1 357 66 view .LVU302
 1142 00bc 4046     		mov	r0, r8
 1143 00be FFF7FEFF 		bl	strlen
 1144              	.LVL93:
 1145              		.loc 1 357 20 view .LVU303
 1146 00c2 3444     		add	r4, r4, r6
 1147 00c4 07EB8404 		add	r4, r7, r4, lsl #2
 1148 00c8 3B89     		ldrh	r3, [r7, #8]
 1149 00ca 0093     		str	r3, [sp]
 1150 00cc 6368     		ldr	r3, [r4, #4]
 1151 00ce 82B2     		uxth	r2, r0
 1152 00d0 4146     		mov	r1, r8
 1153 00d2 2846     		mov	r0, r5
 1154 00d4 FFF7FEFF 		bl	ec2x_cmd_send
 1155              	.LVL94:
 1156              		.loc 1 357 19 view .LVU304
 1157 00d8 50B1     		cbz	r0, .L90
 358:FML/Src/EC2x.c ****                 {    
 359:FML/Src/EC2x.c ****                     step++;
 1158              		.loc 1 359 21 is_stmt 1 view .LVU305
 1159              		.loc 1 359 25 is_stmt 0 view .LVU306
 1160 00da 754A     		ldr	r2, .L121
 1161 00dc 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1162 00de 0133     		adds	r3, r3, #1
 1163 00e0 1370     		strb	r3, [r2]
 360:FML/Src/EC2x.c ****                     retry = 0;
 1164              		.loc 1 360 21 is_stmt 1 view .LVU307
 1165              		.loc 1 360 27 is_stmt 0 view .LVU308
 1166 00e2 754B     		ldr	r3, .L121+8
 1167 00e4 0022     		movs	r2, #0
 1168 00e6 1A70     		strb	r2, [r3]
 1169              	.L91:
 361:FML/Src/EC2x.c ****                 }
 362:FML/Src/EC2x.c ****                 else
 363:FML/Src/EC2x.c ****                 {
 364:FML/Src/EC2x.c ****                     if(connectmsg_queue[step].retry_times < retry){
 365:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 366:FML/Src/EC2x.c ****                         ec2x_reset(fd); 
 367:FML/Src/EC2x.c ****                         step = 0;
 368:FML/Src/EC2x.c ****                     }
 369:FML/Src/EC2x.c ****                     else
 370:FML/Src/EC2x.c ****                         retry++;
 371:FML/Src/EC2x.c ****                 }
 372:FML/Src/EC2x.c ****                 Delay_ms(100);
 1170              		.loc 1 372 17 is_stmt 1 view .LVU309
 1171 00e8 6420     		movs	r0, #100
 1172 00ea FFF7FEFF 		bl	Delay_ms
 1173              	.LVL95:
 373:FML/Src/EC2x.c ****             }
 374:FML/Src/EC2x.c ****             break;
 1174              		.loc 1 374 13 view .LVU310
 1175 00ee 8DE7     		b	.L75
 1176              	.L90:
 364:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 1177              		.loc 1 364 21 view .LVU311
 364:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 1178              		.loc 1 364 46 is_stmt 0 view .LVU312
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 30


 1179 00f0 6F4B     		ldr	r3, .L121
 1180 00f2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1181 00f4 03EB4301 		add	r1, r3, r3, lsl #1
 1182 00f8 6E4A     		ldr	r2, .L121+4
 1183 00fa 02EB8102 		add	r2, r2, r1, lsl #2
 1184 00fe 917A     		ldrb	r1, [r2, #10]	@ zero_extendqisi2
 364:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 1185              		.loc 1 364 59 view .LVU313
 1186 0100 6D4A     		ldr	r2, .L121+8
 1187 0102 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 364:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 1188              		.loc 1 364 23 view .LVU314
 1189 0104 9142     		cmp	r1, r2
 1190 0106 03D3     		bcc	.L114
 370:FML/Src/EC2x.c ****                 }
 1191              		.loc 1 370 25 is_stmt 1 view .LVU315
 370:FML/Src/EC2x.c ****                 }
 1192              		.loc 1 370 30 is_stmt 0 view .LVU316
 1193 0108 0132     		adds	r2, r2, #1
 1194 010a 6B4B     		ldr	r3, .L121+8
 1195 010c 1A70     		strb	r2, [r3]
 1196 010e EBE7     		b	.L91
 1197              	.L114:
 365:FML/Src/EC2x.c ****                         ec2x_reset(fd); 
 1198              		.loc 1 365 25 is_stmt 1 view .LVU317
 1199 0110 03EB4303 		add	r3, r3, r3, lsl #1
 1200 0114 674A     		ldr	r2, .L121+4
 1201 0116 52F82320 		ldr	r2, [r2, r3, lsl #2]
 1202 011a 6849     		ldr	r1, .L121+12
 1203 011c 6848     		ldr	r0, .L121+16
 1204 011e FFF7FEFF 		bl	shellPrint
 1205              	.LVL96:
 366:FML/Src/EC2x.c ****                         step = 0;
 1206              		.loc 1 366 25 view .LVU318
 1207 0122 2846     		mov	r0, r5
 1208 0124 FFF7FEFF 		bl	ec2x_reset
 1209              	.LVL97:
 367:FML/Src/EC2x.c ****                     }
 1210              		.loc 1 367 25 view .LVU319
 367:FML/Src/EC2x.c ****                     }
 1211              		.loc 1 367 30 is_stmt 0 view .LVU320
 1212 0128 614B     		ldr	r3, .L121
 1213 012a 0022     		movs	r2, #0
 1214 012c 1A70     		strb	r2, [r3]
 1215 012e DBE7     		b	.L91
 1216              	.L83:
 375:FML/Src/EC2x.c ****             case 2:
 376:FML/Src/EC2x.c ****             {
 377:FML/Src/EC2x.c ****                 if(ec2x_cmd_send(fd,connectmsg_queue[step].txmsg,strlen(connectmsg_queue[step].txms
 1217              		.loc 1 377 17 is_stmt 1 view .LVU321
 1218              		.loc 1 377 20 is_stmt 0 view .LVU322
 1219 0130 604F     		ldr	r7, .L121+4
 1220 0132 6600     		lsls	r6, r4, #1
 1221 0134 04EB4403 		add	r3, r4, r4, lsl #1
 1222 0138 57F82380 		ldr	r8, [r7, r3, lsl #2]
 1223              		.loc 1 377 66 view .LVU323
 1224 013c 4046     		mov	r0, r8
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 31


 1225 013e FFF7FEFF 		bl	strlen
 1226              	.LVL98:
 1227              		.loc 1 377 20 view .LVU324
 1228 0142 3444     		add	r4, r4, r6
 1229 0144 07EB8404 		add	r4, r7, r4, lsl #2
 1230 0148 3B89     		ldrh	r3, [r7, #8]
 1231 014a 0093     		str	r3, [sp]
 1232 014c 6368     		ldr	r3, [r4, #4]
 1233 014e 82B2     		uxth	r2, r0
 1234 0150 4146     		mov	r1, r8
 1235 0152 2846     		mov	r0, r5
 1236 0154 FFF7FEFF 		bl	ec2x_cmd_send
 1237              	.LVL99:
 1238              		.loc 1 377 19 view .LVU325
 1239 0158 50B1     		cbz	r0, .L93
 378:FML/Src/EC2x.c ****                 {    
 379:FML/Src/EC2x.c ****                     step++;
 1240              		.loc 1 379 21 is_stmt 1 view .LVU326
 1241              		.loc 1 379 25 is_stmt 0 view .LVU327
 1242 015a 554A     		ldr	r2, .L121
 1243 015c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1244 015e 0133     		adds	r3, r3, #1
 1245 0160 1370     		strb	r3, [r2]
 380:FML/Src/EC2x.c ****                     retry = 0;
 1246              		.loc 1 380 21 is_stmt 1 view .LVU328
 1247              		.loc 1 380 27 is_stmt 0 view .LVU329
 1248 0162 554B     		ldr	r3, .L121+8
 1249 0164 0022     		movs	r2, #0
 1250 0166 1A70     		strb	r2, [r3]
 1251              	.L94:
 381:FML/Src/EC2x.c ****                 }
 382:FML/Src/EC2x.c ****                 else
 383:FML/Src/EC2x.c ****                 {
 384:FML/Src/EC2x.c ****                     if(connectmsg_queue[step].retry_times < retry){
 385:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 386:FML/Src/EC2x.c ****                         ec2x_reset(fd); 
 387:FML/Src/EC2x.c ****                         step = 0;
 388:FML/Src/EC2x.c ****                     }
 389:FML/Src/EC2x.c ****                     else
 390:FML/Src/EC2x.c ****                         retry++;
 391:FML/Src/EC2x.c ****                 }
 392:FML/Src/EC2x.c ****                 Delay_ms(100);
 1252              		.loc 1 392 17 is_stmt 1 view .LVU330
 1253 0168 6420     		movs	r0, #100
 1254 016a FFF7FEFF 		bl	Delay_ms
 1255              	.LVL100:
 393:FML/Src/EC2x.c ****             }
 394:FML/Src/EC2x.c ****             break;
 1256              		.loc 1 394 13 view .LVU331
 1257 016e 4DE7     		b	.L75
 1258              	.L93:
 384:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 1259              		.loc 1 384 21 view .LVU332
 384:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 1260              		.loc 1 384 46 is_stmt 0 view .LVU333
 1261 0170 4F4B     		ldr	r3, .L121
 1262 0172 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 32


 1263 0174 03EB4301 		add	r1, r3, r3, lsl #1
 1264 0178 4E4A     		ldr	r2, .L121+4
 1265 017a 02EB8102 		add	r2, r2, r1, lsl #2
 1266 017e 917A     		ldrb	r1, [r2, #10]	@ zero_extendqisi2
 384:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 1267              		.loc 1 384 59 view .LVU334
 1268 0180 4D4A     		ldr	r2, .L121+8
 1269 0182 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 384:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 1270              		.loc 1 384 23 view .LVU335
 1271 0184 9142     		cmp	r1, r2
 1272 0186 03D3     		bcc	.L115
 390:FML/Src/EC2x.c ****                 }
 1273              		.loc 1 390 25 is_stmt 1 view .LVU336
 390:FML/Src/EC2x.c ****                 }
 1274              		.loc 1 390 30 is_stmt 0 view .LVU337
 1275 0188 0132     		adds	r2, r2, #1
 1276 018a 4B4B     		ldr	r3, .L121+8
 1277 018c 1A70     		strb	r2, [r3]
 1278 018e EBE7     		b	.L94
 1279              	.L115:
 385:FML/Src/EC2x.c ****                         ec2x_reset(fd); 
 1280              		.loc 1 385 25 is_stmt 1 view .LVU338
 1281 0190 03EB4303 		add	r3, r3, r3, lsl #1
 1282 0194 474A     		ldr	r2, .L121+4
 1283 0196 52F82320 		ldr	r2, [r2, r3, lsl #2]
 1284 019a 4849     		ldr	r1, .L121+12
 1285 019c 4848     		ldr	r0, .L121+16
 1286 019e FFF7FEFF 		bl	shellPrint
 1287              	.LVL101:
 386:FML/Src/EC2x.c ****                         step = 0;
 1288              		.loc 1 386 25 view .LVU339
 1289 01a2 2846     		mov	r0, r5
 1290 01a4 FFF7FEFF 		bl	ec2x_reset
 1291              	.LVL102:
 387:FML/Src/EC2x.c ****                     }
 1292              		.loc 1 387 25 view .LVU340
 387:FML/Src/EC2x.c ****                     }
 1293              		.loc 1 387 30 is_stmt 0 view .LVU341
 1294 01a8 414B     		ldr	r3, .L121
 1295 01aa 0022     		movs	r2, #0
 1296 01ac 1A70     		strb	r2, [r3]
 1297 01ae DBE7     		b	.L94
 1298              	.L82:
 395:FML/Src/EC2x.c ****             case 3:
 396:FML/Src/EC2x.c ****             {
 397:FML/Src/EC2x.c ****                 if(ec2x_cmd_send(fd,connectmsg_queue[step].txmsg,strlen(connectmsg_queue[step].txms
 1299              		.loc 1 397 17 is_stmt 1 view .LVU342
 1300              		.loc 1 397 20 is_stmt 0 view .LVU343
 1301 01b0 404F     		ldr	r7, .L121+4
 1302 01b2 6600     		lsls	r6, r4, #1
 1303 01b4 04EB4403 		add	r3, r4, r4, lsl #1
 1304 01b8 57F82380 		ldr	r8, [r7, r3, lsl #2]
 1305              		.loc 1 397 66 view .LVU344
 1306 01bc 4046     		mov	r0, r8
 1307 01be FFF7FEFF 		bl	strlen
 1308              	.LVL103:
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 33


 1309              		.loc 1 397 20 view .LVU345
 1310 01c2 3444     		add	r4, r4, r6
 1311 01c4 07EB8404 		add	r4, r7, r4, lsl #2
 1312 01c8 3B89     		ldrh	r3, [r7, #8]
 1313 01ca 0093     		str	r3, [sp]
 1314 01cc 6368     		ldr	r3, [r4, #4]
 1315 01ce 82B2     		uxth	r2, r0
 1316 01d0 4146     		mov	r1, r8
 1317 01d2 2846     		mov	r0, r5
 1318 01d4 FFF7FEFF 		bl	ec2x_cmd_send
 1319              	.LVL104:
 1320              		.loc 1 397 19 view .LVU346
 1321 01d8 50B1     		cbz	r0, .L96
 398:FML/Src/EC2x.c ****                 {    
 399:FML/Src/EC2x.c ****                     step += 2;
 1322              		.loc 1 399 21 is_stmt 1 view .LVU347
 1323              		.loc 1 399 26 is_stmt 0 view .LVU348
 1324 01da 354A     		ldr	r2, .L121
 1325 01dc 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1326 01de 0233     		adds	r3, r3, #2
 1327 01e0 1370     		strb	r3, [r2]
 400:FML/Src/EC2x.c ****                     retry = 0;
 1328              		.loc 1 400 21 is_stmt 1 view .LVU349
 1329              		.loc 1 400 27 is_stmt 0 view .LVU350
 1330 01e2 354B     		ldr	r3, .L121+8
 1331 01e4 0022     		movs	r2, #0
 1332 01e6 1A70     		strb	r2, [r3]
 1333              	.L97:
 401:FML/Src/EC2x.c ****                 }
 402:FML/Src/EC2x.c ****                 else
 403:FML/Src/EC2x.c ****                 {
 404:FML/Src/EC2x.c ****                     if(connectmsg_queue[step].retry_times < retry){
 405:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 406:FML/Src/EC2x.c ****                         ec2x_reset(fd); 
 407:FML/Src/EC2x.c ****                         step = 0;
 408:FML/Src/EC2x.c ****                     }
 409:FML/Src/EC2x.c ****                     else
 410:FML/Src/EC2x.c ****                         retry++;
 411:FML/Src/EC2x.c ****                 }
 412:FML/Src/EC2x.c ****                 Delay_ms(100);                
 1334              		.loc 1 412 17 is_stmt 1 view .LVU351
 1335 01e8 6420     		movs	r0, #100
 1336 01ea FFF7FEFF 		bl	Delay_ms
 1337              	.LVL105:
 413:FML/Src/EC2x.c ****             }
 414:FML/Src/EC2x.c ****             break;
 1338              		.loc 1 414 13 view .LVU352
 1339 01ee 0DE7     		b	.L75
 1340              	.L96:
 404:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 1341              		.loc 1 404 21 view .LVU353
 404:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 1342              		.loc 1 404 46 is_stmt 0 view .LVU354
 1343 01f0 2F4B     		ldr	r3, .L121
 1344 01f2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1345 01f4 03EB4301 		add	r1, r3, r3, lsl #1
 1346 01f8 2E4A     		ldr	r2, .L121+4
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 34


 1347 01fa 02EB8102 		add	r2, r2, r1, lsl #2
 1348 01fe 917A     		ldrb	r1, [r2, #10]	@ zero_extendqisi2
 404:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 1349              		.loc 1 404 59 view .LVU355
 1350 0200 2D4A     		ldr	r2, .L121+8
 1351 0202 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 404:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 1352              		.loc 1 404 23 view .LVU356
 1353 0204 9142     		cmp	r1, r2
 1354 0206 03D3     		bcc	.L116
 410:FML/Src/EC2x.c ****                 }
 1355              		.loc 1 410 25 is_stmt 1 view .LVU357
 410:FML/Src/EC2x.c ****                 }
 1356              		.loc 1 410 30 is_stmt 0 view .LVU358
 1357 0208 0132     		adds	r2, r2, #1
 1358 020a 2B4B     		ldr	r3, .L121+8
 1359 020c 1A70     		strb	r2, [r3]
 1360 020e EBE7     		b	.L97
 1361              	.L116:
 405:FML/Src/EC2x.c ****                         ec2x_reset(fd); 
 1362              		.loc 1 405 25 is_stmt 1 view .LVU359
 1363 0210 03EB4303 		add	r3, r3, r3, lsl #1
 1364 0214 274A     		ldr	r2, .L121+4
 1365 0216 52F82320 		ldr	r2, [r2, r3, lsl #2]
 1366 021a 2849     		ldr	r1, .L121+12
 1367 021c 2848     		ldr	r0, .L121+16
 1368 021e FFF7FEFF 		bl	shellPrint
 1369              	.LVL106:
 406:FML/Src/EC2x.c ****                         step = 0;
 1370              		.loc 1 406 25 view .LVU360
 1371 0222 2846     		mov	r0, r5
 1372 0224 FFF7FEFF 		bl	ec2x_reset
 1373              	.LVL107:
 407:FML/Src/EC2x.c ****                     }
 1374              		.loc 1 407 25 view .LVU361
 407:FML/Src/EC2x.c ****                     }
 1375              		.loc 1 407 30 is_stmt 0 view .LVU362
 1376 0228 214B     		ldr	r3, .L121
 1377 022a 0022     		movs	r2, #0
 1378 022c 1A70     		strb	r2, [r3]
 1379 022e DBE7     		b	.L97
 1380              	.L81:
 415:FML/Src/EC2x.c ****             case 4:
 416:FML/Src/EC2x.c ****             {
 417:FML/Src/EC2x.c ****                 if(ec2x_cmd_send(fd,connectmsg_queue[step].txmsg,strlen(connectmsg_queue[step].txms
 1381              		.loc 1 417 17 is_stmt 1 view .LVU363
 1382              		.loc 1 417 20 is_stmt 0 view .LVU364
 1383 0230 204F     		ldr	r7, .L121+4
 1384 0232 6600     		lsls	r6, r4, #1
 1385 0234 04EB4403 		add	r3, r4, r4, lsl #1
 1386 0238 57F82380 		ldr	r8, [r7, r3, lsl #2]
 1387              		.loc 1 417 66 view .LVU365
 1388 023c 4046     		mov	r0, r8
 1389 023e FFF7FEFF 		bl	strlen
 1390              	.LVL108:
 1391              		.loc 1 417 20 view .LVU366
 1392 0242 3444     		add	r4, r4, r6
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 35


 1393 0244 07EB8404 		add	r4, r7, r4, lsl #2
 1394 0248 3B89     		ldrh	r3, [r7, #8]
 1395 024a 0093     		str	r3, [sp]
 1396 024c 6368     		ldr	r3, [r4, #4]
 1397 024e 82B2     		uxth	r2, r0
 1398 0250 4146     		mov	r1, r8
 1399 0252 2846     		mov	r0, r5
 1400 0254 FFF7FEFF 		bl	ec2x_cmd_send
 1401              	.LVL109:
 1402              		.loc 1 417 19 view .LVU367
 1403 0258 50B1     		cbz	r0, .L99
 418:FML/Src/EC2x.c ****                 {    
 419:FML/Src/EC2x.c ****                     step++;
 1404              		.loc 1 419 21 is_stmt 1 view .LVU368
 1405              		.loc 1 419 25 is_stmt 0 view .LVU369
 1406 025a 154A     		ldr	r2, .L121
 1407 025c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1408 025e 0133     		adds	r3, r3, #1
 1409 0260 1370     		strb	r3, [r2]
 420:FML/Src/EC2x.c ****                     retry = 0;
 1410              		.loc 1 420 21 is_stmt 1 view .LVU370
 1411              		.loc 1 420 27 is_stmt 0 view .LVU371
 1412 0262 154B     		ldr	r3, .L121+8
 1413 0264 0022     		movs	r2, #0
 1414 0266 1A70     		strb	r2, [r3]
 1415              	.L100:
 421:FML/Src/EC2x.c ****                 }
 422:FML/Src/EC2x.c ****                 else
 423:FML/Src/EC2x.c ****                 {
 424:FML/Src/EC2x.c ****                     if(connectmsg_queue[step].retry_times < retry){
 425:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 426:FML/Src/EC2x.c ****                         ec2x_reset(fd); 
 427:FML/Src/EC2x.c ****                         step = 0;
 428:FML/Src/EC2x.c ****                     }
 429:FML/Src/EC2x.c ****                     else
 430:FML/Src/EC2x.c ****                         retry++;
 431:FML/Src/EC2x.c ****                 }
 432:FML/Src/EC2x.c ****                 Delay_ms(100);               
 1416              		.loc 1 432 17 is_stmt 1 view .LVU372
 1417 0268 6420     		movs	r0, #100
 1418 026a FFF7FEFF 		bl	Delay_ms
 1419              	.LVL110:
 433:FML/Src/EC2x.c ****             }
 434:FML/Src/EC2x.c ****             break;
 1420              		.loc 1 434 13 view .LVU373
 1421 026e CDE6     		b	.L75
 1422              	.L99:
 424:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 1423              		.loc 1 424 21 view .LVU374
 424:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 1424              		.loc 1 424 46 is_stmt 0 view .LVU375
 1425 0270 0F4B     		ldr	r3, .L121
 1426 0272 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1427 0274 03EB4301 		add	r1, r3, r3, lsl #1
 1428 0278 0E4A     		ldr	r2, .L121+4
 1429 027a 02EB8102 		add	r2, r2, r1, lsl #2
 1430 027e 917A     		ldrb	r1, [r2, #10]	@ zero_extendqisi2
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 36


 424:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 1431              		.loc 1 424 59 view .LVU376
 1432 0280 0D4A     		ldr	r2, .L121+8
 1433 0282 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 424:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 1434              		.loc 1 424 23 view .LVU377
 1435 0284 9142     		cmp	r1, r2
 1436 0286 03D3     		bcc	.L117
 430:FML/Src/EC2x.c ****                 }
 1437              		.loc 1 430 25 is_stmt 1 view .LVU378
 430:FML/Src/EC2x.c ****                 }
 1438              		.loc 1 430 30 is_stmt 0 view .LVU379
 1439 0288 0132     		adds	r2, r2, #1
 1440 028a 0B4B     		ldr	r3, .L121+8
 1441 028c 1A70     		strb	r2, [r3]
 1442 028e EBE7     		b	.L100
 1443              	.L117:
 425:FML/Src/EC2x.c ****                         ec2x_reset(fd); 
 1444              		.loc 1 425 25 is_stmt 1 view .LVU380
 1445 0290 03EB4303 		add	r3, r3, r3, lsl #1
 1446 0294 074A     		ldr	r2, .L121+4
 1447 0296 52F82320 		ldr	r2, [r2, r3, lsl #2]
 1448 029a 0849     		ldr	r1, .L121+12
 1449 029c 0848     		ldr	r0, .L121+16
 1450 029e FFF7FEFF 		bl	shellPrint
 1451              	.LVL111:
 426:FML/Src/EC2x.c ****                         step = 0;
 1452              		.loc 1 426 25 view .LVU381
 1453 02a2 2846     		mov	r0, r5
 1454 02a4 FFF7FEFF 		bl	ec2x_reset
 1455              	.LVL112:
 427:FML/Src/EC2x.c ****                     }
 1456              		.loc 1 427 25 view .LVU382
 427:FML/Src/EC2x.c ****                     }
 1457              		.loc 1 427 30 is_stmt 0 view .LVU383
 1458 02a8 014B     		ldr	r3, .L121
 1459 02aa 0022     		movs	r2, #0
 1460 02ac 1A70     		strb	r2, [r3]
 1461 02ae DBE7     		b	.L100
 1462              	.L122:
 1463              		.align	2
 1464              	.L121:
 1465 02b0 00000000 		.word	.LANCHOR2
 1466 02b4 00000000 		.word	.LANCHOR1
 1467 02b8 00000000 		.word	.LANCHOR3
 1468 02bc 00000000 		.word	.LC2
 1469 02c0 00000000 		.word	shell
 1470              	.L80:
 435:FML/Src/EC2x.c ****             case 5:
 436:FML/Src/EC2x.c ****             {
 437:FML/Src/EC2x.c ****                 if(ec2x_cmd_send(fd,connectmsg_queue[step].txmsg,strlen(connectmsg_queue[step].txms
 1471              		.loc 1 437 17 is_stmt 1 view .LVU384
 1472              		.loc 1 437 20 is_stmt 0 view .LVU385
 1473 02c4 634F     		ldr	r7, .L123
 1474 02c6 6600     		lsls	r6, r4, #1
 1475 02c8 04EB4403 		add	r3, r4, r4, lsl #1
 1476 02cc 57F82380 		ldr	r8, [r7, r3, lsl #2]
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 37


 1477              		.loc 1 437 66 view .LVU386
 1478 02d0 4046     		mov	r0, r8
 1479 02d2 FFF7FEFF 		bl	strlen
 1480              	.LVL113:
 1481              		.loc 1 437 20 view .LVU387
 1482 02d6 3444     		add	r4, r4, r6
 1483 02d8 07EB8404 		add	r4, r7, r4, lsl #2
 1484 02dc 3B89     		ldrh	r3, [r7, #8]
 1485 02de 0093     		str	r3, [sp]
 1486 02e0 6368     		ldr	r3, [r4, #4]
 1487 02e2 82B2     		uxth	r2, r0
 1488 02e4 4146     		mov	r1, r8
 1489 02e6 2846     		mov	r0, r5
 1490 02e8 FFF7FEFF 		bl	ec2x_cmd_send
 1491              	.LVL114:
 1492              		.loc 1 437 19 view .LVU388
 1493 02ec 50B1     		cbz	r0, .L102
 438:FML/Src/EC2x.c ****                 {    
 439:FML/Src/EC2x.c ****                     step++;
 1494              		.loc 1 439 21 is_stmt 1 view .LVU389
 1495              		.loc 1 439 25 is_stmt 0 view .LVU390
 1496 02ee 5A4A     		ldr	r2, .L123+4
 1497 02f0 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1498 02f2 0133     		adds	r3, r3, #1
 1499 02f4 1370     		strb	r3, [r2]
 440:FML/Src/EC2x.c ****                     retry = 0;
 1500              		.loc 1 440 21 is_stmt 1 view .LVU391
 1501              		.loc 1 440 27 is_stmt 0 view .LVU392
 1502 02f6 594B     		ldr	r3, .L123+8
 1503 02f8 0022     		movs	r2, #0
 1504 02fa 1A70     		strb	r2, [r3]
 1505              	.L103:
 441:FML/Src/EC2x.c ****                 }
 442:FML/Src/EC2x.c ****                 else
 443:FML/Src/EC2x.c ****                 {
 444:FML/Src/EC2x.c ****                     if(connectmsg_queue[step].retry_times < retry){
 445:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 446:FML/Src/EC2x.c ****                         ec2x_reset(fd); 
 447:FML/Src/EC2x.c ****                         step = 0;
 448:FML/Src/EC2x.c ****                     }
 449:FML/Src/EC2x.c ****                     else
 450:FML/Src/EC2x.c ****                         retry++;
 451:FML/Src/EC2x.c ****                 }
 452:FML/Src/EC2x.c ****                 Delay_ms(100);                
 1506              		.loc 1 452 17 is_stmt 1 view .LVU393
 1507 02fc 6420     		movs	r0, #100
 1508 02fe FFF7FEFF 		bl	Delay_ms
 1509              	.LVL115:
 453:FML/Src/EC2x.c ****             }
 454:FML/Src/EC2x.c ****             break; 
 1510              		.loc 1 454 13 view .LVU394
 1511 0302 83E6     		b	.L75
 1512              	.L102:
 444:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 1513              		.loc 1 444 21 view .LVU395
 444:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 1514              		.loc 1 444 46 is_stmt 0 view .LVU396
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 38


 1515 0304 544B     		ldr	r3, .L123+4
 1516 0306 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1517 0308 03EB4301 		add	r1, r3, r3, lsl #1
 1518 030c 514A     		ldr	r2, .L123
 1519 030e 02EB8102 		add	r2, r2, r1, lsl #2
 1520 0312 917A     		ldrb	r1, [r2, #10]	@ zero_extendqisi2
 444:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 1521              		.loc 1 444 59 view .LVU397
 1522 0314 514A     		ldr	r2, .L123+8
 1523 0316 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 444:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 1524              		.loc 1 444 23 view .LVU398
 1525 0318 9142     		cmp	r1, r2
 1526 031a 03D3     		bcc	.L118
 450:FML/Src/EC2x.c ****                 }
 1527              		.loc 1 450 25 is_stmt 1 view .LVU399
 450:FML/Src/EC2x.c ****                 }
 1528              		.loc 1 450 30 is_stmt 0 view .LVU400
 1529 031c 0132     		adds	r2, r2, #1
 1530 031e 4F4B     		ldr	r3, .L123+8
 1531 0320 1A70     		strb	r2, [r3]
 1532 0322 EBE7     		b	.L103
 1533              	.L118:
 445:FML/Src/EC2x.c ****                         ec2x_reset(fd); 
 1534              		.loc 1 445 25 is_stmt 1 view .LVU401
 1535 0324 03EB4303 		add	r3, r3, r3, lsl #1
 1536 0328 4A4A     		ldr	r2, .L123
 1537 032a 52F82320 		ldr	r2, [r2, r3, lsl #2]
 1538 032e 4C49     		ldr	r1, .L123+12
 1539 0330 4C48     		ldr	r0, .L123+16
 1540 0332 FFF7FEFF 		bl	shellPrint
 1541              	.LVL116:
 446:FML/Src/EC2x.c ****                         step = 0;
 1542              		.loc 1 446 25 view .LVU402
 1543 0336 2846     		mov	r0, r5
 1544 0338 FFF7FEFF 		bl	ec2x_reset
 1545              	.LVL117:
 447:FML/Src/EC2x.c ****                     }
 1546              		.loc 1 447 25 view .LVU403
 447:FML/Src/EC2x.c ****                     }
 1547              		.loc 1 447 30 is_stmt 0 view .LVU404
 1548 033c 464B     		ldr	r3, .L123+4
 1549 033e 0022     		movs	r2, #0
 1550 0340 1A70     		strb	r2, [r3]
 1551 0342 DBE7     		b	.L103
 1552              	.L79:
 455:FML/Src/EC2x.c ****             case 6:
 456:FML/Src/EC2x.c ****             {
 457:FML/Src/EC2x.c ****                 if(ec2x_cmd_send(fd,connectmsg_queue[step].txmsg,strlen(connectmsg_queue[step].txms
 1553              		.loc 1 457 17 is_stmt 1 view .LVU405
 1554              		.loc 1 457 20 is_stmt 0 view .LVU406
 1555 0344 434F     		ldr	r7, .L123
 1556 0346 6600     		lsls	r6, r4, #1
 1557 0348 04EB4403 		add	r3, r4, r4, lsl #1
 1558 034c 57F82380 		ldr	r8, [r7, r3, lsl #2]
 1559              		.loc 1 457 66 view .LVU407
 1560 0350 4046     		mov	r0, r8
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 39


 1561 0352 FFF7FEFF 		bl	strlen
 1562              	.LVL118:
 1563              		.loc 1 457 20 view .LVU408
 1564 0356 3444     		add	r4, r4, r6
 1565 0358 07EB8404 		add	r4, r7, r4, lsl #2
 1566 035c 3B89     		ldrh	r3, [r7, #8]
 1567 035e 0093     		str	r3, [sp]
 1568 0360 6368     		ldr	r3, [r4, #4]
 1569 0362 82B2     		uxth	r2, r0
 1570 0364 4146     		mov	r1, r8
 1571 0366 2846     		mov	r0, r5
 1572 0368 FFF7FEFF 		bl	ec2x_cmd_send
 1573              	.LVL119:
 1574              		.loc 1 457 19 view .LVU409
 1575 036c 50B1     		cbz	r0, .L105
 458:FML/Src/EC2x.c ****                 {    
 459:FML/Src/EC2x.c ****                     step++;
 1576              		.loc 1 459 21 is_stmt 1 view .LVU410
 1577              		.loc 1 459 25 is_stmt 0 view .LVU411
 1578 036e 3A4A     		ldr	r2, .L123+4
 1579 0370 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1580 0372 0133     		adds	r3, r3, #1
 1581 0374 1370     		strb	r3, [r2]
 460:FML/Src/EC2x.c ****                     retry = 0;
 1582              		.loc 1 460 21 is_stmt 1 view .LVU412
 1583              		.loc 1 460 27 is_stmt 0 view .LVU413
 1584 0376 394B     		ldr	r3, .L123+8
 1585 0378 0022     		movs	r2, #0
 1586 037a 1A70     		strb	r2, [r3]
 1587              	.L106:
 461:FML/Src/EC2x.c ****                 }
 462:FML/Src/EC2x.c ****                 else
 463:FML/Src/EC2x.c ****                 {
 464:FML/Src/EC2x.c ****                     if(connectmsg_queue[step].retry_times < retry){
 465:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 466:FML/Src/EC2x.c ****                         ec2x_reset(fd); 
 467:FML/Src/EC2x.c ****                         step = 0;
 468:FML/Src/EC2x.c ****                     }
 469:FML/Src/EC2x.c ****                     else
 470:FML/Src/EC2x.c ****                         retry++;
 471:FML/Src/EC2x.c ****                 }
 472:FML/Src/EC2x.c ****                 Delay_ms(100);
 1588              		.loc 1 472 17 is_stmt 1 view .LVU414
 1589 037c 6420     		movs	r0, #100
 1590 037e FFF7FEFF 		bl	Delay_ms
 1591              	.LVL120:
 473:FML/Src/EC2x.c ****             }
 474:FML/Src/EC2x.c ****             break; 
 1592              		.loc 1 474 13 view .LVU415
 1593 0382 43E6     		b	.L75
 1594              	.L105:
 464:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 1595              		.loc 1 464 21 view .LVU416
 464:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 1596              		.loc 1 464 46 is_stmt 0 view .LVU417
 1597 0384 344B     		ldr	r3, .L123+4
 1598 0386 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 40


 1599 0388 03EB4301 		add	r1, r3, r3, lsl #1
 1600 038c 314A     		ldr	r2, .L123
 1601 038e 02EB8102 		add	r2, r2, r1, lsl #2
 1602 0392 917A     		ldrb	r1, [r2, #10]	@ zero_extendqisi2
 464:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 1603              		.loc 1 464 59 view .LVU418
 1604 0394 314A     		ldr	r2, .L123+8
 1605 0396 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 464:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 1606              		.loc 1 464 23 view .LVU419
 1607 0398 9142     		cmp	r1, r2
 1608 039a 03D3     		bcc	.L119
 470:FML/Src/EC2x.c ****                 }
 1609              		.loc 1 470 25 is_stmt 1 view .LVU420
 470:FML/Src/EC2x.c ****                 }
 1610              		.loc 1 470 30 is_stmt 0 view .LVU421
 1611 039c 0132     		adds	r2, r2, #1
 1612 039e 2F4B     		ldr	r3, .L123+8
 1613 03a0 1A70     		strb	r2, [r3]
 1614 03a2 EBE7     		b	.L106
 1615              	.L119:
 465:FML/Src/EC2x.c ****                         ec2x_reset(fd); 
 1616              		.loc 1 465 25 is_stmt 1 view .LVU422
 1617 03a4 03EB4303 		add	r3, r3, r3, lsl #1
 1618 03a8 2A4A     		ldr	r2, .L123
 1619 03aa 52F82320 		ldr	r2, [r2, r3, lsl #2]
 1620 03ae 2C49     		ldr	r1, .L123+12
 1621 03b0 2C48     		ldr	r0, .L123+16
 1622 03b2 FFF7FEFF 		bl	shellPrint
 1623              	.LVL121:
 466:FML/Src/EC2x.c ****                         step = 0;
 1624              		.loc 1 466 25 view .LVU423
 1625 03b6 2846     		mov	r0, r5
 1626 03b8 FFF7FEFF 		bl	ec2x_reset
 1627              	.LVL122:
 467:FML/Src/EC2x.c ****                     }
 1628              		.loc 1 467 25 view .LVU424
 467:FML/Src/EC2x.c ****                     }
 1629              		.loc 1 467 30 is_stmt 0 view .LVU425
 1630 03bc 264B     		ldr	r3, .L123+4
 1631 03be 0022     		movs	r2, #0
 1632 03c0 1A70     		strb	r2, [r3]
 1633 03c2 DBE7     		b	.L106
 1634              	.L78:
 475:FML/Src/EC2x.c ****             case 7:
 476:FML/Src/EC2x.c ****             {
 477:FML/Src/EC2x.c ****                 if(ec2x_cmd_send(fd,connectmsg_queue[step].txmsg,strlen(connectmsg_queue[step].txms
 1635              		.loc 1 477 17 is_stmt 1 view .LVU426
 1636              		.loc 1 477 20 is_stmt 0 view .LVU427
 1637 03c4 234F     		ldr	r7, .L123
 1638 03c6 6600     		lsls	r6, r4, #1
 1639 03c8 04EB4403 		add	r3, r4, r4, lsl #1
 1640 03cc 57F82380 		ldr	r8, [r7, r3, lsl #2]
 1641              		.loc 1 477 66 view .LVU428
 1642 03d0 4046     		mov	r0, r8
 1643 03d2 FFF7FEFF 		bl	strlen
 1644              	.LVL123:
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 41


 1645              		.loc 1 477 20 view .LVU429
 1646 03d6 3444     		add	r4, r4, r6
 1647 03d8 07EB8404 		add	r4, r7, r4, lsl #2
 1648 03dc 3B89     		ldrh	r3, [r7, #8]
 1649 03de 0093     		str	r3, [sp]
 1650 03e0 6368     		ldr	r3, [r4, #4]
 1651 03e2 82B2     		uxth	r2, r0
 1652 03e4 4146     		mov	r1, r8
 1653 03e6 2846     		mov	r0, r5
 1654 03e8 FFF7FEFF 		bl	ec2x_cmd_send
 1655              	.LVL124:
 1656              		.loc 1 477 19 view .LVU430
 1657 03ec 50B1     		cbz	r0, .L108
 478:FML/Src/EC2x.c ****                 {    
 479:FML/Src/EC2x.c ****                     step++;
 1658              		.loc 1 479 21 is_stmt 1 view .LVU431
 1659              		.loc 1 479 25 is_stmt 0 view .LVU432
 1660 03ee 1A4A     		ldr	r2, .L123+4
 1661 03f0 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1662 03f2 0133     		adds	r3, r3, #1
 1663 03f4 1370     		strb	r3, [r2]
 480:FML/Src/EC2x.c ****                     retry = 0;
 1664              		.loc 1 480 21 is_stmt 1 view .LVU433
 1665              		.loc 1 480 27 is_stmt 0 view .LVU434
 1666 03f6 194B     		ldr	r3, .L123+8
 1667 03f8 0022     		movs	r2, #0
 1668 03fa 1A70     		strb	r2, [r3]
 1669              	.L109:
 481:FML/Src/EC2x.c ****                 }
 482:FML/Src/EC2x.c ****                 else
 483:FML/Src/EC2x.c ****                 {
 484:FML/Src/EC2x.c ****                     if(connectmsg_queue[step].retry_times < retry){
 485:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 486:FML/Src/EC2x.c ****                         ec2x_reset(fd); 
 487:FML/Src/EC2x.c ****                         step = 0;
 488:FML/Src/EC2x.c ****                     }
 489:FML/Src/EC2x.c ****                     else
 490:FML/Src/EC2x.c ****                         retry++;
 491:FML/Src/EC2x.c ****                 }
 492:FML/Src/EC2x.c ****                 Delay_ms(200);
 1670              		.loc 1 492 17 is_stmt 1 view .LVU435
 1671 03fc C820     		movs	r0, #200
 1672 03fe FFF7FEFF 		bl	Delay_ms
 1673              	.LVL125:
 493:FML/Src/EC2x.c ****             }
 494:FML/Src/EC2x.c ****             break;  
 1674              		.loc 1 494 13 view .LVU436
 1675 0402 03E6     		b	.L75
 1676              	.L108:
 484:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 1677              		.loc 1 484 21 view .LVU437
 484:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 1678              		.loc 1 484 46 is_stmt 0 view .LVU438
 1679 0404 144B     		ldr	r3, .L123+4
 1680 0406 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1681 0408 03EB4301 		add	r1, r3, r3, lsl #1
 1682 040c 114A     		ldr	r2, .L123
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 42


 1683 040e 02EB8102 		add	r2, r2, r1, lsl #2
 1684 0412 917A     		ldrb	r1, [r2, #10]	@ zero_extendqisi2
 484:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 1685              		.loc 1 484 59 view .LVU439
 1686 0414 114A     		ldr	r2, .L123+8
 1687 0416 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 484:FML/Src/EC2x.c ****                         shellPrint(&shell,"%s err\r\n",connectmsg_queue[step].txmsg);
 1688              		.loc 1 484 23 view .LVU440
 1689 0418 9142     		cmp	r1, r2
 1690 041a 03D3     		bcc	.L120
 490:FML/Src/EC2x.c ****                 }
 1691              		.loc 1 490 25 is_stmt 1 view .LVU441
 490:FML/Src/EC2x.c ****                 }
 1692              		.loc 1 490 30 is_stmt 0 view .LVU442
 1693 041c 0132     		adds	r2, r2, #1
 1694 041e 0F4B     		ldr	r3, .L123+8
 1695 0420 1A70     		strb	r2, [r3]
 1696 0422 EBE7     		b	.L109
 1697              	.L120:
 485:FML/Src/EC2x.c ****                         ec2x_reset(fd); 
 1698              		.loc 1 485 25 is_stmt 1 view .LVU443
 1699 0424 03EB4303 		add	r3, r3, r3, lsl #1
 1700 0428 0A4A     		ldr	r2, .L123
 1701 042a 52F82320 		ldr	r2, [r2, r3, lsl #2]
 1702 042e 0C49     		ldr	r1, .L123+12
 1703 0430 0C48     		ldr	r0, .L123+16
 1704 0432 FFF7FEFF 		bl	shellPrint
 1705              	.LVL126:
 486:FML/Src/EC2x.c ****                         step = 0;
 1706              		.loc 1 486 25 view .LVU444
 1707 0436 2846     		mov	r0, r5
 1708 0438 FFF7FEFF 		bl	ec2x_reset
 1709              	.LVL127:
 487:FML/Src/EC2x.c ****                     }
 1710              		.loc 1 487 25 view .LVU445
 487:FML/Src/EC2x.c ****                     }
 1711              		.loc 1 487 30 is_stmt 0 view .LVU446
 1712 043c 064B     		ldr	r3, .L123+4
 1713 043e 0022     		movs	r2, #0
 1714 0440 1A70     		strb	r2, [r3]
 1715 0442 DBE7     		b	.L109
 1716              	.L76:
 495:FML/Src/EC2x.c ****             case 8:
 496:FML/Src/EC2x.c ****             {
 497:FML/Src/EC2x.c ****                 shellPrint(&shell,"tcp is connected\r\n");
 1717              		.loc 1 497 17 is_stmt 1 view .LVU447
 1718 0444 0849     		ldr	r1, .L123+20
 1719 0446 0748     		ldr	r0, .L123+16
 1720 0448 FFF7FEFF 		bl	shellPrint
 1721              	.LVL128:
 498:FML/Src/EC2x.c ****                 return 0;
 1722              		.loc 1 498 17 view .LVU448
 1723              		.loc 1 498 24 is_stmt 0 view .LVU449
 1724 044c 0020     		movs	r0, #0
 1725              	.L73:
 499:FML/Src/EC2x.c ****             }
 500:FML/Src/EC2x.c ****             break; 
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 43


 501:FML/Src/EC2x.c ****             default:
 502:FML/Src/EC2x.c ****                 break;
 503:FML/Src/EC2x.c ****         }
 504:FML/Src/EC2x.c ****     }
 505:FML/Src/EC2x.c **** }
 1726              		.loc 1 505 1 view .LVU450
 1727 044e 02B0     		add	sp, sp, #8
 1728              	.LCFI18:
 1729              		.cfi_def_cfa_offset 24
 1730              		@ sp needed
 1731 0450 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1732              	.LVL129:
 1733              	.L124:
 1734              		.loc 1 505 1 view .LVU451
 1735              		.align	2
 1736              	.L123:
 1737 0454 00000000 		.word	.LANCHOR1
 1738 0458 00000000 		.word	.LANCHOR2
 1739 045c 00000000 		.word	.LANCHOR3
 1740 0460 00000000 		.word	.LC2
 1741 0464 00000000 		.word	shell
 1742 0468 0C000000 		.word	.LC3
 1743              		.cfi_endproc
 1744              	.LFE299:
 1746              		.section	.rodata.EC2x_Test.str1.4,"aMS",%progbits,1
 1747              		.align	2
 1748              	.LC4:
 1749 0000 7463705F 		.ascii	"tcp_connect\000"
 1749      636F6E6E 
 1749      65637400 
 1750              		.align	2
 1751              	.LC5:
 1752 000c 73756363 		.ascii	"success\015\012\000"
 1752      6573730D 
 1752      0A00
 1753 0016 0000     		.align	2
 1754              	.LC6:
 1755 0018 6661696C 		.ascii	"failed\015\012\000"
 1755      65640D0A 
 1755      00
 1756              		.section	.text.EC2x_Test,"ax",%progbits
 1757              		.align	1
 1758              		.global	EC2x_Test
 1759              		.syntax unified
 1760              		.thumb
 1761              		.thumb_func
 1763              	EC2x_Test:
 1764              	.LVL130:
 1765              	.LFB300:
 506:FML/Src/EC2x.c **** /*------------------------------------test------------------------------------*/
 507:FML/Src/EC2x.c **** 
 508:FML/Src/EC2x.c **** /**
 509:FML/Src/EC2x.c ****  * @brief 
 510:FML/Src/EC2x.c ****  * 
 511:FML/Src/EC2x.c ****  * @param fd 
 512:FML/Src/EC2x.c ****  * @param tx_buff 
 513:FML/Src/EC2x.c ****  * @param expect_reply 
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 44


 514:FML/Src/EC2x.c ****  * @param timeout 
 515:FML/Src/EC2x.c ****  */
 516:FML/Src/EC2x.c **** void EC2x_Test(int fd,char *tx_buff,char *expect_reply,uint16_t timeout)
 517:FML/Src/EC2x.c **** {
 1766              		.loc 1 517 1 is_stmt 1 view -0
 1767              		.cfi_startproc
 1768              		@ args = 0, pretend = 0, frame = 40
 1769              		@ frame_needed = 0, uses_anonymous_args = 0
 1770              		.loc 1 517 1 is_stmt 0 view .LVU453
 1771 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 1772              	.LCFI19:
 1773              		.cfi_def_cfa_offset 32
 1774              		.cfi_offset 4, -32
 1775              		.cfi_offset 5, -28
 1776              		.cfi_offset 6, -24
 1777              		.cfi_offset 7, -20
 1778              		.cfi_offset 8, -16
 1779              		.cfi_offset 9, -12
 1780              		.cfi_offset 10, -8
 1781              		.cfi_offset 14, -4
 1782 0004 8CB0     		sub	sp, sp, #48
 1783              	.LCFI20:
 1784              		.cfi_def_cfa_offset 80
 1785 0006 0746     		mov	r7, r0
 1786 0008 0D46     		mov	r5, r1
 1787 000a 1646     		mov	r6, r2
 1788 000c 9946     		mov	r9, r3
 518:FML/Src/EC2x.c ****     uint8_t tx_data[20] = {0xff,};
 1789              		.loc 1 518 5 is_stmt 1 view .LVU454
 1790              		.loc 1 518 13 is_stmt 0 view .LVU455
 1791 000e FF23     		movs	r3, #255
 1792              	.LVL131:
 1793              		.loc 1 518 13 view .LVU456
 1794 0010 0793     		str	r3, [sp, #28]
 1795 0012 0024     		movs	r4, #0
 1796 0014 0894     		str	r4, [sp, #32]
 1797 0016 0994     		str	r4, [sp, #36]
 1798 0018 0A94     		str	r4, [sp, #40]
 1799 001a 0B94     		str	r4, [sp, #44]
 519:FML/Src/EC2x.c ****     uint8_t reply_data[20] = {0xff,};
 1800              		.loc 1 519 5 is_stmt 1 view .LVU457
 1801              		.loc 1 519 13 is_stmt 0 view .LVU458
 1802 001c 0293     		str	r3, [sp, #8]
 1803 001e 0394     		str	r4, [sp, #12]
 1804 0020 0494     		str	r4, [sp, #16]
 1805 0022 0594     		str	r4, [sp, #20]
 1806 0024 0694     		str	r4, [sp, #24]
 520:FML/Src/EC2x.c ****     uint8_t tx_len = 0,reply_len = 0;
 1807              		.loc 1 520 5 is_stmt 1 view .LVU459
 1808              	.LVL132:
 521:FML/Src/EC2x.c ****     tx_len = strlen(tx_buff);
 1809              		.loc 1 521 5 view .LVU460
 1810              		.loc 1 521 14 is_stmt 0 view .LVU461
 1811 0026 0846     		mov	r0, r1
 1812              	.LVL133:
 1813              		.loc 1 521 14 view .LVU462
 1814 0028 FFF7FEFF 		bl	strlen
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 45


 1815              	.LVL134:
 1816              		.loc 1 521 14 view .LVU463
 1817 002c 0446     		mov	r4, r0
 1818              		.loc 1 521 12 view .LVU464
 1819 002e 5FFA80F8 		uxtb	r8, r0
 1820              	.LVL135:
 522:FML/Src/EC2x.c ****     reply_len = strlen(expect_reply);
 1821              		.loc 1 522 5 is_stmt 1 view .LVU465
 1822              		.loc 1 522 17 is_stmt 0 view .LVU466
 1823 0032 3046     		mov	r0, r6
 1824 0034 FFF7FEFF 		bl	strlen
 1825              	.LVL136:
 1826 0038 8246     		mov	r10, r0
 1827              	.LVL137:
 523:FML/Src/EC2x.c ****     if(strcmp(tx_buff,"tcp_connect")==0){
 1828              		.loc 1 523 5 is_stmt 1 view .LVU467
 1829              		.loc 1 523 8 is_stmt 0 view .LVU468
 1830 003a 1D49     		ldr	r1, .L130
 1831 003c 2846     		mov	r0, r5
 1832 003e FFF7FEFF 		bl	strcmp
 1833              	.LVL138:
 1834              		.loc 1 523 7 view .LVU469
 1835 0042 28B9     		cbnz	r0, .L126
 524:FML/Src/EC2x.c ****         ec2x_tcp_connect(fd);
 1836              		.loc 1 524 9 is_stmt 1 view .LVU470
 1837 0044 3846     		mov	r0, r7
 1838 0046 FFF7FEFF 		bl	ec2x_tcp_connect
 1839              	.LVL139:
 1840              	.L125:
 525:FML/Src/EC2x.c ****     }
 526:FML/Src/EC2x.c ****     else{
 527:FML/Src/EC2x.c ****         memcpy(tx_data,tx_buff,tx_len);
 528:FML/Src/EC2x.c ****         tx_data[tx_len] = 0x0D;
 529:FML/Src/EC2x.c ****         tx_data[tx_len+1] = 0x0A;
 530:FML/Src/EC2x.c ****         tx_len += 2;
 531:FML/Src/EC2x.c ****         memcpy(reply_data,expect_reply,reply_len);
 532:FML/Src/EC2x.c **** 
 533:FML/Src/EC2x.c ****         if(ec2x_cmd_send(fd,tx_data,tx_len,reply_data,timeout))
 534:FML/Src/EC2x.c ****             shellPrint(&shell,"success\r\n");
 535:FML/Src/EC2x.c ****         else
 536:FML/Src/EC2x.c ****             shellPrint(&shell,"failed\r\n");
 537:FML/Src/EC2x.c ****     }
 538:FML/Src/EC2x.c **** }
 1841              		.loc 1 538 1 is_stmt 0 view .LVU471
 1842 004a 0CB0     		add	sp, sp, #48
 1843              	.LCFI21:
 1844              		.cfi_remember_state
 1845              		.cfi_def_cfa_offset 32
 1846              		@ sp needed
 1847 004c BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 1848              	.LVL140:
 1849              	.L126:
 1850              	.LCFI22:
 1851              		.cfi_restore_state
 527:FML/Src/EC2x.c ****         tx_data[tx_len] = 0x0D;
 1852              		.loc 1 527 9 is_stmt 1 view .LVU472
 1853 0050 E4B2     		uxtb	r4, r4
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 46


 1854 0052 2246     		mov	r2, r4
 1855 0054 2946     		mov	r1, r5
 1856 0056 07A8     		add	r0, sp, #28
 1857 0058 FFF7FEFF 		bl	memcpy
 1858              	.LVL141:
 528:FML/Src/EC2x.c ****         tx_data[tx_len+1] = 0x0A;
 1859              		.loc 1 528 9 view .LVU473
 528:FML/Src/EC2x.c ****         tx_data[tx_len+1] = 0x0A;
 1860              		.loc 1 528 25 is_stmt 0 view .LVU474
 1861 005c 04F13003 		add	r3, r4, #48
 1862 0060 6B44     		add	r3, sp, r3
 1863 0062 0D22     		movs	r2, #13
 1864 0064 03F8142C 		strb	r2, [r3, #-20]
 529:FML/Src/EC2x.c ****         tx_len += 2;
 1865              		.loc 1 529 9 is_stmt 1 view .LVU475
 529:FML/Src/EC2x.c ****         tx_len += 2;
 1866              		.loc 1 529 27 is_stmt 0 view .LVU476
 1867 0068 04F13103 		add	r3, r4, #49
 1868 006c 0DEB0304 		add	r4, sp, r3
 1869 0070 0A23     		movs	r3, #10
 1870 0072 04F8143C 		strb	r3, [r4, #-20]
 530:FML/Src/EC2x.c ****         memcpy(reply_data,expect_reply,reply_len);
 1871              		.loc 1 530 9 is_stmt 1 view .LVU477
 530:FML/Src/EC2x.c ****         memcpy(reply_data,expect_reply,reply_len);
 1872              		.loc 1 530 16 is_stmt 0 view .LVU478
 1873 0076 08F10208 		add	r8, r8, #2
 1874              	.LVL142:
 530:FML/Src/EC2x.c ****         memcpy(reply_data,expect_reply,reply_len);
 1875              		.loc 1 530 16 view .LVU479
 1876 007a 5FFA88F8 		uxtb	r8, r8
 1877              	.LVL143:
 531:FML/Src/EC2x.c **** 
 1878              		.loc 1 531 9 is_stmt 1 view .LVU480
 1879 007e 5FFA8AF2 		uxtb	r2, r10
 1880 0082 3146     		mov	r1, r6
 1881 0084 02A8     		add	r0, sp, #8
 1882 0086 FFF7FEFF 		bl	memcpy
 1883              	.LVL144:
 533:FML/Src/EC2x.c ****             shellPrint(&shell,"success\r\n");
 1884              		.loc 1 533 9 view .LVU481
 533:FML/Src/EC2x.c ****             shellPrint(&shell,"success\r\n");
 1885              		.loc 1 533 12 is_stmt 0 view .LVU482
 1886 008a CDF80090 		str	r9, [sp]
 1887 008e 02AB     		add	r3, sp, #8
 1888 0090 4246     		mov	r2, r8
 1889 0092 07A9     		add	r1, sp, #28
 1890 0094 3846     		mov	r0, r7
 1891 0096 FFF7FEFF 		bl	ec2x_cmd_send
 1892              	.LVL145:
 533:FML/Src/EC2x.c ****             shellPrint(&shell,"success\r\n");
 1893              		.loc 1 533 11 view .LVU483
 1894 009a 20B1     		cbz	r0, .L128
 534:FML/Src/EC2x.c ****         else
 1895              		.loc 1 534 13 is_stmt 1 view .LVU484
 1896 009c 0549     		ldr	r1, .L130+4
 1897 009e 0648     		ldr	r0, .L130+8
 1898 00a0 FFF7FEFF 		bl	shellPrint
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 47


 1899              	.LVL146:
 1900 00a4 D1E7     		b	.L125
 1901              	.L128:
 536:FML/Src/EC2x.c ****     }
 1902              		.loc 1 536 13 view .LVU485
 1903 00a6 0549     		ldr	r1, .L130+12
 1904 00a8 0348     		ldr	r0, .L130+8
 1905 00aa FFF7FEFF 		bl	shellPrint
 1906              	.LVL147:
 1907              		.loc 1 538 1 is_stmt 0 view .LVU486
 1908 00ae CCE7     		b	.L125
 1909              	.L131:
 1910              		.align	2
 1911              	.L130:
 1912 00b0 00000000 		.word	.LC4
 1913 00b4 0C000000 		.word	.LC5
 1914 00b8 00000000 		.word	shell
 1915 00bc 18000000 		.word	.LC6
 1916              		.cfi_endproc
 1917              	.LFE300:
 1919              		.global	shellCommandec2x_send
 1920              		.global	shellDescec2x_send
 1921              		.global	shellCmdec2x_send
 1922              		.global	ec2x_dev
 1923              		.global	connectmsg_queue
 1924              		.section	.rodata.str1.4,"aMS",%progbits,1
 1925              		.align	2
 1926              	.LC7:
 1927 0000 41540D0A 		.ascii	"AT\015\012\000"
 1927      00
 1928 0005 000000   		.align	2
 1929              	.LC8:
 1930 0008 4F4B00   		.ascii	"OK\000"
 1931 000b 00       		.align	2
 1932              	.LC9:
 1933 000c 41542B43 		.ascii	"AT+CPIN?\015\012\000"
 1933      50494E3F 
 1933      0D0A00
 1934 0017 00       		.align	2
 1935              	.LC10:
 1936 0018 52454144 		.ascii	"READY\000"
 1936      5900
 1937 001e 0000     		.align	2
 1938              	.LC11:
 1939 0020 41542B43 		.ascii	"AT+CREG?\015\012\000"
 1939      5245473F 
 1939      0D0A00
 1940 002b 00       		.align	2
 1941              	.LC12:
 1942 002c 2B435245 		.ascii	"+CREG: 0,1\000"
 1942      473A2030 
 1942      2C3100
 1943 0037 00       		.align	2
 1944              	.LC13:
 1945 0038 41542B43 		.ascii	"AT+CGREG?\015\012\000"
 1945      47524547 
 1945      3F0D0A00 
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 48


 1946              		.align	2
 1947              	.LC14:
 1948 0044 2B434752 		.ascii	"+CGREG: 0,1\000"
 1948      45473A20 
 1948      302C3100 
 1949              		.align	2
 1950              	.LC15:
 1951 0050 41542B51 		.ascii	"AT+QICSGP=1,1,\"CMNET\",\"\",\"\",1\015\012\000"
 1951      49435347 
 1951      503D312C 
 1951      312C2243 
 1951      4D4E4554 
 1952              		.align	2
 1953              	.LC16:
 1954 0070 41542B51 		.ascii	"AT+QIDEACT=1\015\012\000"
 1954      49444541 
 1954      43543D31 
 1954      0D0A00
 1955 007f 00       		.align	2
 1956              	.LC17:
 1957 0080 41542B51 		.ascii	"AT+QIACT=1\015\012\000"
 1957      49414354 
 1957      3D310D0A 
 1957      00
 1958 008d 000000   		.align	2
 1959              	.LC18:
 1960 0090 434F4E4E 		.ascii	"CONNECT\000"
 1960      45435400 
 1961              		.global	tcpconnct_step
 1962              		.global	tcp_connect
 1963              		.global	ec2x_buff
 1964              		.section	.bss.retry.0,"aw",%nobits
 1965              		.set	.LANCHOR3,. + 0
 1968              	retry.0:
 1969 0000 00       		.space	1
 1970              		.section	.bss.step.1,"aw",%nobits
 1971              		.set	.LANCHOR2,. + 0
 1974              	step.1:
 1975 0000 00       		.space	1
 1976              		.section	.bss.tcpconnct_step,"aw",%nobits
 1979              	tcpconnct_step:
 1980 0000 00       		.space	1
 1981              		.section	.data.connectmsg_queue,"aw"
 1982              		.align	2
 1983              		.set	.LANCHOR1,. + 0
 1986              	connectmsg_queue:
 1987 0000 00000000 		.word	.LC7
 1988 0004 08000000 		.word	.LC8
 1989 0008 6400     		.short	100
 1990 000a 05       		.byte	5
 1991 000b 00       		.space	1
 1992 000c 0C000000 		.word	.LC9
 1993 0010 18000000 		.word	.LC10
 1994 0014 6400     		.short	100
 1995 0016 05       		.byte	5
 1996 0017 00       		.space	1
 1997 0018 20000000 		.word	.LC11
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 49


 1998 001c 2C000000 		.word	.LC12
 1999 0020 6400     		.short	100
 2000 0022 05       		.byte	5
 2001 0023 00       		.space	1
 2002 0024 38000000 		.word	.LC13
 2003 0028 44000000 		.word	.LC14
 2004 002c 6400     		.short	100
 2005 002e 05       		.byte	5
 2006 002f 00       		.space	1
 2007 0030 50000000 		.word	.LC15
 2008 0034 08000000 		.word	.LC8
 2009 0038 C800     		.short	200
 2010 003a 05       		.byte	5
 2011 003b 00       		.space	1
 2012 003c 70000000 		.word	.LC16
 2013 0040 08000000 		.word	.LC8
 2014 0044 6400     		.short	100
 2015 0046 05       		.byte	5
 2016 0047 00       		.space	1
 2017 0048 80000000 		.word	.LC17
 2018 004c 08000000 		.word	.LC8
 2019 0050 6400     		.short	100
 2020 0052 05       		.byte	5
 2021 0053 00       		.space	1
 2022 0054 00000000 		.word	tcp_connect
 2023 0058 90000000 		.word	.LC18
 2024 005c 6400     		.short	100
 2025 005e 05       		.byte	5
 2026 005f 00       		.space	1
 2027              		.section	.data.ec2x_buff,"aw"
 2028              		.align	2
 2031              	ec2x_buff:
 2032 0000 FF00     		.ascii	"\377\000"
 2033 0002 00000000 		.space	198
 2033      00000000 
 2033      00000000 
 2033      00000000 
 2033      00000000 
 2034              		.section	.data.ec2x_dev,"aw"
 2035              		.align	2
 2036              		.set	.LANCHOR0,. + 0
 2039              	ec2x_dev:
 2040 0000 75617274 		.ascii	"uart1/ec200s\000"
 2040      312F6563 
 2040      32303073 
 2040      00
 2041 000d 0000     		.space	2
 2042 000f 00       		.space	1
 2043 0010 00000000 		.word	huart1
 2044 0014 00000048 		.word	1207959552
 2045 0018 0010     		.short	4096
 2046 001a 0000     		.space	2
 2047 001c 00000048 		.word	1207959552
 2048 0020 0001     		.short	256
 2049 0022 0000     		.space	2
 2050 0024 00000048 		.word	1207959552
 2051 0028 0008     		.short	2048
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 50


 2052 002a 0000     		.space	2
 2053 002c 00       		.byte	0
 2054 002d 000000   		.space	3
 2055 0030 00000000 		.word	ec2x_buff
 2056 0034 0000     		.short	0
 2057 0036 0000     		.short	0
 2058 0038 0000     		.short	0
 2059 003a C800     		.short	200
 2060              		.section	.data.tcp_connect,"aw"
 2061              		.align	2
 2064              	tcp_connect:
 2065 0000 41542B51 		.ascii	"AT+QIOPEN=1,0,\"TCP\",\"115.236.153.170\",52894,0,2"
 2065      494F5045 
 2065      4E3D312C 
 2065      302C2254 
 2065      4350222C 
 2066 002f 0D0A00   		.ascii	"\015\012\000"
 2067              		.section	.rodata.shellCmdec2x_send,"a"
 2068              		.align	2
 2071              	shellCmdec2x_send:
 2072 0000 65633278 		.ascii	"ec2x_send\000"
 2072      5F73656E 
 2072      6400
 2073              		.section	.rodata.shellDescec2x_send,"a"
 2074              		.align	2
 2077              	shellDescec2x_send:
 2078 0000 65633278 		.ascii	"ec2x test\000"
 2078      20746573 
 2078      7400
 2079              		.section	shellCommand,"a"
 2082              	shellCommandec2x_send:
 2083 0000 00210000 		.4byte	8448
 2084 0004 00000000 		.4byte	shellCmdec2x_send
 2085 0008 00000000 		.4byte	EC2x_Test
 2086 000c 00000000 		.4byte	shellDescec2x_send
 2087              		.text
 2088              	.Letext0:
 2089              		.file 2 "e:\\gcc-arm-none-eabi-10.3-2021.10-win32\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\
 2090              		.file 3 "e:\\gcc-arm-none-eabi-10.3-2021.10-win32\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\
 2091              		.file 4 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l431xx.h"
 2092              		.file 5 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l4xx.h"
 2093              		.file 6 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h"
 2094              		.file 7 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_gpio.h"
 2095              		.file 8 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_dma.h"
 2096              		.file 9 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_uart.h"
 2097              		.file 10 "FML/Inc/EC2x.h"
 2098              		.file 11 "ThirdParty/Letter-shell/Inc/shell.h"
 2099              		.file 12 "HAL/Inc/usart.h"
 2100              		.file 13 "ThirdParty/Letter-shell/Inc/shell_port.h"
 2101              		.file 14 "e:\\gcc-arm-none-eabi-10.3-2021.10-win32\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\
 2102              		.file 15 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal.h"
 2103              		.file 16 "<built-in>"
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 51


DEFINED SYMBOLS
                            *ABS*:00000000 EC2x.c
C:\Users\CL\AppData\Local\Temp\ccDit907.s:20     .text.ec2x_io_init:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccDit907.s:26     .text.ec2x_io_init:00000000 ec2x_io_init
C:\Users\CL\AppData\Local\Temp\ccDit907.s:165    .text.ec2x_io_init:00000090 $d
C:\Users\CL\AppData\Local\Temp\ccDit907.s:170    .text.ec2x_open:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccDit907.s:176    .text.ec2x_open:00000000 ec2x_open
C:\Users\CL\AppData\Local\Temp\ccDit907.s:244    .text.ec2x_open:0000003c $d
C:\Users\CL\AppData\Local\Temp\ccDit907.s:249    .text.ec2x_write:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccDit907.s:255    .text.ec2x_write:00000000 ec2x_write
C:\Users\CL\AppData\Local\Temp\ccDit907.s:317    .text.ec2x_write:0000003c $d
C:\Users\CL\AppData\Local\Temp\ccDit907.s:322    .text.ec2x_read:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccDit907.s:328    .text.ec2x_read:00000000 ec2x_read
C:\Users\CL\AppData\Local\Temp\ccDit907.s:492    .text.ec2x_read:000000a8 $d
C:\Users\CL\AppData\Local\Temp\ccDit907.s:498    .rodata.ec2x_handler.str1.4:00000000 $d
C:\Users\CL\AppData\Local\Temp\ccDit907.s:502    .text.ec2x_handler:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccDit907.s:508    .text.ec2x_handler:00000000 ec2x_handler
C:\Users\CL\AppData\Local\Temp\ccDit907.s:693    .text.ec2x_handler:000000e0 $d
C:\Users\CL\AppData\Local\Temp\ccDit907.s:701    .text.ec2x_replymatch:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccDit907.s:707    .text.ec2x_replymatch:00000000 ec2x_replymatch
C:\Users\CL\AppData\Local\Temp\ccDit907.s:782    .text.ec2x_cmd_send:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccDit907.s:787    .text.ec2x_cmd_send:00000000 ec2x_cmd_send
C:\Users\CL\AppData\Local\Temp\ccDit907.s:910    .text.ec2x_cmd_send:00000074 $d
C:\Users\CL\AppData\Local\Temp\ccDit907.s:916    .rodata.ec2x_reset.str1.4:00000000 $d
C:\Users\CL\AppData\Local\Temp\ccDit907.s:920    .text.ec2x_reset:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccDit907.s:925    .text.ec2x_reset:00000000 ec2x_reset
C:\Users\CL\AppData\Local\Temp\ccDit907.s:984    .text.ec2x_reset:00000038 $d
C:\Users\CL\AppData\Local\Temp\ccDit907.s:990    .rodata.ec2x_tcp_connect.str1.4:00000000 $d
C:\Users\CL\AppData\Local\Temp\ccDit907.s:997    .text.ec2x_tcp_connect:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccDit907.s:1003   .text.ec2x_tcp_connect:00000000 ec2x_tcp_connect
C:\Users\CL\AppData\Local\Temp\ccDit907.s:1042   .text.ec2x_tcp_connect:0000001e $d
C:\Users\CL\AppData\Local\Temp\ccDit907.s:1051   .text.ec2x_tcp_connect:00000030 $t
C:\Users\CL\AppData\Local\Temp\ccDit907.s:1465   .text.ec2x_tcp_connect:000002b0 $d
C:\Users\CL\AppData\Local\Temp\ccDit907.s:1473   .text.ec2x_tcp_connect:000002c4 $t
C:\Users\CL\AppData\Local\Temp\ccDit907.s:1737   .text.ec2x_tcp_connect:00000454 $d
C:\Users\CL\AppData\Local\Temp\ccDit907.s:1747   .rodata.EC2x_Test.str1.4:00000000 $d
C:\Users\CL\AppData\Local\Temp\ccDit907.s:1757   .text.EC2x_Test:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccDit907.s:1763   .text.EC2x_Test:00000000 EC2x_Test
C:\Users\CL\AppData\Local\Temp\ccDit907.s:1912   .text.EC2x_Test:000000b0 $d
C:\Users\CL\AppData\Local\Temp\ccDit907.s:2082   shellCommand:00000000 shellCommandec2x_send
C:\Users\CL\AppData\Local\Temp\ccDit907.s:2077   .rodata.shellDescec2x_send:00000000 shellDescec2x_send
C:\Users\CL\AppData\Local\Temp\ccDit907.s:2071   .rodata.shellCmdec2x_send:00000000 shellCmdec2x_send
C:\Users\CL\AppData\Local\Temp\ccDit907.s:2039   .data.ec2x_dev:00000000 ec2x_dev
C:\Users\CL\AppData\Local\Temp\ccDit907.s:1986   .data.connectmsg_queue:00000000 connectmsg_queue
C:\Users\CL\AppData\Local\Temp\ccDit907.s:1925   .rodata.str1.4:00000000 $d
C:\Users\CL\AppData\Local\Temp\ccDit907.s:1979   .bss.tcpconnct_step:00000000 tcpconnct_step
C:\Users\CL\AppData\Local\Temp\ccDit907.s:2064   .data.tcp_connect:00000000 tcp_connect
C:\Users\CL\AppData\Local\Temp\ccDit907.s:2031   .data.ec2x_buff:00000000 ec2x_buff
C:\Users\CL\AppData\Local\Temp\ccDit907.s:1968   .bss.retry.0:00000000 retry.0
C:\Users\CL\AppData\Local\Temp\ccDit907.s:1969   .bss.retry.0:00000000 $d
C:\Users\CL\AppData\Local\Temp\ccDit907.s:1974   .bss.step.1:00000000 step.1
C:\Users\CL\AppData\Local\Temp\ccDit907.s:1975   .bss.step.1:00000000 $d
C:\Users\CL\AppData\Local\Temp\ccDit907.s:1980   .bss.tcpconnct_step:00000000 $d
C:\Users\CL\AppData\Local\Temp\ccDit907.s:1982   .data.connectmsg_queue:00000000 $d
C:\Users\CL\AppData\Local\Temp\ccDit907.s:2028   .data.ec2x_buff:00000000 $d
C:\Users\CL\AppData\Local\Temp\ccDit907.s:2035   .data.ec2x_dev:00000000 $d
C:\Users\CL\AppData\Local\Temp\ccDit907.s:2061   .data.tcp_connect:00000000 $d
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccDit907.s 			page 52


C:\Users\CL\AppData\Local\Temp\ccDit907.s:2068   .rodata.shellCmdec2x_send:00000000 $d
C:\Users\CL\AppData\Local\Temp\ccDit907.s:2074   .rodata.shellDescec2x_send:00000000 $d

UNDEFINED SYMBOLS
HAL_GPIO_Init
HAL_GPIO_WritePin
Delay_ms
strcmp
HAL_UART_Transmit_IT
shellPrint
shell
memset
strstr
strlen
memcpy
huart1
