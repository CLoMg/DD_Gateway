ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"EC2x.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "FML/Src/EC2x.c"
  20              		.section	.text.ec2x_waitreply,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	ec2x_waitreply:
  27              	.LVL0:
  28              	.LFB300:
   1:FML/Src/EC2x.c **** /**
   2:FML/Src/EC2x.c ****  ******************************************************************************
   3:FML/Src/EC2x.c **** *
   4:FML/Src/EC2x.c **** * @file   
   5:FML/Src/EC2x.c **** *
   6:FML/Src/EC2x.c **** * @brief   
   7:FML/Src/EC2x.c **** *
   8:FML/Src/EC2x.c **** * @attention
   9:FML/Src/EC2x.c **** *
  10:FML/Src/EC2x.c **** *Copyright (c) 2023 STMicroelectronics.
  11:FML/Src/EC2x.c **** *
  12:FML/Src/EC2x.c **** *All rights reserved.
  13:FML/Src/EC2x.c ****  ******************************************************************************
  14:FML/Src/EC2x.c **** */
  15:FML/Src/EC2x.c **** 
  16:FML/Src/EC2x.c **** 
  17:FML/Src/EC2x.c **** /*----------------------------------include-----------------------------------*/
  18:FML/Src/EC2x.c **** #include "EC2x.h"
  19:FML/Src/EC2x.c **** #include "usart.h"
  20:FML/Src/EC2x.c **** #include "timer.h"
  21:FML/Src/EC2x.c **** #include "shell_port.h"
  22:FML/Src/EC2x.c **** #include <stdio.h>
  23:FML/Src/EC2x.c **** #include "fsm.h"
  24:FML/Src/EC2x.c **** #include "queue.h"
  25:FML/Src/EC2x.c **** /*-----------------------------------macro------------------------------------*/
  26:FML/Src/EC2x.c **** #define BUFF_LEN 300
  27:FML/Src/EC2x.c **** /*----------------------------------typedef-----------------------------------*/
  28:FML/Src/EC2x.c **** 
  29:FML/Src/EC2x.c **** /*----------------------------------variable----------------------------------*/
  30:FML/Src/EC2x.c **** uint8_t ec2x_buff[BUFF_LEN]={0xff,};
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 2


  31:FML/Src/EC2x.c **** 
  32:FML/Src/EC2x.c **** FSM_T ec2x_fsm;
  33:FML/Src/EC2x.c **** 
  34:FML/Src/EC2x.c **** StateTransform_T ec2x_transtable[] = 
  35:FML/Src/EC2x.c **** {
  36:FML/Src/EC2x.c **** 	{UINIT,Timeout_Event,UINIT,ec2x_reset},
  37:FML/Src/EC2x.c **** 	{UINIT,ReplyScs_Event,AT_MODE,NULL},
  38:FML/Src/EC2x.c **** 	{AT_MODE,CMDSend_Event,WAIT_REPLY,NULL},
  39:FML/Src/EC2x.c **** 	{WAIT_REPLY,ReplyScs_Event,AT_MODE,NULL},
  40:FML/Src/EC2x.c **** 	{WAIT_REPLY,Timeout_Event,AT_MODE,NULL},
  41:FML/Src/EC2x.c **** 	{TRANS_MODE,MsgSend_Event,TRANS_MODE,NULL},
  42:FML/Src/EC2x.c **** };
  43:FML/Src/EC2x.c **** 
  44:FML/Src/EC2x.c **** uint8_t event_buff[10];
  45:FML/Src/EC2x.c **** Queue_HandleTypeDef ec2x_event_queue;
  46:FML/Src/EC2x.c **** 
  47:FML/Src/EC2x.c **** uint8_t tcp_connect[]="AT+QIOPEN=1,0,\"TCP\",\"115.236.153.170\",52894,0,2";
  48:FML/Src/EC2x.c **** 
  49:FML/Src/EC2x.c **** /*----------------------------------typedef-----------------------------------*/
  50:FML/Src/EC2x.c **** 
  51:FML/Src/EC2x.c **** EC2x_HandleTypeDef ec2x_dev[]=
  52:FML/Src/EC2x.c **** {
  53:FML/Src/EC2x.c ****     {
  54:FML/Src/EC2x.c ****         "uart1/ec200s",
  55:FML/Src/EC2x.c ****         &huart1,
  56:FML/Src/EC2x.c ****         GPIOA,
  57:FML/Src/EC2x.c ****         GPIO_PIN_12,
  58:FML/Src/EC2x.c ****         GPIOA,
  59:FML/Src/EC2x.c ****         GPIO_PIN_8,
  60:FML/Src/EC2x.c ****         GPIOA,
  61:FML/Src/EC2x.c ****         GPIO_PIN_11,
  62:FML/Src/EC2x.c ****         {
  63:FML/Src/EC2x.c ****             0,
  64:FML/Src/EC2x.c ****            ec2x_buff,
  65:FML/Src/EC2x.c ****             0,
  66:FML/Src/EC2x.c ****             0,
  67:FML/Src/EC2x.c ****             0,
  68:FML/Src/EC2x.c ****             BUFF_LEN 
  69:FML/Src/EC2x.c ****         }
  70:FML/Src/EC2x.c ****     }
  71:FML/Src/EC2x.c **** };
  72:FML/Src/EC2x.c **** /*-------------------------------------os-------------------------------------*/
  73:FML/Src/EC2x.c **** 
  74:FML/Src/EC2x.c **** /*----------------------------------function----------------------------------*/
  75:FML/Src/EC2x.c **** 
  76:FML/Src/EC2x.c **** /**
  77:FML/Src/EC2x.c ****  * @brief 设备初始化函数
  78:FML/Src/EC2x.c ****  * 
  79:FML/Src/EC2x.c ****  */
  80:FML/Src/EC2x.c **** void ec2x_io_init(EC2x_HandleTypeDef *device)
  81:FML/Src/EC2x.c **** {
  82:FML/Src/EC2x.c ****      GPIO_InitTypeDef GPIO_InitStruct = {0};
  83:FML/Src/EC2x.c ****     
  84:FML/Src/EC2x.c ****     // 使能UART和GPIO时钟
  85:FML/Src/EC2x.c ****     //__HAL_RCC_UARTX_CLK_ENABLE(); // 替换为实际的UART时钟
  86:FML/Src/EC2x.c ****     __HAL_RCC_GPIOA_CLK_ENABLE(); // 替换为实际的GPIO时钟
  87:FML/Src/EC2x.c ****     
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 3


  88:FML/Src/EC2x.c ****     // 配置GPIO引脚
  89:FML/Src/EC2x.c ****     GPIO_InitStruct.Pin = device->reset_pin;
  90:FML/Src/EC2x.c ****     GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
  91:FML/Src/EC2x.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
  92:FML/Src/EC2x.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  93:FML/Src/EC2x.c ****     HAL_GPIO_Init(device->reset_port, &GPIO_InitStruct);
  94:FML/Src/EC2x.c **** 
  95:FML/Src/EC2x.c ****     GPIO_InitStruct.Pin = device->wake_pin;
  96:FML/Src/EC2x.c ****     GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
  97:FML/Src/EC2x.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
  98:FML/Src/EC2x.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  99:FML/Src/EC2x.c ****     HAL_GPIO_Init(device->wake_port, &GPIO_InitStruct);
 100:FML/Src/EC2x.c **** 
 101:FML/Src/EC2x.c ****     GPIO_InitStruct.Pin = device->pwren_pin;
 102:FML/Src/EC2x.c ****     GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
 103:FML/Src/EC2x.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 104:FML/Src/EC2x.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 105:FML/Src/EC2x.c ****     HAL_GPIO_Init(device->pwren_port, &GPIO_InitStruct);
 106:FML/Src/EC2x.c ****     
 107:FML/Src/EC2x.c ****     
 108:FML/Src/EC2x.c ****     // 初始化复位引脚为高电平
 109:FML/Src/EC2x.c ****     HAL_GPIO_WritePin(device->reset_port, device->reset_pin, GPIO_PIN_SET);
 110:FML/Src/EC2x.c ****     HAL_GPIO_WritePin(device->wake_port, device->wake_pin, GPIO_PIN_SET);
 111:FML/Src/EC2x.c ****     HAL_GPIO_WritePin(device->pwren_port, device->pwren_pin, GPIO_PIN_SET);
 112:FML/Src/EC2x.c ****     HAL_Delay(1000);
 113:FML/Src/EC2x.c ****     HAL_GPIO_WritePin(device->pwren_port, device->pwren_pin, GPIO_PIN_RESET);
 114:FML/Src/EC2x.c **** }
 115:FML/Src/EC2x.c **** /**
 116:FML/Src/EC2x.c ****  * @brief 通过POWEREN引脚，对模块进行掉电复位
 117:FML/Src/EC2x.c ****  * 
 118:FML/Src/EC2x.c ****  * @param fd 
 119:FML/Src/EC2x.c ****  * @return int 
 120:FML/Src/EC2x.c ****  */
 121:FML/Src/EC2x.c **** int ec2x_reset(int fd){
 122:FML/Src/EC2x.c ****     fd = 0;
 123:FML/Src/EC2x.c ****     int err_code = 0;
 124:FML/Src/EC2x.c ****     // if(fd >= sizeof(ec2x_dev)/ sizeof(EC2x_HandleTypeDef))
 125:FML/Src/EC2x.c ****     //     return (err_code = -1);
 126:FML/Src/EC2x.c ****     // else{
 127:FML/Src/EC2x.c ****     //     EC2x_HandleTypeDef *device = &ec2x_dev[fd];
 128:FML/Src/EC2x.c ****     //     HAL_GPIO_WritePin(device->pwren_port, device->pwren_pin, GPIO_PIN_SET);
 129:FML/Src/EC2x.c ****     //     HAL_Delay(500);
 130:FML/Src/EC2x.c ****     //     HAL_GPIO_WritePin(device->pwren_port, device->pwren_pin, GPIO_PIN_RESET);
 131:FML/Src/EC2x.c ****     // }
 132:FML/Src/EC2x.c ****     ec2x_waitreply("\r\nRDY",10000);
 133:FML/Src/EC2x.c **** }
 134:FML/Src/EC2x.c **** 
 135:FML/Src/EC2x.c **** /**
 136:FML/Src/EC2x.c ****  * @brief 设备文件open函数
 137:FML/Src/EC2x.c ****  * 
 138:FML/Src/EC2x.c ****  * @param dev_name 
 139:FML/Src/EC2x.c ****  * @return int 
 140:FML/Src/EC2x.c ****  *         返回设备文件索引，未查找到则返回-1
 141:FML/Src/EC2x.c ****  */
 142:FML/Src/EC2x.c **** int ec2x_open(char *dev_name)
 143:FML/Src/EC2x.c **** {
 144:FML/Src/EC2x.c ****     uint8_t i = 0;
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 4


 145:FML/Src/EC2x.c ****     for(i = 0;i < sizeof(ec2x_dev)/ sizeof(EC2x_HandleTypeDef);i++)
 146:FML/Src/EC2x.c ****     {
 147:FML/Src/EC2x.c ****         if(strcmp(dev_name,ec2x_dev[i].dev_name) == 0)
 148:FML/Src/EC2x.c ****         {
 149:FML/Src/EC2x.c ****             ec2x_io_init(&ec2x_dev[i]);
 150:FML/Src/EC2x.c **** 
 151:FML/Src/EC2x.c ****             queue_init(&ec2x_event_queue,event_buff,10);
 152:FML/Src/EC2x.c ****         
 153:FML/Src/EC2x.c ****            // ec2x_fsm = (FSM_T*)malloc(sizeof(FSM_T));
 154:FML/Src/EC2x.c ****             uint8_t num = sizeof(ec2x_transtable)/sizeof(ec2x_transtable[0]);
 155:FML/Src/EC2x.c ****             FSM_Regist(&ec2x_fsm,ec2x_transtable,num,UINIT);
 156:FML/Src/EC2x.c ****             queue_insert(&ec2x_event_queue,(uint8_t)Timeout_Event);
 157:FML/Src/EC2x.c ****             return i;
 158:FML/Src/EC2x.c ****         }
 159:FML/Src/EC2x.c ****     }
 160:FML/Src/EC2x.c ****     return -1;
 161:FML/Src/EC2x.c **** };
 162:FML/Src/EC2x.c **** 
 163:FML/Src/EC2x.c **** /**
 164:FML/Src/EC2x.c ****  * @brief 设备文件close函数
 165:FML/Src/EC2x.c ****  * 
 166:FML/Src/EC2x.c ****  * @param fd 
 167:FML/Src/EC2x.c ****  * @return int 
 168:FML/Src/EC2x.c ****  */
 169:FML/Src/EC2x.c **** int ec2x_close(int fd);
 170:FML/Src/EC2x.c **** 
 171:FML/Src/EC2x.c **** /**
 172:FML/Src/EC2x.c ****  * @brief 设备文件写入函数
 173:FML/Src/EC2x.c ****  * 
 174:FML/Src/EC2x.c ****  * @param fd 
 175:FML/Src/EC2x.c ****  * @param tx_buff 
 176:FML/Src/EC2x.c ****  * @param len 
 177:FML/Src/EC2x.c ****  * @return int 
 178:FML/Src/EC2x.c ****  *         设备号无效返回-1
 179:FML/Src/EC2x.c ****  *         写入失败返回 0
 180:FML/Src/EC2x.c ****  *          写入成功返回1
 181:FML/Src/EC2x.c ****  *         
 182:FML/Src/EC2x.c ****  */
 183:FML/Src/EC2x.c **** int ec2x_write(int fd,uint8_t *tx_buff,uint16_t len){
 184:FML/Src/EC2x.c ****     int err_code = 0;
 185:FML/Src/EC2x.c ****     if(fd >= sizeof(ec2x_dev)/ sizeof(EC2x_HandleTypeDef))
 186:FML/Src/EC2x.c ****         return (err_code = -1);
 187:FML/Src/EC2x.c ****     else{
 188:FML/Src/EC2x.c ****         err_code =  HAL_UART_Transmit_IT(ec2x_dev[fd].huart, tx_buff,len);
 189:FML/Src/EC2x.c ****         return(!err_code);
 190:FML/Src/EC2x.c ****     }
 191:FML/Src/EC2x.c **** };
 192:FML/Src/EC2x.c **** /**
 193:FML/Src/EC2x.c ****  * @brief 设备文件读取函数
 194:FML/Src/EC2x.c ****  *        读取环形缓冲区指定长度数据
 195:FML/Src/EC2x.c ****  * 
 196:FML/Src/EC2x.c ****  * @param fd 
 197:FML/Src/EC2x.c ****  * @param rx_buff 
 198:FML/Src/EC2x.c ****  * @param len 
 199:FML/Src/EC2x.c ****  * @return int 
 200:FML/Src/EC2x.c ****  *         -1 接口错误
 201:FML/Src/EC2x.c ****  *          0 读取失败
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 5


 202:FML/Src/EC2x.c ****  *          n 读取成功字节数
 203:FML/Src/EC2x.c ****  */
 204:FML/Src/EC2x.c **** int ec2x_read(int fd,uint8_t *rx_buff,uint16_t len){
 205:FML/Src/EC2x.c ****     uint8_t *dest = rx_buff;
 206:FML/Src/EC2x.c ****     if(fd >= sizeof(ec2x_dev)/ sizeof(EC2x_HandleTypeDef))
 207:FML/Src/EC2x.c ****         return -1;
 208:FML/Src/EC2x.c ****     else{
 209:FML/Src/EC2x.c ****         uint16_t j = 0;
 210:FML/Src/EC2x.c ****         
 211:FML/Src/EC2x.c ****         RingBuffer_TypeDef *src = &ec2x_dev[fd].msg;
 212:FML/Src/EC2x.c ****         //如果队列被上锁了，则等待100ms
 213:FML/Src/EC2x.c ****         if(src->block == 1)
 214:FML/Src/EC2x.c ****         {
 215:FML/Src/EC2x.c ****             HAL_Delay(100);
 216:FML/Src/EC2x.c ****             if(src->block == 1)
 217:FML/Src/EC2x.c ****                 return 0;
 218:FML/Src/EC2x.c ****         }
 219:FML/Src/EC2x.c ****         else{
 220:FML/Src/EC2x.c ****             src->block = 1;
 221:FML/Src/EC2x.c ****             if(len > src->size)
 222:FML/Src/EC2x.c ****                 len = src->size;
 223:FML/Src/EC2x.c ****             for(j = 0 ; j < len; j++){
 224:FML/Src/EC2x.c ****                 dest[j] = src->data[src->head];
 225:FML/Src/EC2x.c ****                 src->head = (src->head + 1) % src->capacity;
 226:FML/Src/EC2x.c ****                 src->size--;
 227:FML/Src/EC2x.c ****             }
 228:FML/Src/EC2x.c ****             src->block = 0;
 229:FML/Src/EC2x.c ****         }
 230:FML/Src/EC2x.c ****         return len;
 231:FML/Src/EC2x.c ****     }
 232:FML/Src/EC2x.c **** };
 233:FML/Src/EC2x.c **** int ec2x_ioctl(int fd);
 234:FML/Src/EC2x.c **** 
 235:FML/Src/EC2x.c **** /**
 236:FML/Src/EC2x.c ****  * @brief 将串口接收数据copy到环形缓冲区，并更新缓冲区状态
 237:FML/Src/EC2x.c ****  * 
 238:FML/Src/EC2x.c ****  * @param huart 
 239:FML/Src/EC2x.c ****  * @param data 
 240:FML/Src/EC2x.c ****  * @param len 
 241:FML/Src/EC2x.c ****  */
 242:FML/Src/EC2x.c **** void ec2x_handler(UART_HandleTypeDef *huart,uint8_t *data,uint16_t len)
 243:FML/Src/EC2x.c **** {
 244:FML/Src/EC2x.c ****     uint8_t i = 0,j = 0;
 245:FML/Src/EC2x.c ****     shellPrint(&shell,"%s",data);
 246:FML/Src/EC2x.c ****     for(i = 0;i < sizeof(ec2x_dev)/ sizeof(EC2x_HandleTypeDef);i++)
 247:FML/Src/EC2x.c ****     {
 248:FML/Src/EC2x.c ****         if(huart == ec2x_dev[i].huart)
 249:FML/Src/EC2x.c ****         {
 250:FML/Src/EC2x.c ****             RingBuffer_TypeDef *dest = &ec2x_dev[i].msg;
 251:FML/Src/EC2x.c ****             if(dest->block  == 0){
 252:FML/Src/EC2x.c ****                 dest->block = 1;
 253:FML/Src/EC2x.c ****                 for(j = 0 ; j < len; j++){
 254:FML/Src/EC2x.c ****                    
 255:FML/Src/EC2x.c ****                     dest->data[dest->tail] = data[j];
 256:FML/Src/EC2x.c ****                     dest->tail = (dest->tail +1) % dest->capacity;
 257:FML/Src/EC2x.c ****                     dest->size++;
 258:FML/Src/EC2x.c ****                     dest->size = dest->size > dest->capacity ? dest->capacity : dest->size;
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 6


 259:FML/Src/EC2x.c ****                 }
 260:FML/Src/EC2x.c ****                 if((dest->tail > dest->head)&&(dest->size == dest->capacity))
 261:FML/Src/EC2x.c ****                     dest->head = dest->tail;
 262:FML/Src/EC2x.c ****                 dest->block = 0;
 263:FML/Src/EC2x.c ****             }
 264:FML/Src/EC2x.c ****         }
 265:FML/Src/EC2x.c ****     }
 266:FML/Src/EC2x.c **** }
 267:FML/Src/EC2x.c **** 
 268:FML/Src/EC2x.c **** static uint8_t timeout_cnt = 0;
 269:FML/Src/EC2x.c **** void ec2x_timeout_handle(void){
 270:FML/Src/EC2x.c ****     shellPrint(&shell,"no valid data\r\n");
 271:FML/Src/EC2x.c ****     queue_insert(&ec2x_event_queue,(uint8_t)Timeout_Event);
 272:FML/Src/EC2x.c **** }
 273:FML/Src/EC2x.c **** 
 274:FML/Src/EC2x.c **** int ec2x_replymatch(char* expect){
 275:FML/Src/EC2x.c ****     uint8_t rx_buff[300]  = {0x00};
 276:FML/Src/EC2x.c ****     int bytes_num = 0;
 277:FML/Src/EC2x.c ****     bytes_num =  ec2x_read(0,rx_buff,300);
 278:FML/Src/EC2x.c ****     if(bytes_num > 0)
 279:FML/Src/EC2x.c ****     {
 280:FML/Src/EC2x.c ****         if(strstr(rx_buff,expect) != NULL){
 281:FML/Src/EC2x.c ****              shellPrint(&shell,"recv success");
 282:FML/Src/EC2x.c ****              queue_insert(&ec2x_event_queue,(uint8_t)ReplyScs_Event);
 283:FML/Src/EC2x.c ****             return 1;
 284:FML/Src/EC2x.c ****         }
 285:FML/Src/EC2x.c ****     }
 286:FML/Src/EC2x.c ****     
 287:FML/Src/EC2x.c ****     if(timeout_cnt == 0)
 288:FML/Src/EC2x.c ****          ec2x_timeout_handle(); 
 289:FML/Src/EC2x.c ****     else
 290:FML/Src/EC2x.c ****         timeout_cnt--;
 291:FML/Src/EC2x.c ****     return 0;
 292:FML/Src/EC2x.c **** }
 293:FML/Src/EC2x.c **** 
 294:FML/Src/EC2x.c **** void ec2x_cmd_send(int fd,uint8_t *tx_buff,uint16_t len,uint8_t *expect_reply,uint16_t timeout)
 295:FML/Src/EC2x.c **** {
 296:FML/Src/EC2x.c ****     ec2x_write(fd,tx_buff,len);
 297:FML/Src/EC2x.c ****     queue_insert(&ec2x_event_queue,(uint8_t)CMDSend_Event);
 298:FML/Src/EC2x.c ****     ec2x_waitreply(expect_reply,timeout);
 299:FML/Src/EC2x.c **** }
 300:FML/Src/EC2x.c **** 
 301:FML/Src/EC2x.c **** /***/
 302:FML/Src/EC2x.c **** void ec2x_waitreply(uint8_t *expect,uint16_t timeout){
  29              		.loc 1 302 54 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 302 54 is_stmt 0 view .LVU1
  34 0000 08B5     		push	{r3, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 8
  37              		.cfi_offset 3, -8
  38              		.cfi_offset 14, -4
  39 0002 0346     		mov	r3, r0
 303:FML/Src/EC2x.c ****     timeout_cnt = timeout / 100;
  40              		.loc 1 303 5 is_stmt 1 view .LVU2
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 7


  41              		.loc 1 303 17 is_stmt 0 view .LVU3
  42 0004 054A     		ldr	r2, .L3
  43 0006 A2FB0121 		umull	r2, r1, r2, r1
  44              	.LVL1:
  45              		.loc 1 303 17 view .LVU4
  46 000a 4909     		lsrs	r1, r1, #5
  47 000c 044A     		ldr	r2, .L3+4
  48 000e 1170     		strb	r1, [r2]
 304:FML/Src/EC2x.c ****     timer_insert(100,timeout_cnt,ec2x_replymatch,expect);
  49              		.loc 1 304 5 is_stmt 1 view .LVU5
  50 0010 044A     		ldr	r2, .L3+8
  51 0012 49B2     		sxtb	r1, r1
  52 0014 6420     		movs	r0, #100
  53              	.LVL2:
  54              		.loc 1 304 5 is_stmt 0 view .LVU6
  55 0016 FFF7FEFF 		bl	timer_insert
  56              	.LVL3:
 305:FML/Src/EC2x.c **** }
  57              		.loc 1 305 1 view .LVU7
  58 001a 08BD     		pop	{r3, pc}
  59              	.L4:
  60              		.align	2
  61              	.L3:
  62 001c 1F85EB51 		.word	1374389535
  63 0020 00000000 		.word	timeout_cnt
  64 0024 00000000 		.word	ec2x_replymatch
  65              		.cfi_endproc
  66              	.LFE300:
  68              		.section	.rodata.ec2x_reset.str1.4,"aMS",%progbits,1
  69              		.align	2
  70              	.LC0:
  71 0000 0D0A5244 		.ascii	"\015\012RDY\000"
  71      5900
  72              		.section	.text.ec2x_reset,"ax",%progbits
  73              		.align	1
  74              		.syntax unified
  75              		.thumb
  76              		.thumb_func
  78              	ec2x_reset:
  79              	.LVL4:
  80              	.LFB292:
 121:FML/Src/EC2x.c ****     fd = 0;
  81              		.loc 1 121 23 is_stmt 1 view -0
  82              		.cfi_startproc
  83              		@ args = 0, pretend = 0, frame = 0
  84              		@ frame_needed = 0, uses_anonymous_args = 0
 121:FML/Src/EC2x.c ****     fd = 0;
  85              		.loc 1 121 23 is_stmt 0 view .LVU9
  86 0000 08B5     		push	{r3, lr}
  87              	.LCFI1:
  88              		.cfi_def_cfa_offset 8
  89              		.cfi_offset 3, -8
  90              		.cfi_offset 14, -4
 122:FML/Src/EC2x.c ****     int err_code = 0;
  91              		.loc 1 122 5 is_stmt 1 view .LVU10
  92              	.LVL5:
 123:FML/Src/EC2x.c ****     // if(fd >= sizeof(ec2x_dev)/ sizeof(EC2x_HandleTypeDef))
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 8


  93              		.loc 1 123 5 view .LVU11
 132:FML/Src/EC2x.c **** }
  94              		.loc 1 132 5 view .LVU12
  95 0002 42F21071 		movw	r1, #10000
  96 0006 0248     		ldr	r0, .L7
  97 0008 FFF7FEFF 		bl	ec2x_waitreply
  98              	.LVL6:
 133:FML/Src/EC2x.c **** 
  99              		.loc 1 133 1 is_stmt 0 view .LVU13
 100 000c 08BD     		pop	{r3, pc}
 101              	.L8:
 102 000e 00BF     		.align	2
 103              	.L7:
 104 0010 00000000 		.word	.LC0
 105              		.cfi_endproc
 106              	.LFE292:
 108              		.section	.text.ec2x_io_init,"ax",%progbits
 109              		.align	1
 110              		.global	ec2x_io_init
 111              		.syntax unified
 112              		.thumb
 113              		.thumb_func
 115              	ec2x_io_init:
 116              	.LVL7:
 117              	.LFB291:
  81:FML/Src/EC2x.c ****      GPIO_InitTypeDef GPIO_InitStruct = {0};
 118              		.loc 1 81 1 is_stmt 1 view -0
 119              		.cfi_startproc
 120              		@ args = 0, pretend = 0, frame = 24
 121              		@ frame_needed = 0, uses_anonymous_args = 0
  81:FML/Src/EC2x.c ****      GPIO_InitTypeDef GPIO_InitStruct = {0};
 122              		.loc 1 81 1 is_stmt 0 view .LVU15
 123 0000 70B5     		push	{r4, r5, r6, lr}
 124              	.LCFI2:
 125              		.cfi_def_cfa_offset 16
 126              		.cfi_offset 4, -16
 127              		.cfi_offset 5, -12
 128              		.cfi_offset 6, -8
 129              		.cfi_offset 14, -4
 130 0002 86B0     		sub	sp, sp, #24
 131              	.LCFI3:
 132              		.cfi_def_cfa_offset 40
 133 0004 0446     		mov	r4, r0
  82:FML/Src/EC2x.c ****     
 134              		.loc 1 82 6 is_stmt 1 view .LVU16
  82:FML/Src/EC2x.c ****     
 135              		.loc 1 82 23 is_stmt 0 view .LVU17
 136 0006 0025     		movs	r5, #0
 137 0008 0195     		str	r5, [sp, #4]
 138 000a 0295     		str	r5, [sp, #8]
 139 000c 0395     		str	r5, [sp, #12]
 140 000e 0495     		str	r5, [sp, #16]
 141 0010 0595     		str	r5, [sp, #20]
  86:FML/Src/EC2x.c ****     
 142              		.loc 1 86 5 is_stmt 1 view .LVU18
 143              	.LBB2:
  86:FML/Src/EC2x.c ****     
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 9


 144              		.loc 1 86 5 view .LVU19
  86:FML/Src/EC2x.c ****     
 145              		.loc 1 86 5 view .LVU20
 146 0012 1F4B     		ldr	r3, .L11
 147 0014 DA6C     		ldr	r2, [r3, #76]
 148 0016 42F00102 		orr	r2, r2, #1
 149 001a DA64     		str	r2, [r3, #76]
  86:FML/Src/EC2x.c ****     
 150              		.loc 1 86 5 view .LVU21
 151 001c DB6C     		ldr	r3, [r3, #76]
 152 001e 03F00103 		and	r3, r3, #1
 153 0022 0093     		str	r3, [sp]
  86:FML/Src/EC2x.c ****     
 154              		.loc 1 86 5 view .LVU22
 155 0024 009B     		ldr	r3, [sp]
 156              	.LBE2:
  86:FML/Src/EC2x.c ****     
 157              		.loc 1 86 5 view .LVU23
  89:FML/Src/EC2x.c ****     GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
 158              		.loc 1 89 5 view .LVU24
  89:FML/Src/EC2x.c ****     GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
 159              		.loc 1 89 33 is_stmt 0 view .LVU25
 160 0026 038C     		ldrh	r3, [r0, #32]
  89:FML/Src/EC2x.c ****     GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
 161              		.loc 1 89 25 view .LVU26
 162 0028 0193     		str	r3, [sp, #4]
  90:FML/Src/EC2x.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 163              		.loc 1 90 5 is_stmt 1 view .LVU27
  90:FML/Src/EC2x.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 164              		.loc 1 90 26 is_stmt 0 view .LVU28
 165 002a 0126     		movs	r6, #1
 166 002c 0296     		str	r6, [sp, #8]
  91:FML/Src/EC2x.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 167              		.loc 1 91 5 is_stmt 1 view .LVU29
  92:FML/Src/EC2x.c ****     HAL_GPIO_Init(device->reset_port, &GPIO_InitStruct);
 168              		.loc 1 92 5 view .LVU30
  93:FML/Src/EC2x.c **** 
 169              		.loc 1 93 5 view .LVU31
 170 002e 01A9     		add	r1, sp, #4
 171 0030 C069     		ldr	r0, [r0, #28]
 172              	.LVL8:
  93:FML/Src/EC2x.c **** 
 173              		.loc 1 93 5 is_stmt 0 view .LVU32
 174 0032 FFF7FEFF 		bl	HAL_GPIO_Init
 175              	.LVL9:
  95:FML/Src/EC2x.c ****     GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
 176              		.loc 1 95 5 is_stmt 1 view .LVU33
  95:FML/Src/EC2x.c ****     GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
 177              		.loc 1 95 33 is_stmt 0 view .LVU34
 178 0036 238D     		ldrh	r3, [r4, #40]
  95:FML/Src/EC2x.c ****     GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
 179              		.loc 1 95 25 view .LVU35
 180 0038 0193     		str	r3, [sp, #4]
  96:FML/Src/EC2x.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 181              		.loc 1 96 5 is_stmt 1 view .LVU36
  96:FML/Src/EC2x.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 182              		.loc 1 96 26 is_stmt 0 view .LVU37
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 10


 183 003a 0296     		str	r6, [sp, #8]
  97:FML/Src/EC2x.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 184              		.loc 1 97 5 is_stmt 1 view .LVU38
  97:FML/Src/EC2x.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 185              		.loc 1 97 26 is_stmt 0 view .LVU39
 186 003c 0395     		str	r5, [sp, #12]
  98:FML/Src/EC2x.c ****     HAL_GPIO_Init(device->wake_port, &GPIO_InitStruct);
 187              		.loc 1 98 5 is_stmt 1 view .LVU40
  98:FML/Src/EC2x.c ****     HAL_GPIO_Init(device->wake_port, &GPIO_InitStruct);
 188              		.loc 1 98 27 is_stmt 0 view .LVU41
 189 003e 0495     		str	r5, [sp, #16]
  99:FML/Src/EC2x.c **** 
 190              		.loc 1 99 5 is_stmt 1 view .LVU42
 191 0040 01A9     		add	r1, sp, #4
 192 0042 606A     		ldr	r0, [r4, #36]
 193 0044 FFF7FEFF 		bl	HAL_GPIO_Init
 194              	.LVL10:
 101:FML/Src/EC2x.c ****     GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
 195              		.loc 1 101 5 view .LVU43
 101:FML/Src/EC2x.c ****     GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
 196              		.loc 1 101 33 is_stmt 0 view .LVU44
 197 0048 238B     		ldrh	r3, [r4, #24]
 101:FML/Src/EC2x.c ****     GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
 198              		.loc 1 101 25 view .LVU45
 199 004a 0193     		str	r3, [sp, #4]
 102:FML/Src/EC2x.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 200              		.loc 1 102 5 is_stmt 1 view .LVU46
 102:FML/Src/EC2x.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 201              		.loc 1 102 26 is_stmt 0 view .LVU47
 202 004c 0296     		str	r6, [sp, #8]
 103:FML/Src/EC2x.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 203              		.loc 1 103 5 is_stmt 1 view .LVU48
 103:FML/Src/EC2x.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 204              		.loc 1 103 26 is_stmt 0 view .LVU49
 205 004e 0395     		str	r5, [sp, #12]
 104:FML/Src/EC2x.c ****     HAL_GPIO_Init(device->pwren_port, &GPIO_InitStruct);
 206              		.loc 1 104 5 is_stmt 1 view .LVU50
 104:FML/Src/EC2x.c ****     HAL_GPIO_Init(device->pwren_port, &GPIO_InitStruct);
 207              		.loc 1 104 27 is_stmt 0 view .LVU51
 208 0050 0495     		str	r5, [sp, #16]
 105:FML/Src/EC2x.c ****     
 209              		.loc 1 105 5 is_stmt 1 view .LVU52
 210 0052 01A9     		add	r1, sp, #4
 211 0054 6069     		ldr	r0, [r4, #20]
 212 0056 FFF7FEFF 		bl	HAL_GPIO_Init
 213              	.LVL11:
 109:FML/Src/EC2x.c ****     HAL_GPIO_WritePin(device->wake_port, device->wake_pin, GPIO_PIN_SET);
 214              		.loc 1 109 5 view .LVU53
 215 005a 3246     		mov	r2, r6
 216 005c 218C     		ldrh	r1, [r4, #32]
 217 005e E069     		ldr	r0, [r4, #28]
 218 0060 FFF7FEFF 		bl	HAL_GPIO_WritePin
 219              	.LVL12:
 110:FML/Src/EC2x.c ****     HAL_GPIO_WritePin(device->pwren_port, device->pwren_pin, GPIO_PIN_SET);
 220              		.loc 1 110 5 view .LVU54
 221 0064 3246     		mov	r2, r6
 222 0066 218D     		ldrh	r1, [r4, #40]
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 11


 223 0068 606A     		ldr	r0, [r4, #36]
 224 006a FFF7FEFF 		bl	HAL_GPIO_WritePin
 225              	.LVL13:
 111:FML/Src/EC2x.c ****     HAL_Delay(1000);
 226              		.loc 1 111 5 view .LVU55
 227 006e 3246     		mov	r2, r6
 228 0070 218B     		ldrh	r1, [r4, #24]
 229 0072 6069     		ldr	r0, [r4, #20]
 230 0074 FFF7FEFF 		bl	HAL_GPIO_WritePin
 231              	.LVL14:
 112:FML/Src/EC2x.c ****     HAL_GPIO_WritePin(device->pwren_port, device->pwren_pin, GPIO_PIN_RESET);
 232              		.loc 1 112 5 view .LVU56
 233 0078 4FF47A70 		mov	r0, #1000
 234 007c FFF7FEFF 		bl	HAL_Delay
 235              	.LVL15:
 113:FML/Src/EC2x.c **** }
 236              		.loc 1 113 5 view .LVU57
 237 0080 2A46     		mov	r2, r5
 238 0082 218B     		ldrh	r1, [r4, #24]
 239 0084 6069     		ldr	r0, [r4, #20]
 240 0086 FFF7FEFF 		bl	HAL_GPIO_WritePin
 241              	.LVL16:
 114:FML/Src/EC2x.c **** /**
 242              		.loc 1 114 1 is_stmt 0 view .LVU58
 243 008a 06B0     		add	sp, sp, #24
 244              	.LCFI4:
 245              		.cfi_def_cfa_offset 16
 246              		@ sp needed
 247 008c 70BD     		pop	{r4, r5, r6, pc}
 248              	.LVL17:
 249              	.L12:
 114:FML/Src/EC2x.c **** /**
 250              		.loc 1 114 1 view .LVU59
 251 008e 00BF     		.align	2
 252              	.L11:
 253 0090 00100240 		.word	1073876992
 254              		.cfi_endproc
 255              	.LFE291:
 257              		.section	.text.ec2x_open,"ax",%progbits
 258              		.align	1
 259              		.global	ec2x_open
 260              		.syntax unified
 261              		.thumb
 262              		.thumb_func
 264              	ec2x_open:
 265              	.LVL18:
 266              	.LFB293:
 143:FML/Src/EC2x.c ****     uint8_t i = 0;
 267              		.loc 1 143 1 is_stmt 1 view -0
 268              		.cfi_startproc
 269              		@ args = 0, pretend = 0, frame = 0
 270              		@ frame_needed = 0, uses_anonymous_args = 0
 143:FML/Src/EC2x.c ****     uint8_t i = 0;
 271              		.loc 1 143 1 is_stmt 0 view .LVU61
 272 0000 70B5     		push	{r4, r5, r6, lr}
 273              	.LCFI5:
 274              		.cfi_def_cfa_offset 16
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 12


 275              		.cfi_offset 4, -16
 276              		.cfi_offset 5, -12
 277              		.cfi_offset 6, -8
 278              		.cfi_offset 14, -4
 279 0002 0546     		mov	r5, r0
 144:FML/Src/EC2x.c ****     for(i = 0;i < sizeof(ec2x_dev)/ sizeof(EC2x_HandleTypeDef);i++)
 280              		.loc 1 144 5 is_stmt 1 view .LVU62
 281              	.LVL19:
 145:FML/Src/EC2x.c ****     {
 282              		.loc 1 145 5 view .LVU63
 145:FML/Src/EC2x.c ****     {
 283              		.loc 1 145 11 is_stmt 0 view .LVU64
 284 0004 0024     		movs	r4, #0
 285              	.LVL20:
 286              	.L14:
 145:FML/Src/EC2x.c ****     {
 287              		.loc 1 145 17 is_stmt 1 discriminator 1 view .LVU65
 288 0006 1CB1     		cbz	r4, .L17
 160:FML/Src/EC2x.c **** };
 289              		.loc 1 160 12 is_stmt 0 view .LVU66
 290 0008 4FF0FF36 		mov	r6, #-1
 291              	.LVL21:
 292              	.L13:
 161:FML/Src/EC2x.c **** 
 293              		.loc 1 161 1 view .LVU67
 294 000c 3046     		mov	r0, r6
 295 000e 70BD     		pop	{r4, r5, r6, pc}
 296              	.LVL22:
 297              	.L17:
 147:FML/Src/EC2x.c ****         {
 298              		.loc 1 147 9 is_stmt 1 view .LVU68
 299              	.LBB3:
 147:FML/Src/EC2x.c ****         {
 300              		.loc 1 147 39 is_stmt 0 view .LVU69
 301 0010 2646     		mov	r6, r4
 302 0012 C4EB0411 		rsb	r1, r4, r4, lsl #4
 147:FML/Src/EC2x.c ****         {
 303              		.loc 1 147 12 view .LVU70
 304 0016 114B     		ldr	r3, .L20
 305 0018 03EB8101 		add	r1, r3, r1, lsl #2
 306 001c 2846     		mov	r0, r5
 307 001e FFF7FEFF 		bl	strcmp
 308              	.LVL23:
 147:FML/Src/EC2x.c ****         {
 309              		.loc 1 147 11 view .LVU71
 310 0022 10B1     		cbz	r0, .L19
 311              	.LBE3:
 145:FML/Src/EC2x.c ****     {
 312              		.loc 1 145 65 is_stmt 1 discriminator 2 view .LVU72
 313 0024 0134     		adds	r4, r4, #1
 314              	.LVL24:
 145:FML/Src/EC2x.c ****     {
 315              		.loc 1 145 65 is_stmt 0 discriminator 2 view .LVU73
 316 0026 E4B2     		uxtb	r4, r4
 317              	.LVL25:
 145:FML/Src/EC2x.c ****     {
 318              		.loc 1 145 65 discriminator 2 view .LVU74
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 13


 319 0028 EDE7     		b	.L14
 320              	.L19:
 321              	.LBB5:
 322              	.LBB4:
 149:FML/Src/EC2x.c **** 
 323              		.loc 1 149 13 is_stmt 1 view .LVU75
 324 002a C4EB0414 		rsb	r4, r4, r4, lsl #4
 325              	.LVL26:
 149:FML/Src/EC2x.c **** 
 326              		.loc 1 149 13 is_stmt 0 view .LVU76
 327 002e 0B48     		ldr	r0, .L20
 328 0030 00EB8400 		add	r0, r0, r4, lsl #2
 329 0034 FFF7FEFF 		bl	ec2x_io_init
 330              	.LVL27:
 151:FML/Src/EC2x.c ****         
 331              		.loc 1 151 13 is_stmt 1 view .LVU77
 332 0038 094C     		ldr	r4, .L20+4
 333 003a 0A22     		movs	r2, #10
 334 003c 0949     		ldr	r1, .L20+8
 335 003e 2046     		mov	r0, r4
 336 0040 FFF7FEFF 		bl	queue_init
 337              	.LVL28:
 154:FML/Src/EC2x.c ****             FSM_Regist(&ec2x_fsm,ec2x_transtable,num,UINIT);
 338              		.loc 1 154 13 view .LVU78
 155:FML/Src/EC2x.c ****             queue_insert(&ec2x_event_queue,(uint8_t)Timeout_Event);
 339              		.loc 1 155 13 view .LVU79
 340 0044 0023     		movs	r3, #0
 341 0046 0622     		movs	r2, #6
 342 0048 0749     		ldr	r1, .L20+12
 343 004a 0848     		ldr	r0, .L20+16
 344 004c FFF7FEFF 		bl	FSM_Regist
 345              	.LVL29:
 156:FML/Src/EC2x.c ****             return i;
 346              		.loc 1 156 13 view .LVU80
 347 0050 0121     		movs	r1, #1
 348 0052 2046     		mov	r0, r4
 349 0054 FFF7FEFF 		bl	queue_insert
 350              	.LVL30:
 157:FML/Src/EC2x.c ****         }
 351              		.loc 1 157 13 view .LVU81
 157:FML/Src/EC2x.c ****         }
 352              		.loc 1 157 20 is_stmt 0 view .LVU82
 353 0058 D8E7     		b	.L13
 354              	.L21:
 355 005a 00BF     		.align	2
 356              	.L20:
 357 005c 00000000 		.word	ec2x_dev
 358 0060 00000000 		.word	ec2x_event_queue
 359 0064 00000000 		.word	event_buff
 360 0068 00000000 		.word	ec2x_transtable
 361 006c 00000000 		.word	ec2x_fsm
 362              	.LBE4:
 363              	.LBE5:
 364              		.cfi_endproc
 365              	.LFE293:
 367              		.section	.text.ec2x_write,"ax",%progbits
 368              		.align	1
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 14


 369              		.global	ec2x_write
 370              		.syntax unified
 371              		.thumb
 372              		.thumb_func
 374              	ec2x_write:
 375              	.LVL31:
 376              	.LFB294:
 183:FML/Src/EC2x.c ****     int err_code = 0;
 377              		.loc 1 183 53 is_stmt 1 view -0
 378              		.cfi_startproc
 379              		@ args = 0, pretend = 0, frame = 0
 380              		@ frame_needed = 0, uses_anonymous_args = 0
 184:FML/Src/EC2x.c ****     if(fd >= sizeof(ec2x_dev)/ sizeof(EC2x_HandleTypeDef))
 381              		.loc 1 184 5 view .LVU84
 185:FML/Src/EC2x.c ****         return (err_code = -1);
 382              		.loc 1 185 5 view .LVU85
 185:FML/Src/EC2x.c ****         return (err_code = -1);
 383              		.loc 1 185 7 is_stmt 0 view .LVU86
 384 0000 10B1     		cbz	r0, .L29
 186:FML/Src/EC2x.c ****     else{
 385              		.loc 1 186 26 view .LVU87
 386 0002 4FF0FF30 		mov	r0, #-1
 387              	.LVL32:
 191:FML/Src/EC2x.c **** /**
 388              		.loc 1 191 1 view .LVU88
 389 0006 7047     		bx	lr
 390              	.LVL33:
 391              	.L29:
 183:FML/Src/EC2x.c ****     int err_code = 0;
 392              		.loc 1 183 53 view .LVU89
 393 0008 08B5     		push	{r3, lr}
 394              	.LCFI6:
 395              		.cfi_def_cfa_offset 8
 396              		.cfi_offset 3, -8
 397              		.cfi_offset 14, -4
 188:FML/Src/EC2x.c ****         return(!err_code);
 398              		.loc 1 188 9 is_stmt 1 view .LVU90
 188:FML/Src/EC2x.c ****         return(!err_code);
 399              		.loc 1 188 21 is_stmt 0 view .LVU91
 400 000a C0EB0013 		rsb	r3, r0, r0, lsl #4
 401 000e 0548     		ldr	r0, .L30
 402              	.LVL34:
 188:FML/Src/EC2x.c ****         return(!err_code);
 403              		.loc 1 188 21 view .LVU92
 404 0010 00EB8303 		add	r3, r0, r3, lsl #2
 405 0014 1869     		ldr	r0, [r3, #16]
 406 0016 FFF7FEFF 		bl	HAL_UART_Transmit_IT
 407              	.LVL35:
 189:FML/Src/EC2x.c ****     }
 408              		.loc 1 189 9 is_stmt 1 view .LVU93
 189:FML/Src/EC2x.c ****     }
 409              		.loc 1 189 16 is_stmt 0 view .LVU94
 410 001a B0FA80F0 		clz	r0, r0
 411              	.LVL36:
 189:FML/Src/EC2x.c ****     }
 412              		.loc 1 189 16 view .LVU95
 413 001e 4009     		lsrs	r0, r0, #5
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 15


 191:FML/Src/EC2x.c **** /**
 414              		.loc 1 191 1 view .LVU96
 415 0020 08BD     		pop	{r3, pc}
 416              	.L31:
 417 0022 00BF     		.align	2
 418              	.L30:
 419 0024 00000000 		.word	ec2x_dev
 420              		.cfi_endproc
 421              	.LFE294:
 423              		.section	.text.ec2x_cmd_send,"ax",%progbits
 424              		.align	1
 425              		.syntax unified
 426              		.thumb
 427              		.thumb_func
 429              	ec2x_cmd_send:
 430              	.LVL37:
 431              	.LFB299:
 295:FML/Src/EC2x.c ****     ec2x_write(fd,tx_buff,len);
 432              		.loc 1 295 1 is_stmt 1 view -0
 433              		.cfi_startproc
 434              		@ args = 4, pretend = 0, frame = 0
 435              		@ frame_needed = 0, uses_anonymous_args = 0
 295:FML/Src/EC2x.c ****     ec2x_write(fd,tx_buff,len);
 436              		.loc 1 295 1 is_stmt 0 view .LVU98
 437 0000 10B5     		push	{r4, lr}
 438              	.LCFI7:
 439              		.cfi_def_cfa_offset 8
 440              		.cfi_offset 4, -8
 441              		.cfi_offset 14, -4
 442 0002 1C46     		mov	r4, r3
 296:FML/Src/EC2x.c ****     queue_insert(&ec2x_event_queue,(uint8_t)CMDSend_Event);
 443              		.loc 1 296 5 is_stmt 1 view .LVU99
 444 0004 FFF7FEFF 		bl	ec2x_write
 445              	.LVL38:
 297:FML/Src/EC2x.c ****     ec2x_waitreply(expect_reply,timeout);
 446              		.loc 1 297 5 view .LVU100
 447 0008 0321     		movs	r1, #3
 448 000a 0448     		ldr	r0, .L34
 449 000c FFF7FEFF 		bl	queue_insert
 450              	.LVL39:
 298:FML/Src/EC2x.c **** }
 451              		.loc 1 298 5 view .LVU101
 452 0010 BDF80810 		ldrh	r1, [sp, #8]
 453 0014 2046     		mov	r0, r4
 454 0016 FFF7FEFF 		bl	ec2x_waitreply
 455              	.LVL40:
 299:FML/Src/EC2x.c **** 
 456              		.loc 1 299 1 is_stmt 0 view .LVU102
 457 001a 10BD     		pop	{r4, pc}
 458              	.LVL41:
 459              	.L35:
 299:FML/Src/EC2x.c **** 
 460              		.loc 1 299 1 view .LVU103
 461              		.align	2
 462              	.L34:
 463 001c 00000000 		.word	ec2x_event_queue
 464              		.cfi_endproc
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 16


 465              	.LFE299:
 467              		.section	.rodata.EC2x_Test.str1.4,"aMS",%progbits,1
 468              		.align	2
 469              	.LC1:
 470 0000 7463705F 		.ascii	"tcp_connect\000"
 470      636F6E6E 
 470      65637400 
 471              		.section	.text.EC2x_Test,"ax",%progbits
 472              		.align	1
 473              		.global	EC2x_Test
 474              		.syntax unified
 475              		.thumb
 476              		.thumb_func
 478              	EC2x_Test:
 479              	.LVL42:
 480              	.LFB302:
 306:FML/Src/EC2x.c **** 
 307:FML/Src/EC2x.c **** 
 308:FML/Src/EC2x.c **** void ec2x_fms_proccess(void){
 309:FML/Src/EC2x.c ****     if(queue_is_empty(&ec2x_event_queue) == 0){
 310:FML/Src/EC2x.c ****         EC2x_Event_T evt = 0x00;
 311:FML/Src/EC2x.c ****         queue_pop(&ec2x_event_queue,&evt,1);
 312:FML/Src/EC2x.c ****         shellPrint(&shell,"Cur->State:%d ,Evt:%d,",(&ec2x_fsm)->state,evt);
 313:FML/Src/EC2x.c ****         FSM_EventHandle(&ec2x_fsm,evt);
 314:FML/Src/EC2x.c ****         shellPrint(&shell,"Next->State:%d\r\n",(&ec2x_fsm)->state);
 315:FML/Src/EC2x.c ****     }
 316:FML/Src/EC2x.c **** }
 317:FML/Src/EC2x.c **** /*------------------------------------test------------------------------------*/
 318:FML/Src/EC2x.c **** 
 319:FML/Src/EC2x.c **** /**
 320:FML/Src/EC2x.c ****  * @brief 
 321:FML/Src/EC2x.c ****  * 
 322:FML/Src/EC2x.c ****  * @param fd 
 323:FML/Src/EC2x.c ****  * @param tx_buff 
 324:FML/Src/EC2x.c ****  * @param expect_reply 
 325:FML/Src/EC2x.c ****  * @param timeout 
 326:FML/Src/EC2x.c ****  */
 327:FML/Src/EC2x.c **** void EC2x_Test(int fd,char *tx_buff,char *expect_reply,uint16_t timeout)
 328:FML/Src/EC2x.c **** {
 481              		.loc 1 328 1 is_stmt 1 view -0
 482              		.cfi_startproc
 483              		@ args = 0, pretend = 0, frame = 0
 484              		@ frame_needed = 0, uses_anonymous_args = 0
 485              		.loc 1 328 1 is_stmt 0 view .LVU105
 486 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 487              	.LCFI8:
 488              		.cfi_def_cfa_offset 32
 489              		.cfi_offset 4, -32
 490              		.cfi_offset 5, -28
 491              		.cfi_offset 6, -24
 492              		.cfi_offset 7, -20
 493              		.cfi_offset 8, -16
 494              		.cfi_offset 9, -12
 495              		.cfi_offset 10, -8
 496              		.cfi_offset 14, -4
 497 0004 82B0     		sub	sp, sp, #8
 498              	.LCFI9:
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 17


 499              		.cfi_def_cfa_offset 40
 500 0006 0746     		mov	r7, r0
 501 0008 0E46     		mov	r6, r1
 502 000a 9046     		mov	r8, r2
 503 000c 9946     		mov	r9, r3
 329:FML/Src/EC2x.c ****     uint8_t *tx_data,len=0;
 504              		.loc 1 329 5 is_stmt 1 view .LVU106
 505              	.LVL43:
 330:FML/Src/EC2x.c ****     len = strlen(tx_buff);
 506              		.loc 1 330 5 view .LVU107
 507              		.loc 1 330 11 is_stmt 0 view .LVU108
 508 000e 0846     		mov	r0, r1
 509              	.LVL44:
 510              		.loc 1 330 11 view .LVU109
 511 0010 FFF7FEFF 		bl	strlen
 512              	.LVL45:
 513              		.loc 1 330 11 view .LVU110
 514 0014 0546     		mov	r5, r0
 515              		.loc 1 330 9 view .LVU111
 516 0016 5FFA80FA 		uxtb	r10, r0
 517              	.LVL46:
 331:FML/Src/EC2x.c ****     if(strcmp(tx_buff,"tcp_connect")==0){
 518              		.loc 1 331 5 is_stmt 1 view .LVU112
 519              	.LBB6:
 520              		.loc 1 331 8 is_stmt 0 view .LVU113
 521 001a 1949     		ldr	r1, .L40
 522 001c 3046     		mov	r0, r6
 523 001e FFF7FEFF 		bl	strcmp
 524              	.LVL47:
 525              		.loc 1 331 7 view .LVU114
 526 0022 18BB     		cbnz	r0, .L37
 527              	.LBB7:
 332:FML/Src/EC2x.c ****         len = strlen(tcp_connect);
 528              		.loc 1 332 9 is_stmt 1 view .LVU115
 529              		.loc 1 332 15 is_stmt 0 view .LVU116
 530 0024 174E     		ldr	r6, .L40+4
 531              	.LVL48:
 532              		.loc 1 332 15 view .LVU117
 533 0026 3046     		mov	r0, r6
 534 0028 FFF7FEFF 		bl	strlen
 535              	.LVL49:
 536 002c 0546     		mov	r5, r0
 537              		.loc 1 332 13 view .LVU118
 538 002e 5FFA80FA 		uxtb	r10, r0
 539              	.LVL50:
 333:FML/Src/EC2x.c ****         tx_data = (char *)malloc(len*sizeof(uint8_t));
 540              		.loc 1 333 9 is_stmt 1 view .LVU119
 541              		.loc 1 333 27 is_stmt 0 view .LVU120
 542 0032 FFF7FEFF 		bl	malloc
 543              	.LVL51:
 544 0036 0446     		mov	r4, r0
 545              	.LVL52:
 334:FML/Src/EC2x.c ****         memcpy(tx_data,tcp_connect,len);
 546              		.loc 1 334 9 is_stmt 1 view .LVU121
 547 0038 2A46     		mov	r2, r5
 548 003a 3146     		mov	r1, r6
 549 003c FFF7FEFF 		bl	memcpy
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 18


 550              	.LVL53:
 551              	.L38:
 552              		.loc 1 334 9 is_stmt 0 view .LVU122
 553              	.LBE7:
 554              	.LBE6:
 335:FML/Src/EC2x.c ****     }
 336:FML/Src/EC2x.c ****     else{
 337:FML/Src/EC2x.c ****         tx_data = (char *)malloc((len+2)*sizeof(uint8_t));
 338:FML/Src/EC2x.c ****         memcpy(tx_data,tx_buff,len);
 339:FML/Src/EC2x.c ****     }
 340:FML/Src/EC2x.c ****     tx_data[len] = 0x0D;
 555              		.loc 1 340 5 is_stmt 1 view .LVU123
 556              		.loc 1 340 18 is_stmt 0 view .LVU124
 557 0040 0D23     		movs	r3, #13
 558 0042 04F80A30 		strb	r3, [r4, r10]
 341:FML/Src/EC2x.c ****     tx_data[len+1] = 0x0A;
 559              		.loc 1 341 5 is_stmt 1 view .LVU125
 560              		.loc 1 341 12 is_stmt 0 view .LVU126
 561 0046 0AF10103 		add	r3, r10, #1
 562              		.loc 1 341 20 view .LVU127
 563 004a 0A22     		movs	r2, #10
 564 004c E254     		strb	r2, [r4, r3]
 342:FML/Src/EC2x.c ****     ec2x_cmd_send(fd, tx_data,len+2, expect_reply,timeout);
 565              		.loc 1 342 5 is_stmt 1 view .LVU128
 566 004e CDF80090 		str	r9, [sp]
 567 0052 4346     		mov	r3, r8
 568 0054 0AF10202 		add	r2, r10, #2
 569 0058 2146     		mov	r1, r4
 570 005a 3846     		mov	r0, r7
 571 005c FFF7FEFF 		bl	ec2x_cmd_send
 572              	.LVL54:
 343:FML/Src/EC2x.c ****     free(tx_data);
 573              		.loc 1 343 5 view .LVU129
 574 0060 2046     		mov	r0, r4
 575 0062 FFF7FEFF 		bl	free
 576              	.LVL55:
 344:FML/Src/EC2x.c ****     tx_data = NULL;
 577              		.loc 1 344 5 view .LVU130
 345:FML/Src/EC2x.c **** }
 578              		.loc 1 345 1 is_stmt 0 view .LVU131
 579 0066 02B0     		add	sp, sp, #8
 580              	.LCFI10:
 581              		.cfi_remember_state
 582              		.cfi_def_cfa_offset 32
 583              		@ sp needed
 584 0068 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 585              	.LVL56:
 586              	.L37:
 587              	.LCFI11:
 588              		.cfi_restore_state
 589              	.LBB9:
 590              	.LBB8:
 337:FML/Src/EC2x.c ****         memcpy(tx_data,tx_buff,len);
 591              		.loc 1 337 9 is_stmt 1 view .LVU132
 592 006c EDB2     		uxtb	r5, r5
 337:FML/Src/EC2x.c ****         memcpy(tx_data,tx_buff,len);
 593              		.loc 1 337 27 is_stmt 0 view .LVU133
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 19


 594 006e A81C     		adds	r0, r5, #2
 595 0070 FFF7FEFF 		bl	malloc
 596              	.LVL57:
 597 0074 0446     		mov	r4, r0
 598              	.LVL58:
 338:FML/Src/EC2x.c ****     }
 599              		.loc 1 338 9 is_stmt 1 view .LVU134
 600 0076 2A46     		mov	r2, r5
 601 0078 3146     		mov	r1, r6
 602 007a FFF7FEFF 		bl	memcpy
 603              	.LVL59:
 338:FML/Src/EC2x.c ****     }
 604              		.loc 1 338 9 is_stmt 0 view .LVU135
 605 007e DFE7     		b	.L38
 606              	.L41:
 607              		.align	2
 608              	.L40:
 609 0080 00000000 		.word	.LC1
 610 0084 00000000 		.word	tcp_connect
 611              	.LBE8:
 612              	.LBE9:
 613              		.cfi_endproc
 614              	.LFE302:
 616              		.section	.text.ec2x_read,"ax",%progbits
 617              		.align	1
 618              		.global	ec2x_read
 619              		.syntax unified
 620              		.thumb
 621              		.thumb_func
 623              	ec2x_read:
 624              	.LVL60:
 625              	.LFB295:
 204:FML/Src/EC2x.c ****     uint8_t *dest = rx_buff;
 626              		.loc 1 204 52 is_stmt 1 view -0
 627              		.cfi_startproc
 628              		@ args = 0, pretend = 0, frame = 0
 629              		@ frame_needed = 0, uses_anonymous_args = 0
 205:FML/Src/EC2x.c ****     if(fd >= sizeof(ec2x_dev)/ sizeof(EC2x_HandleTypeDef))
 630              		.loc 1 205 5 view .LVU137
 206:FML/Src/EC2x.c ****         return -1;
 631              		.loc 1 206 5 view .LVU138
 206:FML/Src/EC2x.c ****         return -1;
 632              		.loc 1 206 7 is_stmt 0 view .LVU139
 633 0000 0028     		cmp	r0, #0
 634 0002 4BD1     		bne	.L49
 204:FML/Src/EC2x.c ****     uint8_t *dest = rx_buff;
 635              		.loc 1 204 52 view .LVU140
 636 0004 38B5     		push	{r3, r4, r5, lr}
 637              	.LCFI12:
 638              		.cfi_def_cfa_offset 16
 639              		.cfi_offset 3, -16
 640              		.cfi_offset 4, -12
 641              		.cfi_offset 5, -8
 642              		.cfi_offset 14, -4
 643 0006 1546     		mov	r5, r2
 644 0008 0446     		mov	r4, r0
 645              	.LBB10:
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 20


 209:FML/Src/EC2x.c ****         
 646              		.loc 1 209 9 is_stmt 1 view .LVU141
 647              	.LVL61:
 211:FML/Src/EC2x.c ****         //如果队列被上锁了，则等待100ms
 648              		.loc 1 211 9 view .LVU142
 213:FML/Src/EC2x.c ****         {
 649              		.loc 1 213 9 view .LVU143
 213:FML/Src/EC2x.c ****         {
 650              		.loc 1 213 15 is_stmt 0 view .LVU144
 651 000a C0EB0012 		rsb	r2, r0, r0, lsl #4
 652              	.LVL62:
 213:FML/Src/EC2x.c ****         {
 653              		.loc 1 213 15 view .LVU145
 654 000e 264B     		ldr	r3, .L56
 655 0010 03EB8203 		add	r3, r3, r2, lsl #2
 656 0014 93F82C30 		ldrb	r3, [r3, #44]	@ zero_extendqisi2
 213:FML/Src/EC2x.c ****         {
 657              		.loc 1 213 11 view .LVU146
 658 0018 73B9     		cbnz	r3, .L55
 220:FML/Src/EC2x.c ****             if(len > src->size)
 659              		.loc 1 220 13 is_stmt 1 view .LVU147
 220:FML/Src/EC2x.c ****             if(len > src->size)
 660              		.loc 1 220 24 is_stmt 0 view .LVU148
 661 001a C0EB0012 		rsb	r2, r0, r0, lsl #4
 662 001e 224B     		ldr	r3, .L56
 663 0020 03EB8203 		add	r3, r3, r2, lsl #2
 664 0024 0122     		movs	r2, #1
 665 0026 83F82C20 		strb	r2, [r3, #44]
 221:FML/Src/EC2x.c ****                 len = src->size;
 666              		.loc 1 221 13 is_stmt 1 view .LVU149
 221:FML/Src/EC2x.c ****                 len = src->size;
 667              		.loc 1 221 25 is_stmt 0 view .LVU150
 668 002a 188F     		ldrh	r0, [r3, #56]
 669              	.LVL63:
 221:FML/Src/EC2x.c ****                 len = src->size;
 670              		.loc 1 221 15 view .LVU151
 671 002c A842     		cmp	r0, r5
 672 002e 00D3     		bcc	.L46
 673 0030 2846     		mov	r0, r5
 674              	.L46:
 675              	.LVL64:
 223:FML/Src/EC2x.c ****                 dest[j] = src->data[src->head];
 676              		.loc 1 223 13 is_stmt 1 view .LVU152
 223:FML/Src/EC2x.c ****                 dest[j] = src->data[src->head];
 677              		.loc 1 223 19 is_stmt 0 view .LVU153
 678 0032 4FF0000C 		mov	ip, #0
 223:FML/Src/EC2x.c ****                 dest[j] = src->data[src->head];
 679              		.loc 1 223 13 view .LVU154
 680 0036 26E0     		b	.L47
 681              	.LVL65:
 682              	.L55:
 215:FML/Src/EC2x.c ****             if(src->block == 1)
 683              		.loc 1 215 13 is_stmt 1 view .LVU155
 684 0038 6420     		movs	r0, #100
 685              	.LVL66:
 215:FML/Src/EC2x.c ****             if(src->block == 1)
 686              		.loc 1 215 13 is_stmt 0 view .LVU156
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 21


 687 003a FFF7FEFF 		bl	HAL_Delay
 688              	.LVL67:
 216:FML/Src/EC2x.c ****                 return 0;
 689              		.loc 1 216 13 is_stmt 1 view .LVU157
 216:FML/Src/EC2x.c ****                 return 0;
 690              		.loc 1 216 19 is_stmt 0 view .LVU158
 691 003e C4EB0412 		rsb	r2, r4, r4, lsl #4
 692 0042 194B     		ldr	r3, .L56
 693 0044 03EB8203 		add	r3, r3, r2, lsl #2
 694 0048 93F82C30 		ldrb	r3, [r3, #44]	@ zero_extendqisi2
 216:FML/Src/EC2x.c ****                 return 0;
 695              		.loc 1 216 15 view .LVU159
 696 004c 4BBB     		cbnz	r3, .L50
 697 004e 2846     		mov	r0, r5
 698 0050 23E0     		b	.L42
 699              	.LVL68:
 700              	.L48:
 224:FML/Src/EC2x.c ****                 src->head = (src->head + 1) % src->capacity;
 701              		.loc 1 224 17 is_stmt 1 discriminator 3 view .LVU160
 224:FML/Src/EC2x.c ****                 src->head = (src->head + 1) % src->capacity;
 702              		.loc 1 224 30 is_stmt 0 discriminator 3 view .LVU161
 703 0052 C4EB0412 		rsb	r2, r4, r4, lsl #4
 704 0056 144B     		ldr	r3, .L56
 705 0058 03EB8203 		add	r3, r3, r2, lsl #2
 706 005c 1D6B     		ldr	r5, [r3, #48]
 224:FML/Src/EC2x.c ****                 src->head = (src->head + 1) % src->capacity;
 707              		.loc 1 224 40 discriminator 3 view .LVU162
 708 005e 9A8E     		ldrh	r2, [r3, #52]
 224:FML/Src/EC2x.c ****                 src->head = (src->head + 1) % src->capacity;
 709              		.loc 1 224 36 discriminator 3 view .LVU163
 710 0060 AA5C     		ldrb	r2, [r5, r2]	@ zero_extendqisi2
 224:FML/Src/EC2x.c ****                 src->head = (src->head + 1) % src->capacity;
 711              		.loc 1 224 25 discriminator 3 view .LVU164
 712 0062 01F80C20 		strb	r2, [r1, ip]
 225:FML/Src/EC2x.c ****                 src->size--;
 713              		.loc 1 225 17 is_stmt 1 discriminator 3 view .LVU165
 225:FML/Src/EC2x.c ****                 src->size--;
 714              		.loc 1 225 33 is_stmt 0 discriminator 3 view .LVU166
 715 0066 9A8E     		ldrh	r2, [r3, #52]
 225:FML/Src/EC2x.c ****                 src->size--;
 716              		.loc 1 225 40 discriminator 3 view .LVU167
 717 0068 0132     		adds	r2, r2, #1
 225:FML/Src/EC2x.c ****                 src->size--;
 718              		.loc 1 225 50 discriminator 3 view .LVU168
 719 006a B3F83AE0 		ldrh	lr, [r3, #58]
 225:FML/Src/EC2x.c ****                 src->size--;
 720              		.loc 1 225 45 discriminator 3 view .LVU169
 721 006e 92FBFEF5 		sdiv	r5, r2, lr
 722 0072 0EFB1522 		mls	r2, lr, r5, r2
 225:FML/Src/EC2x.c ****                 src->size--;
 723              		.loc 1 225 27 discriminator 3 view .LVU170
 724 0076 9A86     		strh	r2, [r3, #52]	@ movhi
 226:FML/Src/EC2x.c ****             }
 725              		.loc 1 226 17 is_stmt 1 discriminator 3 view .LVU171
 226:FML/Src/EC2x.c ****             }
 726              		.loc 1 226 20 is_stmt 0 discriminator 3 view .LVU172
 727 0078 1A8F     		ldrh	r2, [r3, #56]
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 22


 226:FML/Src/EC2x.c ****             }
 728              		.loc 1 226 26 discriminator 3 view .LVU173
 729 007a 013A     		subs	r2, r2, #1
 730 007c 1A87     		strh	r2, [r3, #56]	@ movhi
 223:FML/Src/EC2x.c ****                 dest[j] = src->data[src->head];
 731              		.loc 1 223 35 is_stmt 1 discriminator 3 view .LVU174
 732 007e 0CF1010C 		add	ip, ip, #1
 733              	.LVL69:
 223:FML/Src/EC2x.c ****                 dest[j] = src->data[src->head];
 734              		.loc 1 223 35 is_stmt 0 discriminator 3 view .LVU175
 735 0082 1FFA8CFC 		uxth	ip, ip
 736              	.LVL70:
 737              	.L47:
 223:FML/Src/EC2x.c ****                 dest[j] = src->data[src->head];
 738              		.loc 1 223 27 is_stmt 1 discriminator 1 view .LVU176
 739 0086 6045     		cmp	r0, ip
 740 0088 E3D8     		bhi	.L48
 228:FML/Src/EC2x.c ****         }
 741              		.loc 1 228 13 view .LVU177
 228:FML/Src/EC2x.c ****         }
 742              		.loc 1 228 24 is_stmt 0 view .LVU178
 743 008a C4EB0414 		rsb	r4, r4, r4, lsl #4
 744              	.LVL71:
 228:FML/Src/EC2x.c ****         }
 745              		.loc 1 228 24 view .LVU179
 746 008e 064B     		ldr	r3, .L56
 747 0090 03EB8403 		add	r3, r3, r4, lsl #2
 748 0094 0022     		movs	r2, #0
 749 0096 83F82C20 		strb	r2, [r3, #44]
 230:FML/Src/EC2x.c ****     }
 750              		.loc 1 230 9 is_stmt 1 view .LVU180
 751              	.LVL72:
 752              	.L42:
 230:FML/Src/EC2x.c ****     }
 753              		.loc 1 230 9 is_stmt 0 view .LVU181
 754              	.LBE10:
 232:FML/Src/EC2x.c **** int ec2x_ioctl(int fd);
 755              		.loc 1 232 1 view .LVU182
 756 009a 38BD     		pop	{r3, r4, r5, pc}
 757              	.LVL73:
 758              	.L49:
 759              	.LCFI13:
 760              		.cfi_def_cfa_offset 0
 761              		.cfi_restore 3
 762              		.cfi_restore 4
 763              		.cfi_restore 5
 764              		.cfi_restore 14
 207:FML/Src/EC2x.c ****     else{
 765              		.loc 1 207 16 view .LVU183
 766 009c 4FF0FF30 		mov	r0, #-1
 767              	.LVL74:
 232:FML/Src/EC2x.c **** int ec2x_ioctl(int fd);
 768              		.loc 1 232 1 view .LVU184
 769 00a0 7047     		bx	lr
 770              	.LVL75:
 771              	.L50:
 772              	.LCFI14:
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 23


 773              		.cfi_def_cfa_offset 16
 774              		.cfi_offset 3, -16
 775              		.cfi_offset 4, -12
 776              		.cfi_offset 5, -8
 777              		.cfi_offset 14, -4
 778              	.LBB11:
 217:FML/Src/EC2x.c ****         }
 779              		.loc 1 217 24 view .LVU185
 780 00a2 2046     		mov	r0, r4
 781 00a4 F9E7     		b	.L42
 782              	.L57:
 783 00a6 00BF     		.align	2
 784              	.L56:
 785 00a8 00000000 		.word	ec2x_dev
 786              	.LBE11:
 787              		.cfi_endproc
 788              	.LFE295:
 790              		.section	.rodata.ec2x_handler.str1.4,"aMS",%progbits,1
 791              		.align	2
 792              	.LC2:
 793 0000 257300   		.ascii	"%s\000"
 794              		.section	.text.ec2x_handler,"ax",%progbits
 795              		.align	1
 796              		.global	ec2x_handler
 797              		.syntax unified
 798              		.thumb
 799              		.thumb_func
 801              	ec2x_handler:
 802              	.LVL76:
 803              	.LFB296:
 243:FML/Src/EC2x.c ****     uint8_t i = 0,j = 0;
 804              		.loc 1 243 1 is_stmt 1 view -0
 805              		.cfi_startproc
 806              		@ args = 0, pretend = 0, frame = 0
 807              		@ frame_needed = 0, uses_anonymous_args = 0
 243:FML/Src/EC2x.c ****     uint8_t i = 0,j = 0;
 808              		.loc 1 243 1 is_stmt 0 view .LVU187
 809 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 810              	.LCFI15:
 811              		.cfi_def_cfa_offset 24
 812              		.cfi_offset 3, -24
 813              		.cfi_offset 4, -20
 814              		.cfi_offset 5, -16
 815              		.cfi_offset 6, -12
 816              		.cfi_offset 7, -8
 817              		.cfi_offset 14, -4
 818 0002 0546     		mov	r5, r0
 819 0004 0C46     		mov	r4, r1
 820 0006 1646     		mov	r6, r2
 244:FML/Src/EC2x.c ****     shellPrint(&shell,"%s",data);
 821              		.loc 1 244 5 is_stmt 1 view .LVU188
 822              	.LVL77:
 245:FML/Src/EC2x.c ****     for(i = 0;i < sizeof(ec2x_dev)/ sizeof(EC2x_HandleTypeDef);i++)
 823              		.loc 1 245 5 view .LVU189
 824 0008 0A46     		mov	r2, r1
 825              	.LVL78:
 245:FML/Src/EC2x.c ****     for(i = 0;i < sizeof(ec2x_dev)/ sizeof(EC2x_HandleTypeDef);i++)
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 24


 826              		.loc 1 245 5 is_stmt 0 view .LVU190
 827 000a 3449     		ldr	r1, .L68
 828              	.LVL79:
 245:FML/Src/EC2x.c ****     for(i = 0;i < sizeof(ec2x_dev)/ sizeof(EC2x_HandleTypeDef);i++)
 829              		.loc 1 245 5 view .LVU191
 830 000c 3448     		ldr	r0, .L68+4
 831              	.LVL80:
 245:FML/Src/EC2x.c ****     for(i = 0;i < sizeof(ec2x_dev)/ sizeof(EC2x_HandleTypeDef);i++)
 832              		.loc 1 245 5 view .LVU192
 833 000e FFF7FEFF 		bl	shellPrint
 834              	.LVL81:
 246:FML/Src/EC2x.c ****     {
 835              		.loc 1 246 5 is_stmt 1 view .LVU193
 246:FML/Src/EC2x.c ****     {
 836              		.loc 1 246 11 is_stmt 0 view .LVU194
 837 0012 0023     		movs	r3, #0
 838              	.LVL82:
 839              	.L59:
 246:FML/Src/EC2x.c ****     {
 840              		.loc 1 246 17 is_stmt 1 discriminator 1 view .LVU195
 841 0014 03B1     		cbz	r3, .L64
 266:FML/Src/EC2x.c **** 
 842              		.loc 1 266 1 is_stmt 0 view .LVU196
 843 0016 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 844              	.LVL83:
 845              	.L64:
 248:FML/Src/EC2x.c ****         {
 846              		.loc 1 248 9 is_stmt 1 view .LVU197
 248:FML/Src/EC2x.c ****         {
 847              		.loc 1 248 32 is_stmt 0 view .LVU198
 848 0018 9E46     		mov	lr, r3
 849 001a C3EB0311 		rsb	r1, r3, r3, lsl #4
 850 001e 314A     		ldr	r2, .L68+8
 851 0020 02EB8102 		add	r2, r2, r1, lsl #2
 852 0024 1269     		ldr	r2, [r2, #16]
 248:FML/Src/EC2x.c ****         {
 853              		.loc 1 248 11 view .LVU199
 854 0026 AA42     		cmp	r2, r5
 855 0028 02D0     		beq	.L66
 856              	.L60:
 246:FML/Src/EC2x.c ****     {
 857              		.loc 1 246 65 is_stmt 1 discriminator 2 view .LVU200
 858 002a 0133     		adds	r3, r3, #1
 859              	.LVL84:
 246:FML/Src/EC2x.c ****     {
 860              		.loc 1 246 65 is_stmt 0 discriminator 2 view .LVU201
 861 002c DBB2     		uxtb	r3, r3
 862              	.LVL85:
 246:FML/Src/EC2x.c ****     {
 863              		.loc 1 246 65 discriminator 2 view .LVU202
 864 002e F1E7     		b	.L59
 865              	.L66:
 866              	.LBB12:
 250:FML/Src/EC2x.c ****             if(dest->block  == 0){
 867              		.loc 1 250 13 is_stmt 1 view .LVU203
 868              	.LVL86:
 251:FML/Src/EC2x.c ****                 dest->block = 1;
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 25


 869              		.loc 1 251 13 view .LVU204
 251:FML/Src/EC2x.c ****                 dest->block = 1;
 870              		.loc 1 251 20 is_stmt 0 view .LVU205
 871 0030 2C4A     		ldr	r2, .L68+8
 872 0032 02EB8102 		add	r2, r2, r1, lsl #2
 873 0036 92F82C20 		ldrb	r2, [r2, #44]	@ zero_extendqisi2
 251:FML/Src/EC2x.c ****                 dest->block = 1;
 874              		.loc 1 251 15 view .LVU206
 875 003a 002A     		cmp	r2, #0
 876 003c F5D1     		bne	.L60
 252:FML/Src/EC2x.c ****                 for(j = 0 ; j < len; j++){
 877              		.loc 1 252 17 is_stmt 1 view .LVU207
 252:FML/Src/EC2x.c ****                 for(j = 0 ; j < len; j++){
 878              		.loc 1 252 29 is_stmt 0 view .LVU208
 879 003e 294A     		ldr	r2, .L68+8
 880 0040 02EB8102 		add	r2, r2, r1, lsl #2
 881 0044 0121     		movs	r1, #1
 882 0046 82F82C10 		strb	r1, [r2, #44]
 253:FML/Src/EC2x.c ****                    
 883              		.loc 1 253 17 is_stmt 1 view .LVU209
 884              	.LVL87:
 253:FML/Src/EC2x.c ****                    
 885              		.loc 1 253 23 is_stmt 0 view .LVU210
 886 004a 1846     		mov	r0, r3
 253:FML/Src/EC2x.c ****                    
 887              		.loc 1 253 17 view .LVU211
 888 004c 22E0     		b	.L61
 889              	.LVL88:
 890              	.L62:
 255:FML/Src/EC2x.c ****                     dest->tail = (dest->tail +1) % dest->capacity;
 891              		.loc 1 255 21 is_stmt 1 discriminator 3 view .LVU212
 255:FML/Src/EC2x.c ****                     dest->tail = (dest->tail +1) % dest->capacity;
 892              		.loc 1 255 25 is_stmt 0 discriminator 3 view .LVU213
 893 004e CEEB0E12 		rsb	r2, lr, lr, lsl #4
 894 0052 2449     		ldr	r1, .L68+8
 895 0054 01EB820C 		add	ip, r1, r2, lsl #2
 896 0058 DCF83020 		ldr	r2, [ip, #48]
 255:FML/Src/EC2x.c ****                     dest->tail = (dest->tail +1) % dest->capacity;
 897              		.loc 1 255 36 discriminator 3 view .LVU214
 898 005c BCF83610 		ldrh	r1, [ip, #54]
 255:FML/Src/EC2x.c ****                     dest->tail = (dest->tail +1) % dest->capacity;
 899              		.loc 1 255 50 discriminator 3 view .LVU215
 900 0060 275C     		ldrb	r7, [r4, r0]	@ zero_extendqisi2
 255:FML/Src/EC2x.c ****                     dest->tail = (dest->tail +1) % dest->capacity;
 901              		.loc 1 255 44 discriminator 3 view .LVU216
 902 0062 5754     		strb	r7, [r2, r1]
 256:FML/Src/EC2x.c ****                     dest->size++;
 903              		.loc 1 256 21 is_stmt 1 discriminator 3 view .LVU217
 256:FML/Src/EC2x.c ****                     dest->size++;
 904              		.loc 1 256 39 is_stmt 0 discriminator 3 view .LVU218
 905 0064 BCF83620 		ldrh	r2, [ip, #54]
 256:FML/Src/EC2x.c ****                     dest->size++;
 906              		.loc 1 256 46 discriminator 3 view .LVU219
 907 0068 0132     		adds	r2, r2, #1
 256:FML/Src/EC2x.c ****                     dest->size++;
 908              		.loc 1 256 56 discriminator 3 view .LVU220
 909 006a BCF83A70 		ldrh	r7, [ip, #58]
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 26


 256:FML/Src/EC2x.c ****                     dest->size++;
 910              		.loc 1 256 50 discriminator 3 view .LVU221
 911 006e 92FBF7F1 		sdiv	r1, r2, r7
 912 0072 07FB1122 		mls	r2, r7, r1, r2
 256:FML/Src/EC2x.c ****                     dest->size++;
 913              		.loc 1 256 32 discriminator 3 view .LVU222
 914 0076 ACF83620 		strh	r2, [ip, #54]	@ movhi
 257:FML/Src/EC2x.c ****                     dest->size = dest->size > dest->capacity ? dest->capacity : dest->size;
 915              		.loc 1 257 21 is_stmt 1 discriminator 3 view .LVU223
 257:FML/Src/EC2x.c ****                     dest->size = dest->size > dest->capacity ? dest->capacity : dest->size;
 916              		.loc 1 257 25 is_stmt 0 discriminator 3 view .LVU224
 917 007a BCF83810 		ldrh	r1, [ip, #56]
 257:FML/Src/EC2x.c ****                     dest->size = dest->size > dest->capacity ? dest->capacity : dest->size;
 918              		.loc 1 257 31 discriminator 3 view .LVU225
 919 007e 0131     		adds	r1, r1, #1
 920 0080 89B2     		uxth	r1, r1
 921 0082 ACF83810 		strh	r1, [ip, #56]	@ movhi
 258:FML/Src/EC2x.c ****                 }
 922              		.loc 1 258 21 is_stmt 1 discriminator 3 view .LVU226
 258:FML/Src/EC2x.c ****                 }
 923              		.loc 1 258 79 is_stmt 0 discriminator 3 view .LVU227
 924 0086 8F42     		cmp	r7, r1
 925 0088 28BF     		it	cs
 926 008a 0F46     		movcs	r7, r1
 258:FML/Src/EC2x.c ****                 }
 927              		.loc 1 258 32 discriminator 3 view .LVU228
 928 008c ACF83870 		strh	r7, [ip, #56]	@ movhi
 253:FML/Src/EC2x.c ****                    
 929              		.loc 1 253 39 is_stmt 1 discriminator 3 view .LVU229
 930 0090 0130     		adds	r0, r0, #1
 931              	.LVL89:
 253:FML/Src/EC2x.c ****                    
 932              		.loc 1 253 39 is_stmt 0 discriminator 3 view .LVU230
 933 0092 C0B2     		uxtb	r0, r0
 934              	.LVL90:
 935              	.L61:
 253:FML/Src/EC2x.c ****                    
 936              		.loc 1 253 31 is_stmt 1 discriminator 1 view .LVU231
 937 0094 B042     		cmp	r0, r6
 938 0096 DAD3     		bcc	.L62
 260:FML/Src/EC2x.c ****                     dest->head = dest->tail;
 939              		.loc 1 260 17 view .LVU232
 260:FML/Src/EC2x.c ****                     dest->head = dest->tail;
 940              		.loc 1 260 25 is_stmt 0 view .LVU233
 941 0098 CEEB0E11 		rsb	r1, lr, lr, lsl #4
 942 009c 114A     		ldr	r2, .L68+8
 943 009e 02EB8102 		add	r2, r2, r1, lsl #2
 944 00a2 D18E     		ldrh	r1, [r2, #54]
 260:FML/Src/EC2x.c ****                     dest->head = dest->tail;
 945              		.loc 1 260 38 view .LVU234
 946 00a4 928E     		ldrh	r2, [r2, #52]
 260:FML/Src/EC2x.c ****                     dest->head = dest->tail;
 947              		.loc 1 260 19 view .LVU235
 948 00a6 9142     		cmp	r1, r2
 949 00a8 08D9     		bls	.L63
 260:FML/Src/EC2x.c ****                     dest->head = dest->tail;
 950              		.loc 1 260 52 discriminator 1 view .LVU236
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 27


 951 00aa CEEB0E10 		rsb	r0, lr, lr, lsl #4
 952              	.LVL91:
 260:FML/Src/EC2x.c ****                     dest->head = dest->tail;
 953              		.loc 1 260 52 discriminator 1 view .LVU237
 954 00ae 0D4A     		ldr	r2, .L68+8
 955 00b0 02EB8002 		add	r2, r2, r0, lsl #2
 956 00b4 108F     		ldrh	r0, [r2, #56]
 260:FML/Src/EC2x.c ****                     dest->head = dest->tail;
 957              		.loc 1 260 66 discriminator 1 view .LVU238
 958 00b6 528F     		ldrh	r2, [r2, #58]
 260:FML/Src/EC2x.c ****                     dest->head = dest->tail;
 959              		.loc 1 260 45 discriminator 1 view .LVU239
 960 00b8 9042     		cmp	r0, r2
 961 00ba 08D0     		beq	.L67
 962              	.L63:
 262:FML/Src/EC2x.c ****             }
 963              		.loc 1 262 17 is_stmt 1 view .LVU240
 262:FML/Src/EC2x.c ****             }
 964              		.loc 1 262 29 is_stmt 0 view .LVU241
 965 00bc CEEB0E1E 		rsb	lr, lr, lr, lsl #4
 966 00c0 084A     		ldr	r2, .L68+8
 967 00c2 02EB8E02 		add	r2, r2, lr, lsl #2
 968 00c6 0021     		movs	r1, #0
 969 00c8 82F82C10 		strb	r1, [r2, #44]
 970 00cc ADE7     		b	.L60
 971              	.L67:
 261:FML/Src/EC2x.c ****                 dest->block = 0;
 972              		.loc 1 261 21 is_stmt 1 view .LVU242
 261:FML/Src/EC2x.c ****                 dest->block = 0;
 973              		.loc 1 261 32 is_stmt 0 view .LVU243
 974 00ce CEEB0E10 		rsb	r0, lr, lr, lsl #4
 975 00d2 044A     		ldr	r2, .L68+8
 976 00d4 02EB8002 		add	r2, r2, r0, lsl #2
 977 00d8 9186     		strh	r1, [r2, #52]	@ movhi
 978 00da EFE7     		b	.L63
 979              	.L69:
 980              		.align	2
 981              	.L68:
 982 00dc 00000000 		.word	.LC2
 983 00e0 00000000 		.word	shell
 984 00e4 00000000 		.word	ec2x_dev
 985              	.LBE12:
 986              		.cfi_endproc
 987              	.LFE296:
 989              		.section	.rodata.ec2x_timeout_handle.str1.4,"aMS",%progbits,1
 990              		.align	2
 991              	.LC3:
 992 0000 6E6F2076 		.ascii	"no valid data\015\012\000"
 992      616C6964 
 992      20646174 
 992      610D0A00 
 993              		.section	.text.ec2x_timeout_handle,"ax",%progbits
 994              		.align	1
 995              		.global	ec2x_timeout_handle
 996              		.syntax unified
 997              		.thumb
 998              		.thumb_func
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 28


 1000              	ec2x_timeout_handle:
 1001              	.LFB297:
 269:FML/Src/EC2x.c ****     shellPrint(&shell,"no valid data\r\n");
 1002              		.loc 1 269 31 is_stmt 1 view -0
 1003              		.cfi_startproc
 1004              		@ args = 0, pretend = 0, frame = 0
 1005              		@ frame_needed = 0, uses_anonymous_args = 0
 1006 0000 08B5     		push	{r3, lr}
 1007              	.LCFI16:
 1008              		.cfi_def_cfa_offset 8
 1009              		.cfi_offset 3, -8
 1010              		.cfi_offset 14, -4
 270:FML/Src/EC2x.c ****     queue_insert(&ec2x_event_queue,(uint8_t)Timeout_Event);
 1011              		.loc 1 270 5 view .LVU245
 1012 0002 0449     		ldr	r1, .L72
 1013 0004 0448     		ldr	r0, .L72+4
 1014 0006 FFF7FEFF 		bl	shellPrint
 1015              	.LVL92:
 271:FML/Src/EC2x.c **** }
 1016              		.loc 1 271 5 view .LVU246
 1017 000a 0121     		movs	r1, #1
 1018 000c 0348     		ldr	r0, .L72+8
 1019 000e FFF7FEFF 		bl	queue_insert
 1020              	.LVL93:
 272:FML/Src/EC2x.c **** 
 1021              		.loc 1 272 1 is_stmt 0 view .LVU247
 1022 0012 08BD     		pop	{r3, pc}
 1023              	.L73:
 1024              		.align	2
 1025              	.L72:
 1026 0014 00000000 		.word	.LC3
 1027 0018 00000000 		.word	shell
 1028 001c 00000000 		.word	ec2x_event_queue
 1029              		.cfi_endproc
 1030              	.LFE297:
 1032              		.section	.rodata.ec2x_replymatch.str1.4,"aMS",%progbits,1
 1033              		.align	2
 1034              	.LC4:
 1035 0000 72656376 		.ascii	"recv success\000"
 1035      20737563 
 1035      63657373 
 1035      00
 1036              		.section	.text.ec2x_replymatch,"ax",%progbits
 1037              		.align	1
 1038              		.global	ec2x_replymatch
 1039              		.syntax unified
 1040              		.thumb
 1041              		.thumb_func
 1043              	ec2x_replymatch:
 1044              	.LVL94:
 1045              	.LFB298:
 274:FML/Src/EC2x.c ****     uint8_t rx_buff[300]  = {0x00};
 1046              		.loc 1 274 34 is_stmt 1 view -0
 1047              		.cfi_startproc
 1048              		@ args = 0, pretend = 0, frame = 304
 1049              		@ frame_needed = 0, uses_anonymous_args = 0
 274:FML/Src/EC2x.c ****     uint8_t rx_buff[300]  = {0x00};
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 29


 1050              		.loc 1 274 34 is_stmt 0 view .LVU249
 1051 0000 30B5     		push	{r4, r5, lr}
 1052              	.LCFI17:
 1053              		.cfi_def_cfa_offset 12
 1054              		.cfi_offset 4, -12
 1055              		.cfi_offset 5, -8
 1056              		.cfi_offset 14, -4
 1057 0002 CDB0     		sub	sp, sp, #308
 1058              	.LCFI18:
 1059              		.cfi_def_cfa_offset 320
 1060 0004 0546     		mov	r5, r0
 275:FML/Src/EC2x.c ****     int bytes_num = 0;
 1061              		.loc 1 275 5 is_stmt 1 view .LVU250
 275:FML/Src/EC2x.c ****     int bytes_num = 0;
 1062              		.loc 1 275 13 is_stmt 0 view .LVU251
 1063 0006 0024     		movs	r4, #0
 1064 0008 0194     		str	r4, [sp, #4]
 1065 000a 4FF49472 		mov	r2, #296
 1066 000e 2146     		mov	r1, r4
 1067 0010 02A8     		add	r0, sp, #8
 1068              	.LVL95:
 275:FML/Src/EC2x.c ****     int bytes_num = 0;
 1069              		.loc 1 275 13 view .LVU252
 1070 0012 FFF7FEFF 		bl	memset
 1071              	.LVL96:
 276:FML/Src/EC2x.c ****     bytes_num =  ec2x_read(0,rx_buff,300);
 1072              		.loc 1 276 5 is_stmt 1 view .LVU253
 277:FML/Src/EC2x.c ****     if(bytes_num > 0)
 1073              		.loc 1 277 5 view .LVU254
 277:FML/Src/EC2x.c ****     if(bytes_num > 0)
 1074              		.loc 1 277 18 is_stmt 0 view .LVU255
 1075 0016 4FF49672 		mov	r2, #300
 1076 001a 01A9     		add	r1, sp, #4
 1077 001c 2046     		mov	r0, r4
 1078 001e FFF7FEFF 		bl	ec2x_read
 1079              	.LVL97:
 278:FML/Src/EC2x.c ****     {
 1080              		.loc 1 278 5 is_stmt 1 view .LVU256
 278:FML/Src/EC2x.c ****     {
 1081              		.loc 1 278 7 is_stmt 0 view .LVU257
 1082 0022 A042     		cmp	r0, r4
 1083 0024 04DD     		ble	.L75
 280:FML/Src/EC2x.c ****              shellPrint(&shell,"recv success");
 1084              		.loc 1 280 9 is_stmt 1 view .LVU258
 1085              	.LBB13:
 280:FML/Src/EC2x.c ****              shellPrint(&shell,"recv success");
 1086              		.loc 1 280 12 is_stmt 0 view .LVU259
 1087 0026 2946     		mov	r1, r5
 1088 0028 01A8     		add	r0, sp, #4
 1089              	.LVL98:
 280:FML/Src/EC2x.c ****              shellPrint(&shell,"recv success");
 1090              		.loc 1 280 12 view .LVU260
 1091 002a FFF7FEFF 		bl	strstr
 1092              	.LVL99:
 280:FML/Src/EC2x.c ****              shellPrint(&shell,"recv success");
 1093              		.loc 1 280 11 view .LVU261
 1094 002e 40B9     		cbnz	r0, .L79
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 30


 1095              	.L75:
 1096              	.LBE13:
 287:FML/Src/EC2x.c ****          ec2x_timeout_handle(); 
 1097              		.loc 1 287 5 is_stmt 1 view .LVU262
 287:FML/Src/EC2x.c ****          ec2x_timeout_handle(); 
 1098              		.loc 1 287 20 is_stmt 0 view .LVU263
 1099 0030 0B4B     		ldr	r3, .L81
 1100 0032 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 287:FML/Src/EC2x.c ****          ec2x_timeout_handle(); 
 1101              		.loc 1 287 7 view .LVU264
 1102 0034 7BB1     		cbz	r3, .L80
 290:FML/Src/EC2x.c ****     return 0;
 1103              		.loc 1 290 9 is_stmt 1 view .LVU265
 290:FML/Src/EC2x.c ****     return 0;
 1104              		.loc 1 290 20 is_stmt 0 view .LVU266
 1105 0036 013B     		subs	r3, r3, #1
 1106 0038 094A     		ldr	r2, .L81
 1107 003a 1370     		strb	r3, [r2]
 291:FML/Src/EC2x.c **** }
 1108              		.loc 1 291 12 view .LVU267
 1109 003c 0020     		movs	r0, #0
 1110              	.L74:
 292:FML/Src/EC2x.c **** 
 1111              		.loc 1 292 1 view .LVU268
 1112 003e 4DB0     		add	sp, sp, #308
 1113              	.LCFI19:
 1114              		.cfi_remember_state
 1115              		.cfi_def_cfa_offset 12
 1116              		@ sp needed
 1117 0040 30BD     		pop	{r4, r5, pc}
 1118              	.LVL100:
 1119              	.L79:
 1120              	.LCFI20:
 1121              		.cfi_restore_state
 1122              	.LBB14:
 281:FML/Src/EC2x.c ****              queue_insert(&ec2x_event_queue,(uint8_t)ReplyScs_Event);
 1123              		.loc 1 281 14 is_stmt 1 view .LVU269
 1124 0042 0849     		ldr	r1, .L81+4
 1125 0044 0848     		ldr	r0, .L81+8
 1126 0046 FFF7FEFF 		bl	shellPrint
 1127              	.LVL101:
 282:FML/Src/EC2x.c ****             return 1;
 1128              		.loc 1 282 14 view .LVU270
 1129 004a 0221     		movs	r1, #2
 1130 004c 0748     		ldr	r0, .L81+12
 1131 004e FFF7FEFF 		bl	queue_insert
 1132              	.LVL102:
 283:FML/Src/EC2x.c ****         }
 1133              		.loc 1 283 13 view .LVU271
 283:FML/Src/EC2x.c ****         }
 1134              		.loc 1 283 20 is_stmt 0 view .LVU272
 1135 0052 0120     		movs	r0, #1
 1136 0054 F3E7     		b	.L74
 1137              	.L80:
 1138              	.LBE14:
 288:FML/Src/EC2x.c ****     else
 1139              		.loc 1 288 10 is_stmt 1 view .LVU273
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 31


 1140 0056 FFF7FEFF 		bl	ec2x_timeout_handle
 1141              	.LVL103:
 291:FML/Src/EC2x.c **** }
 1142              		.loc 1 291 12 is_stmt 0 view .LVU274
 1143 005a 0020     		movs	r0, #0
 1144 005c EFE7     		b	.L74
 1145              	.L82:
 1146 005e 00BF     		.align	2
 1147              	.L81:
 1148 0060 00000000 		.word	timeout_cnt
 1149 0064 00000000 		.word	.LC4
 1150 0068 00000000 		.word	shell
 1151 006c 00000000 		.word	ec2x_event_queue
 1152              		.cfi_endproc
 1153              	.LFE298:
 1155              		.section	.rodata.ec2x_fms_proccess.str1.4,"aMS",%progbits,1
 1156              		.align	2
 1157              	.LC5:
 1158 0000 4375722D 		.ascii	"Cur->State:%d ,Evt:%d,\000"
 1158      3E537461 
 1158      74653A25 
 1158      64202C45 
 1158      76743A25 
 1159 0017 00       		.align	2
 1160              	.LC6:
 1161 0018 4E657874 		.ascii	"Next->State:%d\015\012\000"
 1161      2D3E5374 
 1161      6174653A 
 1161      25640D0A 
 1161      00
 1162              		.section	.text.ec2x_fms_proccess,"ax",%progbits
 1163              		.align	1
 1164              		.global	ec2x_fms_proccess
 1165              		.syntax unified
 1166              		.thumb
 1167              		.thumb_func
 1169              	ec2x_fms_proccess:
 1170              	.LFB301:
 308:FML/Src/EC2x.c ****     if(queue_is_empty(&ec2x_event_queue) == 0){
 1171              		.loc 1 308 29 is_stmt 1 view -0
 1172              		.cfi_startproc
 1173              		@ args = 0, pretend = 0, frame = 8
 1174              		@ frame_needed = 0, uses_anonymous_args = 0
 1175 0000 30B5     		push	{r4, r5, lr}
 1176              	.LCFI21:
 1177              		.cfi_def_cfa_offset 12
 1178              		.cfi_offset 4, -12
 1179              		.cfi_offset 5, -8
 1180              		.cfi_offset 14, -4
 1181 0002 83B0     		sub	sp, sp, #12
 1182              	.LCFI22:
 1183              		.cfi_def_cfa_offset 24
 309:FML/Src/EC2x.c ****         EC2x_Event_T evt = 0x00;
 1184              		.loc 1 309 5 view .LVU276
 309:FML/Src/EC2x.c ****         EC2x_Event_T evt = 0x00;
 1185              		.loc 1 309 8 is_stmt 0 view .LVU277
 1186 0004 1148     		ldr	r0, .L87
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 32


 1187 0006 FFF7FEFF 		bl	queue_is_empty
 1188              	.LVL104:
 309:FML/Src/EC2x.c ****         EC2x_Event_T evt = 0x00;
 1189              		.loc 1 309 7 view .LVU278
 1190 000a 08B1     		cbz	r0, .L86
 1191              	.L83:
 316:FML/Src/EC2x.c **** /*------------------------------------test------------------------------------*/
 1192              		.loc 1 316 1 view .LVU279
 1193 000c 03B0     		add	sp, sp, #12
 1194              	.LCFI23:
 1195              		.cfi_remember_state
 1196              		.cfi_def_cfa_offset 12
 1197              		@ sp needed
 1198 000e 30BD     		pop	{r4, r5, pc}
 1199              	.L86:
 1200              	.LCFI24:
 1201              		.cfi_restore_state
 1202              	.LBB15:
 310:FML/Src/EC2x.c ****         queue_pop(&ec2x_event_queue,&evt,1);
 1203              		.loc 1 310 9 is_stmt 1 view .LVU280
 310:FML/Src/EC2x.c ****         queue_pop(&ec2x_event_queue,&evt,1);
 1204              		.loc 1 310 22 is_stmt 0 view .LVU281
 1205 0010 0023     		movs	r3, #0
 1206 0012 8DF80730 		strb	r3, [sp, #7]
 311:FML/Src/EC2x.c ****         shellPrint(&shell,"Cur->State:%d ,Evt:%d,",(&ec2x_fsm)->state,evt);
 1207              		.loc 1 311 9 is_stmt 1 view .LVU282
 1208 0016 0122     		movs	r2, #1
 1209 0018 0DF10701 		add	r1, sp, #7
 1210 001c 0B48     		ldr	r0, .L87
 1211 001e FFF7FEFF 		bl	queue_pop
 1212              	.LVL105:
 312:FML/Src/EC2x.c ****         FSM_EventHandle(&ec2x_fsm,evt);
 1213              		.loc 1 312 9 view .LVU283
 312:FML/Src/EC2x.c ****         FSM_EventHandle(&ec2x_fsm,evt);
 1214              		.loc 1 312 63 is_stmt 0 view .LVU284
 1215 0022 0B4C     		ldr	r4, .L87+4
 312:FML/Src/EC2x.c ****         FSM_EventHandle(&ec2x_fsm,evt);
 1216              		.loc 1 312 9 view .LVU285
 1217 0024 0B4D     		ldr	r5, .L87+8
 1218 0026 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 1219 002a 2278     		ldrb	r2, [r4]	@ zero_extendqisi2
 1220 002c 0A49     		ldr	r1, .L87+12
 1221 002e 2846     		mov	r0, r5
 1222 0030 FFF7FEFF 		bl	shellPrint
 1223              	.LVL106:
 313:FML/Src/EC2x.c ****         shellPrint(&shell,"Next->State:%d\r\n",(&ec2x_fsm)->state);
 1224              		.loc 1 313 9 is_stmt 1 view .LVU286
 1225 0034 9DF80710 		ldrb	r1, [sp, #7]	@ zero_extendqisi2
 1226 0038 2046     		mov	r0, r4
 1227 003a FFF7FEFF 		bl	FSM_EventHandle
 1228              	.LVL107:
 314:FML/Src/EC2x.c ****     }
 1229              		.loc 1 314 9 view .LVU287
 1230 003e 2278     		ldrb	r2, [r4]	@ zero_extendqisi2
 1231 0040 0649     		ldr	r1, .L87+16
 1232 0042 2846     		mov	r0, r5
 1233 0044 FFF7FEFF 		bl	shellPrint
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 33


 1234              	.LVL108:
 1235              	.LBE15:
 316:FML/Src/EC2x.c **** /*------------------------------------test------------------------------------*/
 1236              		.loc 1 316 1 is_stmt 0 view .LVU288
 1237 0048 E0E7     		b	.L83
 1238              	.L88:
 1239 004a 00BF     		.align	2
 1240              	.L87:
 1241 004c 00000000 		.word	ec2x_event_queue
 1242 0050 00000000 		.word	ec2x_fsm
 1243 0054 00000000 		.word	shell
 1244 0058 00000000 		.word	.LC5
 1245 005c 18000000 		.word	.LC6
 1246              		.cfi_endproc
 1247              	.LFE301:
 1249              		.global	shellCommandec2x_cmd_send
 1250              		.section	shellCommand,"a"
 1253              	shellCommandec2x_cmd_send:
 1254 0000 00210000 		.4byte	8448
 1255 0004 00000000 		.4byte	shellCmdec2x_cmd_send
 1256 0008 00000000 		.4byte	EC2x_Test
 1257 000c 00000000 		.4byte	shellDescec2x_cmd_send
 1258              		.global	shellDescec2x_cmd_send
 1259              		.section	.rodata.shellDescec2x_cmd_send,"a"
 1260              		.align	2
 1263              	shellDescec2x_cmd_send:
 1264 0000 65633278 		.ascii	"ec2x test\000"
 1264      20746573 
 1264      7400
 1265              		.global	shellCmdec2x_cmd_send
 1266              		.section	.rodata.shellCmdec2x_cmd_send,"a"
 1267              		.align	2
 1270              	shellCmdec2x_cmd_send:
 1271 0000 65633278 		.ascii	"ec2x_cmd_send\000"
 1271      5F636D64 
 1271      5F73656E 
 1271      6400
 1272              		.section	.bss.timeout_cnt,"aw",%nobits
 1275              	timeout_cnt:
 1276 0000 00       		.space	1
 1277              		.global	ec2x_dev
 1278              		.section	.data.ec2x_dev,"aw"
 1279              		.align	2
 1282              	ec2x_dev:
 1283 0000 75617274 		.ascii	"uart1/ec200s\000"
 1283      312F6563 
 1283      32303073 
 1283      00
 1284 000d 0000     		.space	2
 1285 000f 00       		.space	1
 1286 0010 00000000 		.word	huart1
 1287 0014 00000048 		.word	1207959552
 1288 0018 0010     		.short	4096
 1289 001a 0000     		.space	2
 1290 001c 00000048 		.word	1207959552
 1291 0020 0001     		.short	256
 1292 0022 0000     		.space	2
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 34


 1293 0024 00000048 		.word	1207959552
 1294 0028 0008     		.short	2048
 1295 002a 0000     		.space	2
 1296 002c 00       		.byte	0
 1297 002d 000000   		.space	3
 1298 0030 00000000 		.word	ec2x_buff
 1299 0034 0000     		.short	0
 1300 0036 0000     		.short	0
 1301 0038 0000     		.short	0
 1302 003a 2C01     		.short	300
 1303              		.global	tcp_connect
 1304              		.section	.data.tcp_connect,"aw"
 1305              		.align	2
 1308              	tcp_connect:
 1309 0000 41542B51 		.ascii	"AT+QIOPEN=1,0,\"TCP\",\"115.236.153.170\",52894,0,2"
 1309      494F5045 
 1309      4E3D312C 
 1309      302C2254 
 1309      4350222C 
 1310 002f 00       		.ascii	"\000"
 1311              		.global	ec2x_event_queue
 1312              		.section	.bss.ec2x_event_queue,"aw",%nobits
 1313              		.align	2
 1316              	ec2x_event_queue:
 1317 0000 00000000 		.space	16
 1317      00000000 
 1317      00000000 
 1317      00000000 
 1318              		.global	event_buff
 1319              		.section	.bss.event_buff,"aw",%nobits
 1320              		.align	2
 1323              	event_buff:
 1324 0000 00000000 		.space	10
 1324      00000000 
 1324      0000
 1325              		.global	ec2x_transtable
 1326              		.section	.data.ec2x_transtable,"aw"
 1327              		.align	2
 1330              	ec2x_transtable:
 1331 0000 00       		.byte	0
 1332 0001 01       		.byte	1
 1333 0002 00       		.byte	0
 1334 0003 00       		.space	1
 1335 0004 00000000 		.word	ec2x_reset
 1336 0008 00       		.byte	0
 1337 0009 02       		.byte	2
 1338 000a 01       		.byte	1
 1339 000b 00       		.space	1
 1340 000c 00000000 		.word	0
 1341 0010 01       		.byte	1
 1342 0011 03       		.byte	3
 1343 0012 02       		.byte	2
 1344 0013 00       		.space	1
 1345 0014 00000000 		.word	0
 1346 0018 02       		.byte	2
 1347 0019 02       		.byte	2
 1348 001a 01       		.byte	1
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 35


 1349 001b 00       		.space	1
 1350 001c 00000000 		.word	0
 1351 0020 02       		.byte	2
 1352 0021 01       		.byte	1
 1353 0022 01       		.byte	1
 1354 0023 00       		.space	1
 1355 0024 00000000 		.word	0
 1356 0028 03       		.byte	3
 1357 0029 04       		.byte	4
 1358 002a 03       		.byte	3
 1359 002b 00       		.space	1
 1360 002c 00000000 		.word	0
 1361              		.global	ec2x_fsm
 1362              		.section	.bss.ec2x_fsm,"aw",%nobits
 1363              		.align	2
 1366              	ec2x_fsm:
 1367 0000 00000000 		.space	12
 1367      00000000 
 1367      00000000 
 1368              		.global	ec2x_buff
 1369              		.section	.data.ec2x_buff,"aw"
 1370              		.align	2
 1373              	ec2x_buff:
 1374 0000 FF00     		.ascii	"\377\000"
 1375 0002 00000000 		.space	298
 1375      00000000 
 1375      00000000 
 1375      00000000 
 1375      00000000 
 1376              		.text
 1377              	.Letext0:
 1378              		.file 2 "/Applications/ArmGNUToolchain/12.3.rel1/arm-none-eabi/arm-none-eabi/include/machine/_defa
 1379              		.file 3 "/Applications/ArmGNUToolchain/12.3.rel1/arm-none-eabi/arm-none-eabi/include/sys/_stdint.h
 1380              		.file 4 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l431xx.h"
 1381              		.file 5 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h"
 1382              		.file 6 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_gpio.h"
 1383              		.file 7 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_dma.h"
 1384              		.file 8 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_uart.h"
 1385              		.file 9 "FML/Inc/EC2x.h"
 1386              		.file 10 "ThirdParty/Letter-shell/Inc/shell.h"
 1387              		.file 11 "HAL/Inc/usart.h"
 1388              		.file 12 "ThirdParty/Letter-shell/Inc/shell_port.h"
 1389              		.file 13 "ThirdParty/FSM/fsm.h"
 1390              		.file 14 "HAL/Inc/queue.h"
 1391              		.file 15 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal.h"
 1392              		.file 16 "HAL/Inc/timer.h"
 1393              		.file 17 "<built-in>"
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 36


DEFINED SYMBOLS
                            *ABS*:00000000 EC2x.c
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:21     .text.ec2x_waitreply:00000000 $t
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:26     .text.ec2x_waitreply:00000000 ec2x_waitreply
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:62     .text.ec2x_waitreply:0000001c $d
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:1275   .bss.timeout_cnt:00000000 timeout_cnt
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:1043   .text.ec2x_replymatch:00000000 ec2x_replymatch
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:69     .rodata.ec2x_reset.str1.4:00000000 $d
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:73     .text.ec2x_reset:00000000 $t
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:78     .text.ec2x_reset:00000000 ec2x_reset
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:104    .text.ec2x_reset:00000010 $d
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:109    .text.ec2x_io_init:00000000 $t
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:115    .text.ec2x_io_init:00000000 ec2x_io_init
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:253    .text.ec2x_io_init:00000090 $d
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:258    .text.ec2x_open:00000000 $t
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:264    .text.ec2x_open:00000000 ec2x_open
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:357    .text.ec2x_open:0000005c $d
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:1282   .data.ec2x_dev:00000000 ec2x_dev
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:1316   .bss.ec2x_event_queue:00000000 ec2x_event_queue
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:1323   .bss.event_buff:00000000 event_buff
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:1330   .data.ec2x_transtable:00000000 ec2x_transtable
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:1366   .bss.ec2x_fsm:00000000 ec2x_fsm
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:368    .text.ec2x_write:00000000 $t
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:374    .text.ec2x_write:00000000 ec2x_write
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:419    .text.ec2x_write:00000024 $d
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:424    .text.ec2x_cmd_send:00000000 $t
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:429    .text.ec2x_cmd_send:00000000 ec2x_cmd_send
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:463    .text.ec2x_cmd_send:0000001c $d
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:468    .rodata.EC2x_Test.str1.4:00000000 $d
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:472    .text.EC2x_Test:00000000 $t
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:478    .text.EC2x_Test:00000000 EC2x_Test
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:609    .text.EC2x_Test:00000080 $d
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:1308   .data.tcp_connect:00000000 tcp_connect
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:617    .text.ec2x_read:00000000 $t
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:623    .text.ec2x_read:00000000 ec2x_read
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:785    .text.ec2x_read:000000a8 $d
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:791    .rodata.ec2x_handler.str1.4:00000000 $d
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:795    .text.ec2x_handler:00000000 $t
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:801    .text.ec2x_handler:00000000 ec2x_handler
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:982    .text.ec2x_handler:000000dc $d
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:990    .rodata.ec2x_timeout_handle.str1.4:00000000 $d
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:994    .text.ec2x_timeout_handle:00000000 $t
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:1000   .text.ec2x_timeout_handle:00000000 ec2x_timeout_handle
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:1026   .text.ec2x_timeout_handle:00000014 $d
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:1033   .rodata.ec2x_replymatch.str1.4:00000000 $d
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:1037   .text.ec2x_replymatch:00000000 $t
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:1148   .text.ec2x_replymatch:00000060 $d
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:1156   .rodata.ec2x_fms_proccess.str1.4:00000000 $d
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:1163   .text.ec2x_fms_proccess:00000000 $t
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:1169   .text.ec2x_fms_proccess:00000000 ec2x_fms_proccess
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:1241   .text.ec2x_fms_proccess:0000004c $d
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:1253   shellCommand:00000000 shellCommandec2x_cmd_send
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:1270   .rodata.shellCmdec2x_cmd_send:00000000 shellCmdec2x_cmd_send
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:1263   .rodata.shellDescec2x_cmd_send:00000000 shellDescec2x_cmd_send
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:1260   .rodata.shellDescec2x_cmd_send:00000000 $d
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:1267   .rodata.shellCmdec2x_cmd_send:00000000 $d
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:1276   .bss.timeout_cnt:00000000 $d
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s 			page 37


/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:1279   .data.ec2x_dev:00000000 $d
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:1373   .data.ec2x_buff:00000000 ec2x_buff
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:1305   .data.tcp_connect:00000000 $d
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:1313   .bss.ec2x_event_queue:00000000 $d
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:1320   .bss.event_buff:00000000 $d
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:1327   .data.ec2x_transtable:00000000 $d
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:1363   .bss.ec2x_fsm:00000000 $d
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//ccQrt5a4.s:1370   .data.ec2x_buff:00000000 $d

UNDEFINED SYMBOLS
timer_insert
HAL_GPIO_Init
HAL_GPIO_WritePin
HAL_Delay
strcmp
queue_init
FSM_Regist
queue_insert
HAL_UART_Transmit_IT
strlen
malloc
memcpy
free
shellPrint
shell
memset
strstr
queue_is_empty
queue_pop
FSM_EventHandle
huart1
