ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//cclILSsl.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"queue.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "HAL/Src/queue.c"
  20              		.section	.text.queue_init,"ax",%progbits
  21              		.align	1
  22              		.global	queue_init
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	queue_init:
  28              	.LVL0:
  29              	.LFB288:
   1:HAL/Src/queue.c **** /**
   2:HAL/Src/queue.c ****  * @file queue.c
   3:HAL/Src/queue.c ****  * @brief 
   4:HAL/Src/queue.c ****  * @author CL
   5:HAL/Src/queue.c ****  * @version 1.0
   6:HAL/Src/queue.c ****  * @date 2023-08-30
   7:HAL/Src/queue.c ****  * 
   8:HAL/Src/queue.c ****  * @copyright Copyright (c) 2023  JiuTong
   9:HAL/Src/queue.c ****  * 
  10:HAL/Src/queue.c ****  */
  11:HAL/Src/queue.c **** #include "queue.h"
  12:HAL/Src/queue.c **** 
  13:HAL/Src/queue.c **** /**
  14:HAL/Src/queue.c ****  * @brief 
  15:HAL/Src/queue.c ****  * @param  self             My Param doc
  16:HAL/Src/queue.c ****  * @param  buff             My Param doc
  17:HAL/Src/queue.c ****  * @param  size             My Param doc
  18:HAL/Src/queue.c ****  */
  19:HAL/Src/queue.c **** void queue_init(Queue_HandleTypeDef *self,void *buff,uint16_t capacity){
  30              		.loc 1 19 72 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  20:HAL/Src/queue.c ****     self->block = 0;
  35              		.loc 1 20 5 view .LVU1
  36              		.loc 1 20 17 is_stmt 0 view .LVU2
  37 0000 0023     		movs	r3, #0
  38 0002 0370     		strb	r3, [r0]
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//cclILSsl.s 			page 2


  21:HAL/Src/queue.c ****     self->head = 0;
  39              		.loc 1 21 5 is_stmt 1 view .LVU3
  40              		.loc 1 21 16 is_stmt 0 view .LVU4
  41 0004 4380     		strh	r3, [r0, #2]	@ movhi
  22:HAL/Src/queue.c ****     self->tail = 0;
  42              		.loc 1 22 5 is_stmt 1 view .LVU5
  43              		.loc 1 22 16 is_stmt 0 view .LVU6
  44 0006 8380     		strh	r3, [r0, #4]	@ movhi
  23:HAL/Src/queue.c ****     self->capacity = capacity; 
  45              		.loc 1 23 5 is_stmt 1 view .LVU7
  46              		.loc 1 23 20 is_stmt 0 view .LVU8
  47 0008 8281     		strh	r2, [r0, #12]	@ movhi
  24:HAL/Src/queue.c ****     self->buff = buff;
  48              		.loc 1 24 5 is_stmt 1 view .LVU9
  49              		.loc 1 24 16 is_stmt 0 view .LVU10
  50 000a 8160     		str	r1, [r0, #8]
  25:HAL/Src/queue.c **** }
  51              		.loc 1 25 1 view .LVU11
  52 000c 7047     		bx	lr
  53              		.cfi_endproc
  54              	.LFE288:
  56              		.section	.text.queue_insert,"ax",%progbits
  57              		.align	1
  58              		.global	queue_insert
  59              		.syntax unified
  60              		.thumb
  61              		.thumb_func
  63              	queue_insert:
  64              	.LVL1:
  65              	.LFB289:
  26:HAL/Src/queue.c **** /**
  27:HAL/Src/queue.c ****  * @brief 
  28:HAL/Src/queue.c ****  * @param  self             My Param doc
  29:HAL/Src/queue.c ****  * @param  item             My Param doc
  30:HAL/Src/queue.c ****  * @return int 
  31:HAL/Src/queue.c ****  */
  32:HAL/Src/queue.c **** int queue_insert(Queue_HandleTypeDef *self,uint8_t item){
  66              		.loc 1 32 57 is_stmt 1 view -0
  67              		.cfi_startproc
  68              		@ args = 0, pretend = 0, frame = 0
  69              		@ frame_needed = 0, uses_anonymous_args = 0
  33:HAL/Src/queue.c ****     if(self->block  == 0){
  70              		.loc 1 33 5 view .LVU13
  71              		.loc 1 33 12 is_stmt 0 view .LVU14
  72 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
  73              		.loc 1 33 7 view .LVU15
  74 0002 13B1     		cbz	r3, .L10
  34:HAL/Src/queue.c ****         self->block = 1;
  35:HAL/Src/queue.c **** 
  36:HAL/Src/queue.c ****         //先判断队列是否满了
  37:HAL/Src/queue.c ****         if((self->tail + 1) % self->capacity == self->head){
  38:HAL/Src/queue.c ****             //如果满了，需要把现在的队列头删了，然后再进行插入,
  39:HAL/Src/queue.c ****             //这里会牺牲一个单元的空间，用于区分队列空和队列满
  40:HAL/Src/queue.c ****             self->head = (self->head + 1) % self->capacity;
  41:HAL/Src/queue.c ****         }
  42:HAL/Src/queue.c **** 
  43:HAL/Src/queue.c ****         self->buff[self->tail] = item;
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//cclILSsl.s 			page 3


  44:HAL/Src/queue.c ****         self->tail = (self->tail +1) % self->capacity;
  45:HAL/Src/queue.c ****         self->block = 0;
  46:HAL/Src/queue.c ****         return 1;
  47:HAL/Src/queue.c ****     }
  48:HAL/Src/queue.c **** 
  49:HAL/Src/queue.c ****     return -1;
  75              		.loc 1 49 12 view .LVU16
  76 0004 4FF0FF30 		mov	r0, #-1
  77              	.LVL2:
  50:HAL/Src/queue.c **** }
  78              		.loc 1 50 1 view .LVU17
  79 0008 7047     		bx	lr
  80              	.LVL3:
  81              	.L10:
  32:HAL/Src/queue.c ****     if(self->block  == 0){
  82              		.loc 1 32 57 view .LVU18
  83 000a 00B5     		push	{lr}
  84              	.LCFI0:
  85              		.cfi_def_cfa_offset 4
  86              		.cfi_offset 14, -4
  34:HAL/Src/queue.c ****         self->block = 1;
  87              		.loc 1 34 9 is_stmt 1 view .LVU19
  34:HAL/Src/queue.c ****         self->block = 1;
  88              		.loc 1 34 21 is_stmt 0 view .LVU20
  89 000c 0123     		movs	r3, #1
  90 000e 0370     		strb	r3, [r0]
  37:HAL/Src/queue.c ****             //如果满了，需要把现在的队列头删了，然后再进行插入,
  91              		.loc 1 37 9 is_stmt 1 view .LVU21
  37:HAL/Src/queue.c ****             //如果满了，需要把现在的队列头删了，然后再进行插入,
  92              		.loc 1 37 17 is_stmt 0 view .LVU22
  93 0010 B0F804E0 		ldrh	lr, [r0, #4]
  37:HAL/Src/queue.c ****             //如果满了，需要把现在的队列头删了，然后再进行插入,
  94              		.loc 1 37 24 view .LVU23
  95 0014 7344     		add	r3, lr, r3
  37:HAL/Src/queue.c ****             //如果满了，需要把现在的队列头删了，然后再进行插入,
  96              		.loc 1 37 35 view .LVU24
  97 0016 B0F80CC0 		ldrh	ip, [r0, #12]
  37:HAL/Src/queue.c ****             //如果满了，需要把现在的队列头删了，然后再进行插入,
  98              		.loc 1 37 29 view .LVU25
  99 001a 93FBFCF2 		sdiv	r2, r3, ip
 100 001e 0CFB1233 		mls	r3, ip, r2, r3
  37:HAL/Src/queue.c ****             //如果满了，需要把现在的队列头删了，然后再进行插入,
 101              		.loc 1 37 53 view .LVU26
 102 0022 4288     		ldrh	r2, [r0, #2]
  37:HAL/Src/queue.c ****             //如果满了，需要把现在的队列头删了，然后再进行插入,
 103              		.loc 1 37 11 view .LVU27
 104 0024 9342     		cmp	r3, r2
 105 0026 0FD0     		beq	.L11
 106              	.L4:
  43:HAL/Src/queue.c ****         self->tail = (self->tail +1) % self->capacity;
 107              		.loc 1 43 9 is_stmt 1 view .LVU28
  43:HAL/Src/queue.c ****         self->tail = (self->tail +1) % self->capacity;
 108              		.loc 1 43 13 is_stmt 0 view .LVU29
 109 0028 8368     		ldr	r3, [r0, #8]
  43:HAL/Src/queue.c ****         self->tail = (self->tail +1) % self->capacity;
 110              		.loc 1 43 32 view .LVU30
 111 002a 03F80E10 		strb	r1, [r3, lr]
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//cclILSsl.s 			page 4


  44:HAL/Src/queue.c ****         self->block = 0;
 112              		.loc 1 44 9 is_stmt 1 view .LVU31
  44:HAL/Src/queue.c ****         self->block = 0;
 113              		.loc 1 44 27 is_stmt 0 view .LVU32
 114 002e 8388     		ldrh	r3, [r0, #4]
  44:HAL/Src/queue.c ****         self->block = 0;
 115              		.loc 1 44 34 view .LVU33
 116 0030 0133     		adds	r3, r3, #1
  44:HAL/Src/queue.c ****         self->block = 0;
 117              		.loc 1 44 44 view .LVU34
 118 0032 8289     		ldrh	r2, [r0, #12]
  44:HAL/Src/queue.c ****         self->block = 0;
 119              		.loc 1 44 38 view .LVU35
 120 0034 93FBF2F1 		sdiv	r1, r3, r2
 121              	.LVL4:
  44:HAL/Src/queue.c ****         self->block = 0;
 122              		.loc 1 44 38 view .LVU36
 123 0038 02FB1133 		mls	r3, r2, r1, r3
  44:HAL/Src/queue.c ****         self->block = 0;
 124              		.loc 1 44 20 view .LVU37
 125 003c 8380     		strh	r3, [r0, #4]	@ movhi
  45:HAL/Src/queue.c ****         return 1;
 126              		.loc 1 45 9 is_stmt 1 view .LVU38
  45:HAL/Src/queue.c ****         return 1;
 127              		.loc 1 45 21 is_stmt 0 view .LVU39
 128 003e 0023     		movs	r3, #0
 129 0040 0370     		strb	r3, [r0]
  46:HAL/Src/queue.c ****     }
 130              		.loc 1 46 9 is_stmt 1 view .LVU40
  46:HAL/Src/queue.c ****     }
 131              		.loc 1 46 16 is_stmt 0 view .LVU41
 132 0042 0120     		movs	r0, #1
 133              	.LVL5:
 134              		.loc 1 50 1 view .LVU42
 135 0044 5DF804FB 		ldr	pc, [sp], #4
 136              	.LVL6:
 137              	.L11:
  40:HAL/Src/queue.c ****         }
 138              		.loc 1 40 13 is_stmt 1 view .LVU43
  40:HAL/Src/queue.c ****         }
 139              		.loc 1 40 38 is_stmt 0 view .LVU44
 140 0048 0132     		adds	r2, r2, #1
  40:HAL/Src/queue.c ****         }
 141              		.loc 1 40 43 view .LVU45
 142 004a 92FBFCF3 		sdiv	r3, r2, ip
 143 004e 0CFB1322 		mls	r2, ip, r3, r2
  40:HAL/Src/queue.c ****         }
 144              		.loc 1 40 24 view .LVU46
 145 0052 4280     		strh	r2, [r0, #2]	@ movhi
 146 0054 E8E7     		b	.L4
 147              		.cfi_endproc
 148              	.LFE289:
 150              		.section	.text.queue_pull,"ax",%progbits
 151              		.align	1
 152              		.global	queue_pull
 153              		.syntax unified
 154              		.thumb
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//cclILSsl.s 			page 5


 155              		.thumb_func
 157              	queue_pull:
 158              	.LVL7:
 159              	.LFB290:
  51:HAL/Src/queue.c **** /**
  52:HAL/Src/queue.c ****  * @brief 拉取队列len个元素（不从队列中删除）
  53:HAL/Src/queue.c ****  * @param  self             My Param doc
  54:HAL/Src/queue.c ****  * @param  temp             My Param doc
  55:HAL/Src/queue.c ****  * @param  len              My Param doc
  56:HAL/Src/queue.c ****  * @return int 
  57:HAL/Src/queue.c ****  */
  58:HAL/Src/queue.c **** int queue_pull(Queue_HandleTypeDef *self,int *temp,uint16_t len){
 160              		.loc 1 58 65 is_stmt 1 view -0
 161              		.cfi_startproc
 162              		@ args = 0, pretend = 0, frame = 0
 163              		@ frame_needed = 0, uses_anonymous_args = 0
 164              		.loc 1 58 65 is_stmt 0 view .LVU48
 165 0000 38B5     		push	{r3, r4, r5, lr}
 166              	.LCFI1:
 167              		.cfi_def_cfa_offset 16
 168              		.cfi_offset 3, -16
 169              		.cfi_offset 4, -12
 170              		.cfi_offset 5, -8
 171              		.cfi_offset 14, -4
 172 0002 0446     		mov	r4, r0
 173 0004 1546     		mov	r5, r2
  59:HAL/Src/queue.c ****     uint16_t j = 0 ;
 174              		.loc 1 59 5 is_stmt 1 view .LVU49
 175              	.LVL8:
  60:HAL/Src/queue.c ****     //如果队列被上锁了，则等待100ms
  61:HAL/Src/queue.c ****     if(self->block == 1)
 176              		.loc 1 61 5 view .LVU50
 177              		.loc 1 61 12 is_stmt 0 view .LVU51
 178 0006 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 179              		.loc 1 61 7 view .LVU52
 180 0008 012B     		cmp	r3, #1
 181 000a 0CD0     		beq	.L23
 182              	.LBB2:
  62:HAL/Src/queue.c ****     {
  63:HAL/Src/queue.c ****         HAL_Delay(100);
  64:HAL/Src/queue.c ****         if(self->block == 1)
  65:HAL/Src/queue.c ****             return -1;
  66:HAL/Src/queue.c ****     }
  67:HAL/Src/queue.c ****     else{
  68:HAL/Src/queue.c ****         self->block = 1;
 183              		.loc 1 68 9 is_stmt 1 view .LVU53
 184              		.loc 1 68 21 is_stmt 0 view .LVU54
 185 000c 0123     		movs	r3, #1
 186 000e 0370     		strb	r3, [r0]
  69:HAL/Src/queue.c ****         uint16_t size  = 0;
 187              		.loc 1 69 9 is_stmt 1 view .LVU55
 188              	.LVL9:
  70:HAL/Src/queue.c ****         size = self->tail >= self->head ? (self->tail - self->head):(self->tail + self->capacity - 
 189              		.loc 1 70 9 view .LVU56
 190              		.loc 1 70 20 is_stmt 0 view .LVU57
 191 0010 8088     		ldrh	r0, [r0, #4]
 192              	.LVL10:
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//cclILSsl.s 			page 6


 193              		.loc 1 70 34 view .LVU58
 194 0012 6388     		ldrh	r3, [r4, #2]
 195              		.loc 1 70 14 view .LVU59
 196 0014 9842     		cmp	r0, r3
 197 0016 0ED3     		bcc	.L16
 198              		.loc 1 70 14 discriminator 1 view .LVU60
 199 0018 C01A     		subs	r0, r0, r3
 200 001a 80B2     		uxth	r0, r0
 201              	.LVL11:
 202              	.L17:
  71:HAL/Src/queue.c ****         if(len > size)
 203              		.loc 1 71 9 is_stmt 1 discriminator 4 view .LVU61
 204              		.loc 1 71 11 is_stmt 0 discriminator 4 view .LVU62
 205 001c A842     		cmp	r0, r5
 206 001e 00D3     		bcc	.L18
 207              		.loc 1 71 11 view .LVU63
 208 0020 2846     		mov	r0, r5
 209              	.LVL12:
 210              	.L18:
  72:HAL/Src/queue.c ****             len = size;
  73:HAL/Src/queue.c ****         for(j = 0 ; j < len; j++){
 211              		.loc 1 73 9 is_stmt 1 view .LVU64
 212              		.loc 1 73 15 is_stmt 0 view .LVU65
 213 0022 0023     		movs	r3, #0
 214              		.loc 1 73 9 view .LVU66
 215 0024 1BE0     		b	.L19
 216              	.LVL13:
 217              	.L23:
 218              		.loc 1 73 9 view .LVU67
 219              	.LBE2:
  63:HAL/Src/queue.c ****         if(self->block == 1)
 220              		.loc 1 63 9 is_stmt 1 view .LVU68
 221 0026 6420     		movs	r0, #100
 222              	.LVL14:
  63:HAL/Src/queue.c ****         if(self->block == 1)
 223              		.loc 1 63 9 is_stmt 0 view .LVU69
 224 0028 FFF7FEFF 		bl	HAL_Delay
 225              	.LVL15:
  64:HAL/Src/queue.c ****             return -1;
 226              		.loc 1 64 9 is_stmt 1 view .LVU70
  64:HAL/Src/queue.c ****             return -1;
 227              		.loc 1 64 16 is_stmt 0 view .LVU71
 228 002c 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
  64:HAL/Src/queue.c ****             return -1;
 229              		.loc 1 64 11 view .LVU72
 230 002e 012B     		cmp	r3, #1
 231 0030 1AD0     		beq	.L21
 232 0032 2846     		mov	r0, r5
 233 0034 17E0     		b	.L12
 234              	.LVL16:
 235              	.L16:
 236              	.LBB3:
  70:HAL/Src/queue.c ****         if(len > size)
 237              		.loc 1 70 87 discriminator 2 view .LVU73
 238 0036 A289     		ldrh	r2, [r4, #12]
 239              	.LVL17:
  70:HAL/Src/queue.c ****         if(len > size)
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//cclILSsl.s 			page 7


 240              		.loc 1 70 81 discriminator 2 view .LVU74
 241 0038 1044     		add	r0, r0, r2
 242 003a 80B2     		uxth	r0, r0
  70:HAL/Src/queue.c ****         if(len > size)
 243              		.loc 1 70 14 discriminator 2 view .LVU75
 244 003c C01A     		subs	r0, r0, r3
 245 003e 80B2     		uxth	r0, r0
 246 0040 ECE7     		b	.L17
 247              	.LVL18:
 248              	.L20:
  74:HAL/Src/queue.c ****             temp[j] = self->buff[(self->head+j)% self->capacity];
 249              		.loc 1 74 13 is_stmt 1 discriminator 3 view .LVU76
 250              		.loc 1 74 39 is_stmt 0 discriminator 3 view .LVU77
 251 0042 6288     		ldrh	r2, [r4, #2]
 252              		.loc 1 74 45 discriminator 3 view .LVU78
 253 0044 1A44     		add	r2, r2, r3
 254              		.loc 1 74 54 discriminator 3 view .LVU79
 255 0046 B4F80CC0 		ldrh	ip, [r4, #12]
 256              		.loc 1 74 48 discriminator 3 view .LVU80
 257 004a 92FBFCF5 		sdiv	r5, r2, ip
 258 004e 0CFB1522 		mls	r2, ip, r5, r2
 259              		.loc 1 74 33 discriminator 3 view .LVU81
 260 0052 A568     		ldr	r5, [r4, #8]
 261 0054 AA5C     		ldrb	r2, [r5, r2]	@ zero_extendqisi2
 262              		.loc 1 74 21 discriminator 3 view .LVU82
 263 0056 41F82320 		str	r2, [r1, r3, lsl #2]
  73:HAL/Src/queue.c ****             temp[j] = self->buff[(self->head+j)% self->capacity];
 264              		.loc 1 73 31 is_stmt 1 discriminator 3 view .LVU83
 265 005a 0133     		adds	r3, r3, #1
 266              	.LVL19:
  73:HAL/Src/queue.c ****             temp[j] = self->buff[(self->head+j)% self->capacity];
 267              		.loc 1 73 31 is_stmt 0 discriminator 3 view .LVU84
 268 005c 9BB2     		uxth	r3, r3
 269              	.LVL20:
 270              	.L19:
  73:HAL/Src/queue.c ****             temp[j] = self->buff[(self->head+j)% self->capacity];
 271              		.loc 1 73 23 is_stmt 1 discriminator 1 view .LVU85
 272 005e 9842     		cmp	r0, r3
 273 0060 EFD8     		bhi	.L20
  75:HAL/Src/queue.c ****         }
  76:HAL/Src/queue.c ****         self->block = 0;
 274              		.loc 1 76 9 view .LVU86
 275              		.loc 1 76 21 is_stmt 0 view .LVU87
 276 0062 0023     		movs	r3, #0
 277              	.LVL21:
 278              		.loc 1 76 21 view .LVU88
 279 0064 2370     		strb	r3, [r4]
 280              		.loc 1 76 21 view .LVU89
 281              	.LBE3:
  77:HAL/Src/queue.c ****     }
  78:HAL/Src/queue.c ****     return len;
 282              		.loc 1 78 5 is_stmt 1 view .LVU90
 283              	.LVL22:
 284              	.L12:
  79:HAL/Src/queue.c **** }
 285              		.loc 1 79 1 is_stmt 0 view .LVU91
 286 0066 38BD     		pop	{r3, r4, r5, pc}
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//cclILSsl.s 			page 8


 287              	.LVL23:
 288              	.L21:
  65:HAL/Src/queue.c ****     }
 289              		.loc 1 65 20 view .LVU92
 290 0068 4FF0FF30 		mov	r0, #-1
 291 006c FBE7     		b	.L12
 292              		.cfi_endproc
 293              	.LFE290:
 295              		.section	.text.queue_pop,"ax",%progbits
 296              		.align	1
 297              		.global	queue_pop
 298              		.syntax unified
 299              		.thumb
 300              		.thumb_func
 302              	queue_pop:
 303              	.LVL24:
 304              	.LFB291:
  80:HAL/Src/queue.c **** 
  81:HAL/Src/queue.c **** /**
  82:HAL/Src/queue.c ****  * @brief  弹出队列len个元素（要从队列中删除）
  83:HAL/Src/queue.c ****  * @param  self             My Param doc
  84:HAL/Src/queue.c ****  * @param  temp             My Param doc
  85:HAL/Src/queue.c ****  * @param  len              My Param doc
  86:HAL/Src/queue.c ****  * @return int 
  87:HAL/Src/queue.c ****  *          -1: 队列无法访问
  88:HAL/Src/queue.c ****  *          len： 弹出元素数量
  89:HAL/Src/queue.c ****  */
  90:HAL/Src/queue.c **** int queue_pop(Queue_HandleTypeDef *self,uint8_t *temp,uint16_t len){
 305              		.loc 1 90 68 is_stmt 1 view -0
 306              		.cfi_startproc
 307              		@ args = 0, pretend = 0, frame = 0
 308              		@ frame_needed = 0, uses_anonymous_args = 0
 309              		.loc 1 90 68 is_stmt 0 view .LVU94
 310 0000 38B5     		push	{r3, r4, r5, lr}
 311              	.LCFI2:
 312              		.cfi_def_cfa_offset 16
 313              		.cfi_offset 3, -16
 314              		.cfi_offset 4, -12
 315              		.cfi_offset 5, -8
 316              		.cfi_offset 14, -4
 317 0002 0446     		mov	r4, r0
 318 0004 1546     		mov	r5, r2
  91:HAL/Src/queue.c ****     uint16_t j = 0 ;
 319              		.loc 1 91 5 is_stmt 1 view .LVU95
 320              	.LVL25:
  92:HAL/Src/queue.c ****     //如果队列被上锁了，则等待100ms
  93:HAL/Src/queue.c ****     if(self->block == 1)
 321              		.loc 1 93 5 view .LVU96
 322              		.loc 1 93 12 is_stmt 0 view .LVU97
 323 0006 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 324              		.loc 1 93 7 view .LVU98
 325 0008 012B     		cmp	r3, #1
 326 000a 0CD0     		beq	.L35
 327              	.LBB4:
  94:HAL/Src/queue.c ****     {
  95:HAL/Src/queue.c ****         HAL_Delay(100);
  96:HAL/Src/queue.c ****         if(self->block == 1)
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//cclILSsl.s 			page 9


  97:HAL/Src/queue.c ****             return -1;
  98:HAL/Src/queue.c ****     }
  99:HAL/Src/queue.c ****     else{
 100:HAL/Src/queue.c ****         self->block = 1;
 328              		.loc 1 100 9 is_stmt 1 view .LVU99
 329              		.loc 1 100 21 is_stmt 0 view .LVU100
 330 000c 0123     		movs	r3, #1
 331 000e 0370     		strb	r3, [r0]
 101:HAL/Src/queue.c ****         uint16_t size  = self->tail >= self->head ? (self->tail - self->head):(self->tail + self->c
 332              		.loc 1 101 9 is_stmt 1 view .LVU101
 333              		.loc 1 101 30 is_stmt 0 view .LVU102
 334 0010 8088     		ldrh	r0, [r0, #4]
 335              	.LVL26:
 336              		.loc 1 101 44 view .LVU103
 337 0012 6388     		ldrh	r3, [r4, #2]
 338              		.loc 1 101 18 view .LVU104
 339 0014 9842     		cmp	r0, r3
 340 0016 0ED3     		bcc	.L28
 341              		.loc 1 101 18 discriminator 1 view .LVU105
 342 0018 C01A     		subs	r0, r0, r3
 343 001a 80B2     		uxth	r0, r0
 344              	.LVL27:
 345              	.L29:
 102:HAL/Src/queue.c ****         if(len > size)
 346              		.loc 1 102 9 is_stmt 1 discriminator 4 view .LVU106
 347              		.loc 1 102 11 is_stmt 0 discriminator 4 view .LVU107
 348 001c A842     		cmp	r0, r5
 349 001e 00D3     		bcc	.L30
 350              		.loc 1 102 11 view .LVU108
 351 0020 2846     		mov	r0, r5
 352              	.LVL28:
 353              	.L30:
 103:HAL/Src/queue.c ****             len = size;
 104:HAL/Src/queue.c ****         for(j = 0 ; j < len; j++){
 354              		.loc 1 104 9 is_stmt 1 view .LVU109
 355              		.loc 1 104 15 is_stmt 0 view .LVU110
 356 0022 0022     		movs	r2, #0
 357              		.loc 1 104 9 view .LVU111
 358 0024 1CE0     		b	.L31
 359              	.LVL29:
 360              	.L35:
 361              		.loc 1 104 9 view .LVU112
 362              	.LBE4:
  95:HAL/Src/queue.c ****         if(self->block == 1)
 363              		.loc 1 95 9 is_stmt 1 view .LVU113
 364 0026 6420     		movs	r0, #100
 365              	.LVL30:
  95:HAL/Src/queue.c ****         if(self->block == 1)
 366              		.loc 1 95 9 is_stmt 0 view .LVU114
 367 0028 FFF7FEFF 		bl	HAL_Delay
 368              	.LVL31:
  96:HAL/Src/queue.c ****             return -1;
 369              		.loc 1 96 9 is_stmt 1 view .LVU115
  96:HAL/Src/queue.c ****             return -1;
 370              		.loc 1 96 16 is_stmt 0 view .LVU116
 371 002c 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
  96:HAL/Src/queue.c ****             return -1;
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//cclILSsl.s 			page 10


 372              		.loc 1 96 11 view .LVU117
 373 002e 012B     		cmp	r3, #1
 374 0030 1BD0     		beq	.L33
 375 0032 2846     		mov	r0, r5
 376 0034 18E0     		b	.L24
 377              	.LVL32:
 378              	.L28:
 379              	.LBB5:
 101:HAL/Src/queue.c ****         if(len > size)
 380              		.loc 1 101 97 discriminator 2 view .LVU118
 381 0036 A289     		ldrh	r2, [r4, #12]
 382              	.LVL33:
 101:HAL/Src/queue.c ****         if(len > size)
 383              		.loc 1 101 91 discriminator 2 view .LVU119
 384 0038 1044     		add	r0, r0, r2
 385 003a 80B2     		uxth	r0, r0
 101:HAL/Src/queue.c ****         if(len > size)
 386              		.loc 1 101 18 discriminator 2 view .LVU120
 387 003c C01A     		subs	r0, r0, r3
 388 003e 80B2     		uxth	r0, r0
 389 0040 ECE7     		b	.L29
 390              	.LVL34:
 391              	.L32:
 105:HAL/Src/queue.c ****             temp[j] = self->buff[self->head];
 392              		.loc 1 105 13 is_stmt 1 discriminator 3 view .LVU121
 393              		.loc 1 105 38 is_stmt 0 discriminator 3 view .LVU122
 394 0042 6388     		ldrh	r3, [r4, #2]
 395              		.loc 1 105 33 discriminator 3 view .LVU123
 396 0044 A568     		ldr	r5, [r4, #8]
 397 0046 EB5C     		ldrb	r3, [r5, r3]	@ zero_extendqisi2
 398              		.loc 1 105 21 discriminator 3 view .LVU124
 399 0048 8B54     		strb	r3, [r1, r2]
 106:HAL/Src/queue.c ****             self->head = (self->head + 1) % self->capacity;
 400              		.loc 1 106 13 is_stmt 1 discriminator 3 view .LVU125
 401              		.loc 1 106 31 is_stmt 0 discriminator 3 view .LVU126
 402 004a 6388     		ldrh	r3, [r4, #2]
 403              		.loc 1 106 38 discriminator 3 view .LVU127
 404 004c 0133     		adds	r3, r3, #1
 405              		.loc 1 106 49 discriminator 3 view .LVU128
 406 004e B4F80CC0 		ldrh	ip, [r4, #12]
 407              		.loc 1 106 43 discriminator 3 view .LVU129
 408 0052 93FBFCFE 		sdiv	lr, r3, ip
 409 0056 0CFB1E33 		mls	r3, ip, lr, r3
 410              		.loc 1 106 24 discriminator 3 view .LVU130
 411 005a 6380     		strh	r3, [r4, #2]	@ movhi
 104:HAL/Src/queue.c ****             temp[j] = self->buff[self->head];
 412              		.loc 1 104 31 is_stmt 1 discriminator 3 view .LVU131
 413 005c 0132     		adds	r2, r2, #1
 414              	.LVL35:
 104:HAL/Src/queue.c ****             temp[j] = self->buff[self->head];
 415              		.loc 1 104 31 is_stmt 0 discriminator 3 view .LVU132
 416 005e 92B2     		uxth	r2, r2
 417              	.LVL36:
 418              	.L31:
 104:HAL/Src/queue.c ****             temp[j] = self->buff[self->head];
 419              		.loc 1 104 23 is_stmt 1 discriminator 1 view .LVU133
 420 0060 9042     		cmp	r0, r2
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//cclILSsl.s 			page 11


 421 0062 EED8     		bhi	.L32
 107:HAL/Src/queue.c ****         }
 108:HAL/Src/queue.c ****         self->block = 0;
 422              		.loc 1 108 9 view .LVU134
 423              		.loc 1 108 21 is_stmt 0 view .LVU135
 424 0064 0023     		movs	r3, #0
 425 0066 2370     		strb	r3, [r4]
 426              		.loc 1 108 21 view .LVU136
 427              	.LBE5:
 109:HAL/Src/queue.c ****     }
 110:HAL/Src/queue.c ****     return len;
 428              		.loc 1 110 5 is_stmt 1 view .LVU137
 429              	.LVL37:
 430              	.L24:
 111:HAL/Src/queue.c **** }
 431              		.loc 1 111 1 is_stmt 0 view .LVU138
 432 0068 38BD     		pop	{r3, r4, r5, pc}
 433              	.LVL38:
 434              	.L33:
  97:HAL/Src/queue.c ****     }
 435              		.loc 1 97 20 view .LVU139
 436 006a 4FF0FF30 		mov	r0, #-1
 437 006e FBE7     		b	.L24
 438              		.cfi_endproc
 439              	.LFE291:
 441              		.section	.text.queue_is_full,"ax",%progbits
 442              		.align	1
 443              		.global	queue_is_full
 444              		.syntax unified
 445              		.thumb
 446              		.thumb_func
 448              	queue_is_full:
 449              	.LVL39:
 450              	.LFB292:
 112:HAL/Src/queue.c **** 
 113:HAL/Src/queue.c **** /**
 114:HAL/Src/queue.c ****  * @brief 判断队列是否满
 115:HAL/Src/queue.c ****  * @param  self             My Param doc
 116:HAL/Src/queue.c ****  * @return int 
 117:HAL/Src/queue.c ****  *  *       -1: 队列无法访问
 118:HAL/Src/queue.c ****  *          1: 队列满
 119:HAL/Src/queue.c ****  *          0: 队列未满
 120:HAL/Src/queue.c ****  */
 121:HAL/Src/queue.c **** 
 122:HAL/Src/queue.c **** int queue_is_full(Queue_HandleTypeDef *self){
 451              		.loc 1 122 45 is_stmt 1 view -0
 452              		.cfi_startproc
 453              		@ args = 0, pretend = 0, frame = 0
 454              		@ frame_needed = 0, uses_anonymous_args = 0
 455              		.loc 1 122 45 is_stmt 0 view .LVU141
 456 0000 08B5     		push	{r3, lr}
 457              	.LCFI3:
 458              		.cfi_def_cfa_offset 8
 459              		.cfi_offset 3, -8
 460              		.cfi_offset 14, -4
 123:HAL/Src/queue.c ****     int re_code = -1;
 461              		.loc 1 123 5 is_stmt 1 view .LVU142
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//cclILSsl.s 			page 12


 462              	.LVL40:
 124:HAL/Src/queue.c ****     if(self->block == 1)
 463              		.loc 1 124 5 view .LVU143
 464              		.loc 1 124 12 is_stmt 0 view .LVU144
 465 0002 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
 466              		.loc 1 124 7 view .LVU145
 467 0004 012A     		cmp	r2, #1
 468 0006 10D0     		beq	.L42
 469 0008 0346     		mov	r3, r0
 125:HAL/Src/queue.c ****     {
 126:HAL/Src/queue.c ****         HAL_Delay(100);
 127:HAL/Src/queue.c ****         if(self->block == 1)
 128:HAL/Src/queue.c ****             re_code = -1;
 129:HAL/Src/queue.c ****     }
 130:HAL/Src/queue.c ****     else{
 131:HAL/Src/queue.c ****         self->block = 1;
 470              		.loc 1 131 9 is_stmt 1 view .LVU146
 471              		.loc 1 131 21 is_stmt 0 view .LVU147
 472 000a 0122     		movs	r2, #1
 473 000c 0270     		strb	r2, [r0]
 132:HAL/Src/queue.c ****        if(self->head == ((self->tail + 1) % self->capacity))
 474              		.loc 1 132 8 is_stmt 1 view .LVU148
 475              		.loc 1 132 15 is_stmt 0 view .LVU149
 476 000e 4088     		ldrh	r0, [r0, #2]
 477              	.LVL41:
 478              		.loc 1 132 31 view .LVU150
 479 0010 9A88     		ldrh	r2, [r3, #4]
 480              		.loc 1 132 38 view .LVU151
 481 0012 0132     		adds	r2, r2, #1
 482              		.loc 1 132 49 view .LVU152
 483 0014 9989     		ldrh	r1, [r3, #12]
 484              		.loc 1 132 43 view .LVU153
 485 0016 92FBF1FC 		sdiv	ip, r2, r1
 486 001a 01FB1C22 		mls	r2, r1, ip, r2
 487              		.loc 1 132 10 view .LVU154
 488 001e 9042     		cmp	r0, r2
 489 0020 09D0     		beq	.L43
 133:HAL/Src/queue.c ****         re_code = 1;
 134:HAL/Src/queue.c ****         else
 135:HAL/Src/queue.c ****         re_code = 0;
 490              		.loc 1 135 17 view .LVU155
 491 0022 0020     		movs	r0, #0
 492              	.L39:
 493              	.LVL42:
 136:HAL/Src/queue.c ****         self->block = 0;
 494              		.loc 1 136 9 is_stmt 1 view .LVU156
 495              		.loc 1 136 21 is_stmt 0 view .LVU157
 496 0024 0022     		movs	r2, #0
 497 0026 1A70     		strb	r2, [r3]
 137:HAL/Src/queue.c ****     }
 138:HAL/Src/queue.c ****     return re_code;
 498              		.loc 1 138 5 is_stmt 1 view .LVU158
 499              	.LVL43:
 500              	.L36:
 139:HAL/Src/queue.c **** }
 501              		.loc 1 139 1 is_stmt 0 view .LVU159
 502 0028 08BD     		pop	{r3, pc}
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//cclILSsl.s 			page 13


 503              	.LVL44:
 504              	.L42:
 126:HAL/Src/queue.c ****         if(self->block == 1)
 505              		.loc 1 126 9 is_stmt 1 view .LVU160
 506 002a 6420     		movs	r0, #100
 507              	.LVL45:
 126:HAL/Src/queue.c ****         if(self->block == 1)
 508              		.loc 1 126 9 is_stmt 0 view .LVU161
 509 002c FFF7FEFF 		bl	HAL_Delay
 510              	.LVL46:
 127:HAL/Src/queue.c ****             re_code = -1;
 511              		.loc 1 127 9 is_stmt 1 view .LVU162
 123:HAL/Src/queue.c ****     if(self->block == 1)
 512              		.loc 1 123 9 is_stmt 0 view .LVU163
 513 0030 4FF0FF30 		mov	r0, #-1
 514 0034 F8E7     		b	.L36
 515              	.LVL47:
 516              	.L43:
 133:HAL/Src/queue.c ****         else
 517              		.loc 1 133 17 view .LVU164
 518 0036 0120     		movs	r0, #1
 519 0038 F4E7     		b	.L39
 520              		.cfi_endproc
 521              	.LFE292:
 523              		.section	.text.queue_is_empty,"ax",%progbits
 524              		.align	1
 525              		.global	queue_is_empty
 526              		.syntax unified
 527              		.thumb
 528              		.thumb_func
 530              	queue_is_empty:
 531              	.LVL48:
 532              	.LFB293:
 140:HAL/Src/queue.c **** 
 141:HAL/Src/queue.c **** /**
 142:HAL/Src/queue.c ****  * @brief 判断队列是否为空
 143:HAL/Src/queue.c ****  * @param  self             My Param doc
 144:HAL/Src/queue.c ****  * @return int 
 145:HAL/Src/queue.c ****  *         -1: 队列无法访问
 146:HAL/Src/queue.c ****  *          1: 队列为空
 147:HAL/Src/queue.c ****  *          0: 队列非空
 148:HAL/Src/queue.c ****  */
 149:HAL/Src/queue.c **** 
 150:HAL/Src/queue.c **** int queue_is_empty(Queue_HandleTypeDef *self){
 533              		.loc 1 150 46 is_stmt 1 view -0
 534              		.cfi_startproc
 535              		@ args = 0, pretend = 0, frame = 0
 536              		@ frame_needed = 0, uses_anonymous_args = 0
 537              		.loc 1 150 46 is_stmt 0 view .LVU166
 538 0000 08B5     		push	{r3, lr}
 539              	.LCFI4:
 540              		.cfi_def_cfa_offset 8
 541              		.cfi_offset 3, -8
 542              		.cfi_offset 14, -4
 151:HAL/Src/queue.c ****     int re_code = -1;
 543              		.loc 1 151 5 is_stmt 1 view .LVU167
 544              	.LVL49:
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//cclILSsl.s 			page 14


 152:HAL/Src/queue.c ****     if(self->block == 1)
 545              		.loc 1 152 5 view .LVU168
 546              		.loc 1 152 12 is_stmt 0 view .LVU169
 547 0002 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
 548              		.loc 1 152 7 view .LVU170
 549 0004 012A     		cmp	r2, #1
 550 0006 0AD0     		beq	.L50
 551 0008 0346     		mov	r3, r0
 153:HAL/Src/queue.c ****     {
 154:HAL/Src/queue.c ****         HAL_Delay(100);
 155:HAL/Src/queue.c ****         if(self->block == 1)
 156:HAL/Src/queue.c ****             re_code = -1;
 157:HAL/Src/queue.c ****     }
 158:HAL/Src/queue.c ****     else{
 159:HAL/Src/queue.c ****         self->block = 1;
 552              		.loc 1 159 9 is_stmt 1 view .LVU171
 553              		.loc 1 159 21 is_stmt 0 view .LVU172
 554 000a 0122     		movs	r2, #1
 555 000c 0270     		strb	r2, [r0]
 160:HAL/Src/queue.c ****        if(self->head == self->tail)
 556              		.loc 1 160 8 is_stmt 1 view .LVU173
 557              		.loc 1 160 15 is_stmt 0 view .LVU174
 558 000e 4188     		ldrh	r1, [r0, #2]
 559              		.loc 1 160 29 view .LVU175
 560 0010 8288     		ldrh	r2, [r0, #4]
 561              		.loc 1 160 10 view .LVU176
 562 0012 9142     		cmp	r1, r2
 563 0014 09D0     		beq	.L51
 161:HAL/Src/queue.c ****         re_code = 1;
 162:HAL/Src/queue.c ****         else
 163:HAL/Src/queue.c ****         re_code = 0;
 564              		.loc 1 163 17 view .LVU177
 565 0016 0020     		movs	r0, #0
 566              	.LVL50:
 567              	.L47:
 164:HAL/Src/queue.c ****         self->block = 0;
 568              		.loc 1 164 9 is_stmt 1 view .LVU178
 569              		.loc 1 164 21 is_stmt 0 view .LVU179
 570 0018 0022     		movs	r2, #0
 571 001a 1A70     		strb	r2, [r3]
 165:HAL/Src/queue.c ****     }
 166:HAL/Src/queue.c ****     return re_code;
 572              		.loc 1 166 5 is_stmt 1 view .LVU180
 573              	.LVL51:
 574              	.L44:
 167:HAL/Src/queue.c **** }...
 575              		.loc 1 167 1 is_stmt 0 view .LVU181
 576 001c 08BD     		pop	{r3, pc}
 577              	.LVL52:
 578              	.L50:
 154:HAL/Src/queue.c ****         HAL_Delay(100);
 579              		.loc 1 154 9 is_stmt 1 view .LVU182
 580 001e 6420     		movs	r0, #100
 581              	.LVL53:
 154:HAL/Src/queue.c ****         HAL_Delay(100);
 582              		.loc 1 154 9 is_stmt 0 view .LVU183
 583 0020 FFF7FEFF 		bl	HAL_Delay
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//cclILSsl.s 			page 15


 584              	.LVL54:
 155:HAL/Src/queue.c ****         if(self->block == 1)
 585              		.loc 1 155 9 is_stmt 1 view .LVU184
 151:HAL/Src/queue.c ****     int re_code = -1;
 586              		.loc 1 151 9 is_stmt 0 view .LVU185
 587 0024 4FF0FF30 		mov	r0, #-1
 588 0028 F8E7     		b	.L44
 589              	.LVL55:
 590              	.L51:
 161:HAL/Src/queue.c ****         re_code = 1;
 591              		.loc 1 161 17 view .LVU186
 592 002a 0120     		movs	r0, #1
 593              	.LVL56:
 161:HAL/Src/queue.c ****         re_code = 1;
 594              		.loc 1 161 17 view .LVU187
 595 002c F4E7     		b	.L47
 596              		.cfi_endproc
 597              	.LFE293:
 599              		.text
 600              	.Letext0:
 601              		.file 2 "/Applications/ArmGNUToolchain/12.3.rel1/arm-none-eabi/arm-none-eabi/include/machine/_defa
 602              		.file 3 "/Applications/ArmGNUToolchain/12.3.rel1/arm-none-eabi/arm-none-eabi/include/sys/_stdint.h
 603              		.file 4 "HAL/Inc/queue.h"
 604              		.file 5 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal.h"
ARM GAS  /var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//cclILSsl.s 			page 16


DEFINED SYMBOLS
                            *ABS*:00000000 queue.c
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//cclILSsl.s:21     .text.queue_init:00000000 $t
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//cclILSsl.s:27     .text.queue_init:00000000 queue_init
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//cclILSsl.s:57     .text.queue_insert:00000000 $t
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//cclILSsl.s:63     .text.queue_insert:00000000 queue_insert
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//cclILSsl.s:151    .text.queue_pull:00000000 $t
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//cclILSsl.s:157    .text.queue_pull:00000000 queue_pull
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//cclILSsl.s:296    .text.queue_pop:00000000 $t
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//cclILSsl.s:302    .text.queue_pop:00000000 queue_pop
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//cclILSsl.s:442    .text.queue_is_full:00000000 $t
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//cclILSsl.s:448    .text.queue_is_full:00000000 queue_is_full
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//cclILSsl.s:524    .text.queue_is_empty:00000000 $t
/var/folders/h7/llxr0vxd5sd9z74__7r6nx9r0000gn/T//cclILSsl.s:530    .text.queue_is_empty:00000000 queue_is_empty

UNDEFINED SYMBOLS
HAL_Delay
