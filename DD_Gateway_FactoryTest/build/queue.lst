ARM GAS  C:\Users\CL\AppData\Local\Temp\ccHHlWNQ.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 4
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"queue.c"
  16              		.text
  17              		.section	.text.queue_init,"ax",%progbits
  18              		.align	1
  19              		.global	queue_init
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	queue_init:
  25              		@ args = 0, pretend = 0, frame = 0
  26              		@ frame_needed = 0, uses_anonymous_args = 0
  27              		@ link register save eliminated.
  28 0000 0023     		movs	r3, #0
  29 0002 0370     		strb	r3, [r0]
  30 0004 4380     		strh	r3, [r0, #2]	@ movhi
  31 0006 8380     		strh	r3, [r0, #4]	@ movhi
  32 0008 8281     		strh	r2, [r0, #12]	@ movhi
  33 000a 8160     		str	r1, [r0, #8]
  34 000c 7047     		bx	lr
  36              		.section	.text.queue_insert,"ax",%progbits
  37              		.align	1
  38              		.global	queue_insert
  39              		.syntax unified
  40              		.thumb
  41              		.thumb_func
  43              	queue_insert:
  44              		@ args = 0, pretend = 0, frame = 0
  45              		@ frame_needed = 0, uses_anonymous_args = 0
  46 0000 70B5     		push	{r4, r5, r6, lr}
  47 0002 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
  48 0004 BBB9     		cbnz	r3, .L5
  49 0006 8588     		ldrh	r5, [r0, #4]
  50 0008 8489     		ldrh	r4, [r0, #12]
  51 000a 6B1C     		adds	r3, r5, #1
  52 000c B3FBF4F2 		udiv	r2, r3, r4
  53 0010 04FB1233 		mls	r3, r4, r2, r3
  54 0014 4288     		ldrh	r2, [r0, #2]
  55 0016 9342     		cmp	r3, r2
  56 0018 01BF     		itttt	eq
  57 001a 5A1C     		addeq	r2, r3, #1
  58 001c B2FBF4F6 		udiveq	r6, r2, r4
  59 0020 04FB1622 		mlseq	r2, r4, r6, r2
  60 0024 4280     		strheq	r2, [r0, #2]	@ movhi
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccHHlWNQ.s 			page 2


  61 0026 8268     		ldr	r2, [r0, #8]
  62 0028 42F82510 		str	r1, [r2, r5, lsl #2]
  63 002c 8380     		strh	r3, [r0, #4]	@ movhi
  64 002e 0023     		movs	r3, #0
  65 0030 0370     		strb	r3, [r0]
  66 0032 0120     		movs	r0, #1
  67              	.L2:
  68 0034 70BD     		pop	{r4, r5, r6, pc}
  69              	.L5:
  70 0036 4FF0FF30 		mov	r0, #-1
  71 003a FBE7     		b	.L2
  73              		.section	.text.queue_pull,"ax",%progbits
  74              		.align	1
  75              		.global	queue_pull
  76              		.syntax unified
  77              		.thumb
  78              		.thumb_func
  80              	queue_pull:
  81              		@ args = 0, pretend = 0, frame = 0
  82              		@ frame_needed = 0, uses_anonymous_args = 0
  83 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
  84 0002 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
  85 0004 012B     		cmp	r3, #1
  86 0006 0446     		mov	r4, r0
  87 0008 1546     		mov	r5, r2
  88 000a 08D1     		bne	.L7
  89 000c 6420     		movs	r0, #100
  90 000e FFF7FEFF 		bl	HAL_Delay
  91 0012 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
  92 0014 012B     		cmp	r3, #1
  93 0016 13D1     		bne	.L9
  94 0018 4FF0FF30 		mov	r0, #-1
  95 001c 11E0     		b	.L6
  96              	.L7:
  97 001e 8388     		ldrh	r3, [r0, #4]
  98 0020 4288     		ldrh	r2, [r0, #2]
  99 0022 9342     		cmp	r3, r2
 100 0024 3CBF     		itt	cc
 101 0026 8089     		ldrhcc	r0, [r0, #12]
 102 0028 1B18     		addcc	r3, r3, r0
 103 002a 9B1A     		subs	r3, r3, r2
 104 002c 9BB2     		uxth	r3, r3
 105 002e 9D42     		cmp	r5, r3
 106 0030 28BF     		it	cs
 107 0032 1D46     		movcs	r5, r3
 108 0034 0023     		movs	r3, #0
 109              	.L12:
 110 0036 98B2     		uxth	r0, r3
 111 0038 8542     		cmp	r5, r0
 112 003a 03D8     		bhi	.L13
 113 003c 0023     		movs	r3, #0
 114 003e 2370     		strb	r3, [r4]
 115              	.L9:
 116 0040 2846     		mov	r0, r5
 117              	.L6:
 118 0042 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 119              	.L13:
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccHHlWNQ.s 			page 3


 120 0044 A689     		ldrh	r6, [r4, #12]
 121 0046 D018     		adds	r0, r2, r3
 122 0048 B0FBF6F7 		udiv	r7, r0, r6
 123 004c 06FB1700 		mls	r0, r6, r7, r0
 124 0050 A668     		ldr	r6, [r4, #8]
 125 0052 56F82000 		ldr	r0, [r6, r0, lsl #2]
 126 0056 41F82300 		str	r0, [r1, r3, lsl #2]
 127 005a 0133     		adds	r3, r3, #1
 128 005c EBE7     		b	.L12
 130              		.section	.text.queue_pop,"ax",%progbits
 131              		.align	1
 132              		.global	queue_pop
 133              		.syntax unified
 134              		.thumb
 135              		.thumb_func
 137              	queue_pop:
 138              		@ args = 0, pretend = 0, frame = 0
 139              		@ frame_needed = 0, uses_anonymous_args = 0
 140 0000 70B5     		push	{r4, r5, r6, lr}
 141 0002 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 142 0004 012B     		cmp	r3, #1
 143 0006 0446     		mov	r4, r0
 144 0008 1546     		mov	r5, r2
 145 000a 08D1     		bne	.L17
 146 000c 6420     		movs	r0, #100
 147 000e FFF7FEFF 		bl	HAL_Delay
 148 0012 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 149 0014 012B     		cmp	r3, #1
 150 0016 13D1     		bne	.L19
 151 0018 4FF0FF30 		mov	r0, #-1
 152 001c 11E0     		b	.L16
 153              	.L17:
 154 001e 8388     		ldrh	r3, [r0, #4]
 155 0020 4288     		ldrh	r2, [r0, #2]
 156 0022 9342     		cmp	r3, r2
 157 0024 3CBF     		itt	cc
 158 0026 8089     		ldrhcc	r0, [r0, #12]
 159 0028 1B18     		addcc	r3, r3, r0
 160 002a 9B1A     		subs	r3, r3, r2
 161 002c 9BB2     		uxth	r3, r3
 162 002e 9D42     		cmp	r5, r3
 163 0030 28BF     		it	cs
 164 0032 1D46     		movcs	r5, r3
 165 0034 01EB8500 		add	r0, r1, r5, lsl #2
 166              	.L22:
 167 0038 8842     		cmp	r0, r1
 168 003a 03D1     		bne	.L23
 169 003c 0023     		movs	r3, #0
 170 003e 2370     		strb	r3, [r4]
 171              	.L19:
 172 0040 2846     		mov	r0, r5
 173              	.L16:
 174 0042 70BD     		pop	{r4, r5, r6, pc}
 175              	.L23:
 176 0044 6388     		ldrh	r3, [r4, #2]
 177 0046 A268     		ldr	r2, [r4, #8]
 178 0048 52F82320 		ldr	r2, [r2, r3, lsl #2]
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccHHlWNQ.s 			page 4


 179 004c 41F8042B 		str	r2, [r1], #4
 180 0050 A289     		ldrh	r2, [r4, #12]
 181 0052 0133     		adds	r3, r3, #1
 182 0054 B3FBF2F6 		udiv	r6, r3, r2
 183 0058 02FB1633 		mls	r3, r2, r6, r3
 184 005c 6380     		strh	r3, [r4, #2]	@ movhi
 185 005e EBE7     		b	.L22
 187              		.section	.text.queue_is_full,"ax",%progbits
 188              		.align	1
 189              		.global	queue_is_full
 190              		.syntax unified
 191              		.thumb
 192              		.thumb_func
 194              	queue_is_full:
 195              		@ args = 0, pretend = 0, frame = 0
 196              		@ frame_needed = 0, uses_anonymous_args = 0
 197 0000 08B5     		push	{r3, lr}
 198 0002 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 199 0004 012B     		cmp	r3, #1
 200 0006 0246     		mov	r2, r0
 201 0008 05D1     		bne	.L27
 202 000a 6420     		movs	r0, #100
 203 000c FFF7FEFF 		bl	HAL_Delay
 204 0010 4FF0FF30 		mov	r0, #-1
 205              	.L26:
 206 0014 08BD     		pop	{r3, pc}
 207              	.L27:
 208 0016 8388     		ldrh	r3, [r0, #4]
 209 0018 8089     		ldrh	r0, [r0, #12]
 210 001a 0133     		adds	r3, r3, #1
 211 001c B3FBF0F1 		udiv	r1, r3, r0
 212 0020 00FB1133 		mls	r3, r0, r1, r3
 213 0024 5088     		ldrh	r0, [r2, #2]
 214 0026 1B1A     		subs	r3, r3, r0
 215 0028 5842     		rsbs	r0, r3, #0
 216 002a 5841     		adcs	r0, r0, r3
 217 002c 0023     		movs	r3, #0
 218 002e 1370     		strb	r3, [r2]
 219 0030 F0E7     		b	.L26
 221              		.section	.text.queue_is_empty,"ax",%progbits
 222              		.align	1
 223              		.global	queue_is_empty
 224              		.syntax unified
 225              		.thumb
 226              		.thumb_func
 228              	queue_is_empty:
 229              		@ args = 0, pretend = 0, frame = 0
 230              		@ frame_needed = 0, uses_anonymous_args = 0
 231 0000 08B5     		push	{r3, lr}
 232 0002 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 233 0004 012B     		cmp	r3, #1
 234 0006 06D1     		bne	.L30
 235 0008 6420     		movs	r0, #100
 236 000a FFF7FEFF 		bl	HAL_Delay
 237 000e 4FF0FF33 		mov	r3, #-1
 238              	.L29:
 239 0012 1846     		mov	r0, r3
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccHHlWNQ.s 			page 5


 240 0014 08BD     		pop	{r3, pc}
 241              	.L30:
 242 0016 4388     		ldrh	r3, [r0, #2]
 243 0018 8288     		ldrh	r2, [r0, #4]
 244 001a 9A1A     		subs	r2, r3, r2
 245 001c 5342     		rsbs	r3, r2, #0
 246 001e 5341     		adcs	r3, r3, r2
 247 0020 0022     		movs	r2, #0
 248 0022 0270     		strb	r2, [r0]
 249 0024 F5E7     		b	.L29
 251              		.ident	"GCC: (GNU Arm Embedded Toolchain 10.3-2021.10) 10.3.1 20210824 (release)"
ARM GAS  C:\Users\CL\AppData\Local\Temp\ccHHlWNQ.s 			page 6


DEFINED SYMBOLS
                            *ABS*:00000000 queue.c
C:\Users\CL\AppData\Local\Temp\ccHHlWNQ.s:18     .text.queue_init:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccHHlWNQ.s:24     .text.queue_init:00000000 queue_init
C:\Users\CL\AppData\Local\Temp\ccHHlWNQ.s:37     .text.queue_insert:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccHHlWNQ.s:43     .text.queue_insert:00000000 queue_insert
C:\Users\CL\AppData\Local\Temp\ccHHlWNQ.s:74     .text.queue_pull:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccHHlWNQ.s:80     .text.queue_pull:00000000 queue_pull
C:\Users\CL\AppData\Local\Temp\ccHHlWNQ.s:131    .text.queue_pop:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccHHlWNQ.s:137    .text.queue_pop:00000000 queue_pop
C:\Users\CL\AppData\Local\Temp\ccHHlWNQ.s:188    .text.queue_is_full:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccHHlWNQ.s:194    .text.queue_is_full:00000000 queue_is_full
C:\Users\CL\AppData\Local\Temp\ccHHlWNQ.s:222    .text.queue_is_empty:00000000 $t
C:\Users\CL\AppData\Local\Temp\ccHHlWNQ.s:228    .text.queue_is_empty:00000000 queue_is_empty

UNDEFINED SYMBOLS
HAL_Delay
